(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HI={exports:{}},Gy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l6=Symbol.for("react.transitional.element"),u6=Symbol.for("react.fragment");function qI(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:l6,type:t,key:r,ref:e!==void 0?e:null,props:n}}Gy.Fragment=u6;Gy.jsx=qI;Gy.jsxs=qI;HI.exports=Gy;var E=HI.exports,GI={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw=Symbol.for("react.transitional.element"),c6=Symbol.for("react.portal"),h6=Symbol.for("react.fragment"),d6=Symbol.for("react.strict_mode"),f6=Symbol.for("react.profiler"),m6=Symbol.for("react.consumer"),p6=Symbol.for("react.context"),g6=Symbol.for("react.forward_ref"),y6=Symbol.for("react.suspense"),v6=Symbol.for("react.memo"),WI=Symbol.for("react.lazy"),XE=Symbol.iterator;function _6(t){return t===null||typeof t!="object"?null:(t=XE&&t[XE]||t["@@iterator"],typeof t=="function"?t:null)}var KI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QI=Object.assign,XI={};function Zc(t,e,n){this.props=t,this.context=e,this.refs=XI,this.updater=n||KI}Zc.prototype.isReactComponent={};Zc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZI(){}ZI.prototype=Zc.prototype;function nw(t,e,n){this.props=t,this.context=e,this.refs=XI,this.updater=n||KI}var rw=nw.prototype=new ZI;rw.constructor=nw;QI(rw,Zc.prototype);rw.isPureReactComponent=!0;var ZE=Array.isArray,kt={H:null,A:null,T:null,S:null,V:null},JI=Object.prototype.hasOwnProperty;function iw(t,e,n,r,i,a){return n=a.ref,{$$typeof:tw,type:t,key:e,ref:n!==void 0?n:null,props:a}}function b6(t,e){return iw(t.type,e,void 0,void 0,void 0,t.props)}function aw(t){return typeof t=="object"&&t!==null&&t.$$typeof===tw}function w6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var JE=/\/+/g;function z_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?w6(""+t.key):e.toString(36)}function ex(){}function S6(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(ex,ex):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Mu(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case tw:case c6:s=!0;break;case WI:return s=t._init,Mu(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+z_(t,0):r,ZE(i)?(n="",s!=null&&(n=s.replace(JE,"$&/")+"/"),Mu(i,e,n,"",function(u){return u})):i!=null&&(aw(i)&&(i=b6(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(JE,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=r===""?".":r+":";if(ZE(t))for(var l=0;l<t.length;l++)r=t[l],a=o+z_(r,l),s+=Mu(r,e,n,a,i);else if(l=_6(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=o+z_(r,l++),s+=Mu(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Mu(S6(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Tp(t,e,n){if(t==null)return t;var r=[],i=0;return Mu(t,r,"","",function(a){return e.call(n,a,i++)}),r}function T6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tx=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function E6(){}Oe.Children={map:Tp,forEach:function(t,e,n){Tp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tp(t,function(){e++}),e},toArray:function(t){return Tp(t,function(e){return e})||[]},only:function(t){if(!aw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=Zc;Oe.Fragment=h6;Oe.Profiler=f6;Oe.PureComponent=nw;Oe.StrictMode=d6;Oe.Suspense=y6;Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=kt;Oe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return kt.H.useMemoCache(t)}};Oe.cache=function(t){return function(){return t.apply(null,arguments)}};Oe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=QI({},t.props),i=t.key,a=void 0;if(e!=null)for(s in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!JI.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(r[s]=e[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}return iw(t.type,i,void 0,void 0,a,r)};Oe.createContext=function(t){return t={$$typeof:p6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:m6,_context:t},t};Oe.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)JI.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return iw(t,a,void 0,void 0,null,i)};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:g6,render:t}};Oe.isValidElement=aw;Oe.lazy=function(t){return{$$typeof:WI,_payload:{_status:-1,_result:t},_init:T6}};Oe.memo=function(t,e){return{$$typeof:v6,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=kt.T,n={};kt.T=n;try{var r=t(),i=kt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(E6,tx)}catch(a){tx(a)}finally{kt.T=e}};Oe.unstable_useCacheRefresh=function(){return kt.H.useCacheRefresh()};Oe.use=function(t){return kt.H.use(t)};Oe.useActionState=function(t,e,n){return kt.H.useActionState(t,e,n)};Oe.useCallback=function(t,e){return kt.H.useCallback(t,e)};Oe.useContext=function(t){return kt.H.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t,e){return kt.H.useDeferredValue(t,e)};Oe.useEffect=function(t,e,n){var r=kt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};Oe.useId=function(){return kt.H.useId()};Oe.useImperativeHandle=function(t,e,n){return kt.H.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return kt.H.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return kt.H.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return kt.H.useMemo(t,e)};Oe.useOptimistic=function(t,e){return kt.H.useOptimistic(t,e)};Oe.useReducer=function(t,e,n){return kt.H.useReducer(t,e,n)};Oe.useRef=function(t){return kt.H.useRef(t)};Oe.useState=function(t){return kt.H.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return kt.H.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return kt.H.useTransition()};Oe.version="19.1.1";GI.exports=Oe;var F=GI.exports;const B=Wn(F);var eM={exports:{}},Wy={},tM={exports:{}},nM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,j){var J=X.length;X.push(j);e:for(;0<J;){var se=J-1>>>1,ue=X[se];if(0<i(ue,j))X[se]=j,X[J]=ue,J=se;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var j=X[0],J=X.pop();if(J!==j){X[0]=J;e:for(var se=0,ue=X.length,Q=ue>>>1;se<Q;){var Z=2*(se+1)-1,re=X[Z],ae=Z+1,W=X[ae];if(0>i(re,J))ae<ue&&0>i(W,re)?(X[se]=W,X[ae]=J,se=ae):(X[se]=re,X[Z]=J,se=Z);else if(ae<ue&&0>i(W,J))X[se]=W,X[ae]=J,se=ae;else break e}}return j}function i(X,j){var J=X.sortIndex-j.sortIndex;return J!==0?J:X.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,m=3,g=!1,A=!1,b=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function O(X){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=X)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function L(X){if(b=!1,O(X),!A)if(n(l)!==null)A=!0,z||(z=!0,$());else{var j=n(u);j!==null&&be(L,j.startTime-X)}}var z=!1,I=-1,R=5,C=-1;function P(){return S?!0:!(t.unstable_now()-C<R)}function V(){if(S=!1,z){var X=t.unstable_now();C=X;var j=!0;try{e:{A=!1,b&&(b=!1,T(I),I=-1),g=!0;var J=m;try{t:{for(O(X),f=n(l);f!==null&&!(f.expirationTime>X&&P());){var se=f.callback;if(typeof se=="function"){f.callback=null,m=f.priorityLevel;var ue=se(f.expirationTime<=X);if(X=t.unstable_now(),typeof ue=="function"){f.callback=ue,O(X),j=!0;break t}f===n(l)&&r(l),O(X)}else r(l);f=n(l)}if(f!==null)j=!0;else{var Q=n(u);Q!==null&&be(L,Q.startTime-X),j=!1}}break e}finally{f=null,m=J,g=!1}j=void 0}}finally{j?$():z=!1}}}var $;if(typeof D=="function")$=function(){D(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,me=N.port2;N.port1.onmessage=V,$=function(){me.postMessage(null)}}else $=function(){_(V,0)};function be(X,j){I=_(function(){X(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(X){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var J=m;m=j;try{return X()}finally{m=J}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(X,j){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var J=m;m=X;try{return j()}finally{m=J}},t.unstable_scheduleCallback=function(X,j,J){var se=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?se+J:se):J=se,X){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=J+ue,X={id:d++,callback:j,priorityLevel:X,startTime:J,expirationTime:ue,sortIndex:-1},J>se?(X.sortIndex=J,e(u,X),n(l)===null&&X===n(u)&&(b?(T(I),I=-1):b=!0,be(L,J-se))):(X.sortIndex=ue,e(l,X),A||g||(A=!0,z||(z=!0,$()))),X},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(X){var j=m;return function(){var J=m;m=j;try{return X.apply(this,arguments)}finally{m=J}}}})(nM);tM.exports=nM;var x6=tM.exports,rM={exports:{}},Kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A6=F;function iM(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _s(){}var Gn={d:{f:_s,r:function(){throw Error(iM(522))},D:_s,C:_s,L:_s,m:_s,X:_s,S:_s,M:_s},p:0,findDOMNode:null},D6=Symbol.for("react.portal");function R6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D6,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var yd=A6.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ky(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Gn;Kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(iM(299));return R6(t,e,null,n)};Kn.flushSync=function(t){var e=yd.T,n=Gn.p;try{if(yd.T=null,Gn.p=2,t)return t()}finally{yd.T=e,Gn.p=n,Gn.d.f()}};Kn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Gn.d.C(t,e))};Kn.prefetchDNS=function(t){typeof t=="string"&&Gn.d.D(t)};Kn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Ky(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Gn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Gn.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Kn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Ky(e.as,e.crossOrigin);Gn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Gn.d.M(t)};Kn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Ky(n,e.crossOrigin);Gn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Kn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Ky(e.as,e.crossOrigin);Gn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Gn.d.m(t)};Kn.requestFormReset=function(t){Gn.d.r(t)};Kn.unstable_batchedUpdates=function(t,e){return t(e)};Kn.useFormState=function(t,e,n){return yd.H.useFormState(t,e,n)};Kn.useFormStatus=function(){return yd.H.useHostTransitionStatus()};Kn.version="19.1.1";function aM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aM)}catch(t){console.error(t)}}aM(),rM.exports=Kn;var sM=rM.exports;const oM=Wn(sM);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dn=x6,lM=F,I6=sM;function te(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function uM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ff(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nx(t){if(Ff(t)!==t)throw Error(te(188))}function M6(t){var e=t.alternate;if(!e){if(e=Ff(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nx(i),t;if(a===r)return nx(i),e;a=a.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function hM(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=hM(t),e!==null)return e;t=t.sibling}return null}var xt=Object.assign,O6=Symbol.for("react.element"),Ep=Symbol.for("react.transitional.element"),ld=Symbol.for("react.portal"),Uu=Symbol.for("react.fragment"),dM=Symbol.for("react.strict_mode"),tb=Symbol.for("react.profiler"),C6=Symbol.for("react.provider"),fM=Symbol.for("react.consumer"),wa=Symbol.for("react.context"),sw=Symbol.for("react.forward_ref"),nb=Symbol.for("react.suspense"),rb=Symbol.for("react.suspense_list"),ow=Symbol.for("react.memo"),Ds=Symbol.for("react.lazy"),ib=Symbol.for("react.activity"),P6=Symbol.for("react.memo_cache_sentinel"),rx=Symbol.iterator;function Bh(t){return t===null||typeof t!="object"?null:(t=rx&&t[rx]||t["@@iterator"],typeof t=="function"?t:null)}var N6=Symbol.for("react.client.reference");function ab(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N6?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Uu:return"Fragment";case tb:return"Profiler";case dM:return"StrictMode";case nb:return"Suspense";case rb:return"SuspenseList";case ib:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ld:return"Portal";case wa:return(t.displayName||"Context")+".Provider";case fM:return(t._context.displayName||"Context")+".Consumer";case sw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ow:return e=t.displayName||null,e!==null?e:ab(t.type)||"Memo";case Ds:e=t._payload,t=t._init;try{return ab(t(e))}catch{}}return null}var ud=Array.isArray,Ee=lM.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Je=I6.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,hl={pending:!1,data:null,method:null,action:null},sb=[],zu=-1;function qi(t){return{current:t}}function Sn(t){0>zu||(t.current=sb[zu],sb[zu]=null,zu--)}function Vt(t,e){zu++,sb[zu]=t.current,t.current=e}var Pi=qi(null),Hd=qi(null),Ys=qi(null),Ng=qi(null);function kg(t,e){switch(Vt(Ys,e),Vt(Hd,t),Vt(Pi,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?lA(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=lA(e),t=MC(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Sn(Pi),Vt(Pi,t)}function mc(){Sn(Pi),Sn(Hd),Sn(Ys)}function ob(t){t.memoizedState!==null&&Vt(Ng,t);var e=Pi.current,n=MC(e,t.type);e!==n&&(Vt(Hd,t),Vt(Pi,n))}function Vg(t){Hd.current===t&&(Sn(Pi),Sn(Hd)),Ng.current===t&&(Sn(Ng),tf._currentValue=hl)}var lb=Object.prototype.hasOwnProperty,lw=dn.unstable_scheduleCallback,F_=dn.unstable_cancelCallback,k6=dn.unstable_shouldYield,V6=dn.unstable_requestPaint,Ni=dn.unstable_now,L6=dn.unstable_getCurrentPriorityLevel,mM=dn.unstable_ImmediatePriority,pM=dn.unstable_UserBlockingPriority,Lg=dn.unstable_NormalPriority,j6=dn.unstable_LowPriority,gM=dn.unstable_IdlePriority,$6=dn.log,U6=dn.unstable_setDisableYieldValue,Bf=null,yr=null;function ks(t){if(typeof $6=="function"&&U6(t),yr&&typeof yr.setStrictMode=="function")try{yr.setStrictMode(Bf,t)}catch{}}var vr=Math.clz32?Math.clz32:B6,z6=Math.log,F6=Math.LN2;function B6(t){return t>>>=0,t===0?32:31-(z6(t)/F6|0)|0}var xp=256,Ap=4194304;function Xo(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Qy(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=Xo(r):(s&=o,s!==0?i=Xo(s):n||(n=o&~t,n!==0&&(i=Xo(n))))):(o=r&~a,o!==0?i=Xo(o):s!==0?i=Xo(s):n||(n=r&~t,n!==0&&(i=Xo(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function Yf(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Y6(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yM(){var t=xp;return xp<<=1,!(xp&4194048)&&(xp=256),t}function vM(){var t=Ap;return Ap<<=1,!(Ap&62914560)&&(Ap=4194304),t}function B_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hf(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function H6(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=s&~n;0<n;){var d=31-vr(n),f=1<<d;o[d]=0,l[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var g=m[d];g!==null&&(g.lane&=-536870913)}n&=~f}r!==0&&_M(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function _M(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-vr(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function bM(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function uw(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function cw(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function wM(){var t=Je.p;return t!==0?t:(t=window.event,t===void 0?32:UC(t.type))}function q6(t,e){var n=Je.p;try{return Je.p=t,e()}finally{Je.p=n}}var vo=Math.random().toString(36).slice(2),Vn="__reactFiber$"+vo,lr="__reactProps$"+vo,Jc="__reactContainer$"+vo,ub="__reactEvents$"+vo,G6="__reactListeners$"+vo,W6="__reactHandles$"+vo,ix="__reactResources$"+vo,qf="__reactMarker$"+vo;function hw(t){delete t[Vn],delete t[lr],delete t[ub],delete t[G6],delete t[W6]}function Fu(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jc]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hA(t);t!==null;){if(n=t[Vn])return n;t=hA(t)}return e}t=n,n=t.parentNode}return null}function eh(t){if(t=t[Vn]||t[Jc]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function cd(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(te(33))}function ec(t){var e=t[ix];return e||(e=t[ix]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function bn(t){t[qf]=!0}var SM=new Set,TM={};function Hl(t,e){pc(t,e),pc(t+"Capture",e)}function pc(t,e){for(TM[t]=e,t=0;t<e.length;t++)SM.add(e[t])}var K6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ax={},sx={};function Q6(t){return lb.call(sx,t)?!0:lb.call(ax,t)?!1:K6.test(t)?sx[t]=!0:(ax[t]=!0,!1)}function eg(t,e,n){if(Q6(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Dp(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ma(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Y_,ox;function Ou(t){if(Y_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Y_=e&&e[1]||"",ox=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y_+t+ox}var H_=!1;function q_(t,e){if(!t||H_)return"";H_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(g){var m=g}Reflect.construct(t,[],f)}else{try{f.call()}catch(g){m=g}t.call(f.prototype)}}else{try{throw Error()}catch(g){m=g}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),u=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var d=`
`+l[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=i);break}}}finally{H_=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ou(n):""}function X6(t){switch(t.tag){case 26:case 27:case 5:return Ou(t.type);case 16:return Ou("Lazy");case 13:return Ou("Suspense");case 19:return Ou("SuspenseList");case 0:case 15:return q_(t.type,!1);case 11:return q_(t.type.render,!1);case 1:return q_(t.type,!0);case 31:return Ou("Activity");default:return""}}function lx(t){try{var e="";do e+=X6(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Pr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Z6(t){var e=EM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jg(t){t._valueTracker||(t._valueTracker=Z6(t))}function xM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=EM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $g(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var J6=/[\n"\\]/g;function Lr(t){return t.replace(J6,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function cb(t,e,n,r,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Pr(e)):t.value!==""+Pr(e)&&(t.value=""+Pr(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?hb(t,s,Pr(e)):n!=null?hb(t,s,Pr(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Pr(o):t.removeAttribute("name")}function AM(t,e,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;n=n!=null?""+Pr(n):"",e=e!=null?""+Pr(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function hb(t,e,n){e==="number"&&$g(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function tc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function DM(t,e,n){if(e!=null&&(e=""+Pr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Pr(n):""}function RM(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(te(92));if(ud(r)){if(1<r.length)throw Error(te(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Pr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function gc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var e3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ux(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||e3.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function IM(t,e,n){if(e!=null&&typeof e!="object")throw Error(te(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&ux(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&ux(t,a,e[a])}function dw(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),n3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tg(t){return n3.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var db=null;function fw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bu=null,nc=null;function cx(t){var e=eh(t);if(e&&(t=e.stateNode)){var n=t[lr]||null;e:switch(t=e.stateNode,e.type){case"input":if(cb(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Lr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[lr]||null;if(!i)throw Error(te(90));cb(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&xM(r)}break e;case"textarea":DM(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&tc(t,!!n.multiple,e,!1)}}}var G_=!1;function MM(t,e,n){if(G_)return t(e,n);G_=!0;try{var r=t(e);return r}finally{if(G_=!1,(Bu!==null||nc!==null)&&(sv(),Bu&&(e=Bu,t=nc,nc=Bu=null,cx(e),t)))for(e=0;e<t.length;e++)cx(t[e])}}function qd(t,e){var n=t.stateNode;if(n===null)return null;var r=n[lr]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fb=!1;if(Na)try{var Yh={};Object.defineProperty(Yh,"passive",{get:function(){fb=!0}}),window.addEventListener("test",Yh,Yh),window.removeEventListener("test",Yh,Yh)}catch{fb=!1}var Vs=null,mw=null,ng=null;function OM(){if(ng)return ng;var t,e=mw,n=e.length,r,i="value"in Vs?Vs.value:Vs.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return ng=i.slice(t,1<r?1-r:void 0)}function rg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rp(){return!0}function hx(){return!1}function ur(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Rp:hx,this.isPropagationStopped=hx,this}return xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rp)},persist:function(){},isPersistent:Rp}),e}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xy=ur(ql),Gf=xt({},ql,{view:0,detail:0}),r3=ur(Gf),W_,K_,Hh,Zy=xt({},Gf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hh&&(Hh&&t.type==="mousemove"?(W_=t.screenX-Hh.screenX,K_=t.screenY-Hh.screenY):K_=W_=0,Hh=t),W_)},movementY:function(t){return"movementY"in t?t.movementY:K_}}),dx=ur(Zy),i3=xt({},Zy,{dataTransfer:0}),a3=ur(i3),s3=xt({},Gf,{relatedTarget:0}),Q_=ur(s3),o3=xt({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),l3=ur(o3),u3=xt({},ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),c3=ur(u3),h3=xt({},ql,{data:0}),fx=ur(h3),d3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=m3[t])?!!e[t]:!1}function pw(){return p3}var g3=xt({},Gf,{key:function(t){if(t.key){var e=d3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?f3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pw,charCode:function(t){return t.type==="keypress"?rg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),y3=ur(g3),v3=xt({},Zy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mx=ur(v3),_3=xt({},Gf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pw}),b3=ur(_3),w3=xt({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),S3=ur(w3),T3=xt({},Zy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),E3=ur(T3),x3=xt({},ql,{newState:0,oldState:0}),A3=ur(x3),D3=[9,13,27,32],gw=Na&&"CompositionEvent"in window,vd=null;Na&&"documentMode"in document&&(vd=document.documentMode);var R3=Na&&"TextEvent"in window&&!vd,CM=Na&&(!gw||vd&&8<vd&&11>=vd),px=String.fromCharCode(32),gx=!1;function PM(t,e){switch(t){case"keyup":return D3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yu=!1;function I3(t,e){switch(t){case"compositionend":return NM(e);case"keypress":return e.which!==32?null:(gx=!0,px);case"textInput":return t=e.data,t===px&&gx?null:t;default:return null}}function M3(t,e){if(Yu)return t==="compositionend"||!gw&&PM(t,e)?(t=OM(),ng=mw=Vs=null,Yu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CM&&e.locale!=="ko"?null:e.data;default:return null}}var O3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O3[t.type]:e==="textarea"}function kM(t,e,n,r){Bu?nc?nc.push(r):nc=[r]:Bu=r,e=ry(e,"onChange"),0<e.length&&(n=new Xy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _d=null,Gd=null;function C3(t){DC(t,0)}function Jy(t){var e=cd(t);if(xM(e))return t}function vx(t,e){if(t==="change")return e}var VM=!1;if(Na){var X_;if(Na){var Z_="oninput"in document;if(!Z_){var _x=document.createElement("div");_x.setAttribute("oninput","return;"),Z_=typeof _x.oninput=="function"}X_=Z_}else X_=!1;VM=X_&&(!document.documentMode||9<document.documentMode)}function bx(){_d&&(_d.detachEvent("onpropertychange",LM),Gd=_d=null)}function LM(t){if(t.propertyName==="value"&&Jy(Gd)){var e=[];kM(e,Gd,t,fw(t)),MM(C3,e)}}function P3(t,e,n){t==="focusin"?(bx(),_d=e,Gd=n,_d.attachEvent("onpropertychange",LM)):t==="focusout"&&bx()}function N3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jy(Gd)}function k3(t,e){if(t==="click")return Jy(e)}function V3(t,e){if(t==="input"||t==="change")return Jy(e)}function L3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tr=typeof Object.is=="function"?Object.is:L3;function Wd(t,e){if(Tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lb.call(e,i)||!Tr(t[i],e[i]))return!1}return!0}function wx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sx(t,e){var n=wx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wx(n)}}function jM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $M(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=$g(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$g(t.document)}return e}function yw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var j3=Na&&"documentMode"in document&&11>=document.documentMode,Hu=null,mb=null,bd=null,pb=!1;function Tx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pb||Hu==null||Hu!==$g(r)||(r=Hu,"selectionStart"in r&&yw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bd&&Wd(bd,r)||(bd=r,r=ry(mb,"onSelect"),0<r.length&&(e=new Xy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hu)))}function Wo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qu={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionrun:Wo("Transition","TransitionRun"),transitionstart:Wo("Transition","TransitionStart"),transitioncancel:Wo("Transition","TransitionCancel"),transitionend:Wo("Transition","TransitionEnd")},J_={},UM={};Na&&(UM=document.createElement("div").style,"AnimationEvent"in window||(delete qu.animationend.animation,delete qu.animationiteration.animation,delete qu.animationstart.animation),"TransitionEvent"in window||delete qu.transitionend.transition);function Gl(t){if(J_[t])return J_[t];if(!qu[t])return t;var e=qu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in UM)return J_[t]=e[n];return t}var zM=Gl("animationend"),FM=Gl("animationiteration"),BM=Gl("animationstart"),$3=Gl("transitionrun"),U3=Gl("transitionstart"),z3=Gl("transitioncancel"),YM=Gl("transitionend"),HM=new Map,gb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gb.push("scrollEnd");function mi(t,e){HM.set(t,e),Hl(e,[t])}var Ex=new WeakMap;function jr(t,e){if(typeof t=="object"&&t!==null){var n=Ex.get(t);return n!==void 0?n:(e={value:t,source:e,stack:lx(e)},Ex.set(t,e),e)}return{value:t,source:e,stack:lx(e)}}var Or=[],Gu=0,vw=0;function ev(){for(var t=Gu,e=vw=Gu=0;e<t;){var n=Or[e];Or[e++]=null;var r=Or[e];Or[e++]=null;var i=Or[e];Or[e++]=null;var a=Or[e];if(Or[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&qM(n,i,a)}}function tv(t,e,n,r){Or[Gu++]=t,Or[Gu++]=e,Or[Gu++]=n,Or[Gu++]=r,vw|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function _w(t,e,n,r){return tv(t,e,n,r),Ug(t)}function th(t,e){return tv(t,null,null,e),Ug(t)}function qM(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-vr(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Ug(t){if(50<Md)throw Md=0,Lb=null,Error(te(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Wu={};function F3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(t,e,n,r){return new F3(t,e,n,r)}function bw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ia(t,e){var n=t.alternate;return n===null?(n=pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function GM(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ig(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")bw(t)&&(s=1);else if(typeof t=="string")s=Y$(t,n,Pi.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ib:return t=pr(31,n,e,i),t.elementType=ib,t.lanes=a,t;case Uu:return dl(n.children,i,a,e);case dM:s=8,i|=24;break;case tb:return t=pr(12,n,e,i|2),t.elementType=tb,t.lanes=a,t;case nb:return t=pr(13,n,e,i),t.elementType=nb,t.lanes=a,t;case rb:return t=pr(19,n,e,i),t.elementType=rb,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C6:case wa:s=10;break e;case fM:s=9;break e;case sw:s=11;break e;case ow:s=14;break e;case Ds:s=16,r=null;break e}s=29,n=Error(te(130,t===null?"null":typeof t,"")),r=null}return e=pr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function dl(t,e,n,r){return t=pr(7,t,r,e),t.lanes=n,t}function e0(t,e,n){return t=pr(6,t,null,e),t.lanes=n,t}function t0(t,e,n){return e=pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ku=[],Qu=0,zg=null,Fg=0,Nr=[],kr=0,fl=null,Sa=1,Ta="";function Zo(t,e){Ku[Qu++]=Fg,Ku[Qu++]=zg,zg=t,Fg=e}function WM(t,e,n){Nr[kr++]=Sa,Nr[kr++]=Ta,Nr[kr++]=fl,fl=t;var r=Sa;t=Ta;var i=32-vr(r)-1;r&=~(1<<i),n+=1;var a=32-vr(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Sa=1<<32-vr(e)+i|n<<i|r,Ta=a+t}else Sa=1<<a|n<<i|r,Ta=t}function ww(t){t.return!==null&&(Zo(t,1),WM(t,1,0))}function Sw(t){for(;t===zg;)zg=Ku[--Qu],Ku[Qu]=null,Fg=Ku[--Qu],Ku[Qu]=null;for(;t===fl;)fl=Nr[--kr],Nr[kr]=null,Ta=Nr[--kr],Nr[kr]=null,Sa=Nr[--kr],Nr[kr]=null}var qn=null,Ht=null,Ze=!1,ml=null,Ri=!1,yb=Error(te(519));function El(t){var e=Error(te(418,""));throw Kd(jr(e,t)),yb}function xx(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Vn]=t,e[lr]=r,n){case"dialog":Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":case"embed":Ve("load",e);break;case"video":case"audio":for(n=0;n<Zd.length;n++)Ve(Zd[n],e);break;case"source":Ve("error",e);break;case"img":case"image":case"link":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"input":Ve("invalid",e),AM(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),jg(e);break;case"select":Ve("invalid",e);break;case"textarea":Ve("invalid",e),RM(e,r.value,r.defaultValue,r.children),jg(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||IC(e.textContent,n)?(r.popover!=null&&(Ve("beforetoggle",e),Ve("toggle",e)),r.onScroll!=null&&Ve("scroll",e),r.onScrollEnd!=null&&Ve("scrollend",e),r.onClick!=null&&(e.onclick=uv),e=!0):e=!1,e||El(t)}function Ax(t){for(qn=t.return;qn;)switch(qn.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:qn=qn.return}}function qh(t){if(t!==qn)return!1;if(!Ze)return Ax(t),Ze=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Bb(t.type,t.memoizedProps)),n=!n),n&&Ht&&El(t),Ax(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Ht=ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Ht=null}}else e===27?(e=Ht,_o(t.type)?(t=qb,qb=null,Ht=t):Ht=e):Ht=qn?ui(t.stateNode.nextSibling):null;return!0}function Wf(){Ht=qn=null,Ze=!1}function Dx(){var t=ml;return t!==null&&(er===null?er=t:er.push.apply(er,t),ml=null),t}function Kd(t){ml===null?ml=[t]:ml.push(t)}var vb=qi(null),Wl=null,Ea=null;function Is(t,e,n){Vt(vb,e._currentValue),e._currentValue=n}function Ma(t){t._currentValue=vb.current,Sn(vb)}function _b(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bb(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),_b(a.return,n,t),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(te(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),_b(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function Kf(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(te(387));if(s=s.memoizedProps,s!==null){var o=i.type;Tr(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===Ng.current){if(s=i.alternate,s===null)throw Error(te(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(tf):t=[tf])}i=i.return}t!==null&&bb(e,t,n,r),e.flags|=262144}function Bg(t){for(t=t.firstContext;t!==null;){if(!Tr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xl(t){Wl=t,Ea=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ln(t){return KM(Wl,t)}function Ip(t,e){return Wl===null&&xl(t),KM(t,e)}function KM(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ea===null){if(t===null)throw Error(te(308));Ea=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ea=Ea.next=e;return n}var B3=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Y3=dn.unstable_scheduleCallback,H3=dn.unstable_NormalPriority,un={$$typeof:wa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tw(){return{controller:new B3,data:new Map,refCount:0}}function Qf(t){t.refCount--,t.refCount===0&&Y3(H3,function(){t.controller.abort()})}var wd=null,wb=0,yc=0,rc=null;function q3(t,e){if(wd===null){var n=wd=[];wb=0,yc=qw(),rc={status:"pending",value:void 0,then:function(r){n.push(r)}}}return wb++,e.then(Rx,Rx),e}function Rx(){if(--wb===0&&wd!==null){rc!==null&&(rc.status="fulfilled");var t=wd;wd=null,yc=0,rc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function G3(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var Ix=Ee.S;Ee.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&q3(t,e),Ix!==null&&Ix(t,e)};var pl=qi(null);function Ew(){var t=pl.current;return t!==null?t:_t.pooledCache}function ag(t,e){e===null?Vt(pl,pl.current):Vt(pl,e.pool)}function QM(){var t=Ew();return t===null?null:{parent:un._currentValue,pool:t}}var Xf=Error(te(460)),XM=Error(te(474)),nv=Error(te(542)),Sb={then:function(){}};function Mx(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mp(){}function ZM(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Mp,Mp),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Cx(t),t;default:if(typeof e.status=="string")e.then(Mp,Mp);else{if(t=_t,t!==null&&100<t.shellSuspendCounter)throw Error(te(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Cx(t),t}throw Sd=e,Xf}}var Sd=null;function Ox(){if(Sd===null)throw Error(te(459));var t=Sd;return Sd=null,t}function Cx(t){if(t===Xf||t===nv)throw Error(te(483))}var Rs=!1;function xw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,it&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Ug(t),qM(t,null,n),e}return tv(t,r,e,n),Ug(t)}function Td(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bM(t,n)}}function n0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Eb=!1;function Ed(){if(Eb){var t=rc;if(t!==null)throw t}}function xd(t,e,n,r){Eb=!1;var i=t.updateQueue;Rs=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var m=o.lane&-536870913,g=m!==o.lane;if(g?(He&m)===m:(r&m)===m){m!==0&&m===yc&&(Eb=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var A=t,b=o;m=e;var S=n;switch(b.tag){case 1:if(A=b.payload,typeof A=="function"){f=A.call(S,f,m);break e}f=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=b.payload,m=typeof A=="function"?A.call(S,f,m):A,m==null)break e;f=xt({},f,m);break e;case 2:Rs=!0}}m=o.callback,m!==null&&(t.flags|=64,g&&(t.flags|=8192),g=i.callbacks,g===null?i.callbacks=[m]:g.push(m))}else g={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,s|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,a===null&&(i.shared.lanes=0),so|=s,t.lanes=s,t.memoizedState=f}}function JM(t,e){if(typeof t!="function")throw Error(te(191,t));t.call(e)}function eO(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)JM(n[t],e)}var vc=qi(null),Yg=qi(0);function Px(t,e){t=La,Vt(Yg,t),Vt(vc,e),La=t|e.baseLanes}function xb(){Vt(Yg,La),Vt(vc,vc.current)}function Aw(){La=Yg.current,Sn(vc),Sn(Yg)}var io=0,Ce=null,lt=null,nn=null,Hg=!1,ic=!1,Al=!1,qg=0,Qd=0,ac=null,W3=0;function Qt(){throw Error(te(321))}function Dw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tr(t[n],e[n]))return!1;return!0}function Rw(t,e,n,r,i,a){return io=a,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ee.H=t===null||t.memoizedState===null?OO:CO,Al=!1,a=n(r,i),Al=!1,ic&&(a=nO(e,n,r,i)),tO(t),a}function tO(t){Ee.H=Gg;var e=lt!==null&&lt.next!==null;if(io=0,nn=lt=Ce=null,Hg=!1,Qd=0,ac=null,e)throw Error(te(300));t===null||wn||(t=t.dependencies,t!==null&&Bg(t)&&(wn=!0))}function nO(t,e,n,r){Ce=t;var i=0;do{if(ic&&(ac=null),Qd=0,ic=!1,25<=i)throw Error(te(301));if(i+=1,nn=lt=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Ee.H=t$,a=e(n,r)}while(ic);return a}function K3(){var t=Ee.H,e=t.useState()[0];return e=typeof e.then=="function"?Zf(e):e,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Ce.flags|=1024),e}function Iw(){var t=qg!==0;return qg=0,t}function Mw(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Ow(t){if(Hg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Hg=!1}io=0,nn=lt=Ce=null,ic=!1,Qd=qg=0,ac=null}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Ce.memoizedState=nn=t:nn=nn.next=t,nn}function an(){if(lt===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=nn===null?Ce.memoizedState:nn.next;if(e!==null)nn=e,lt=t;else{if(t===null)throw Ce.alternate===null?Error(te(467)):Error(te(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},nn===null?Ce.memoizedState=nn=t:nn=nn.next=t}return nn}function Cw(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zf(t){var e=Qd;return Qd+=1,ac===null&&(ac=[]),t=ZM(ac,t,e),e=Ce,(nn===null?e.memoizedState:nn.next)===null&&(e=e.alternate,Ee.H=e===null||e.memoizedState===null?OO:CO),t}function rv(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zf(t);if(t.$$typeof===wa)return Ln(t)}throw Error(te(438,String(t)))}function Pw(t){var e=null,n=Ce.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Ce.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Cw(),Ce.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=P6;return e.index++,n}function ka(t,e){return typeof e=="function"?e(t):e}function sg(t){var e=an();return Nw(e,lt,t)}function Nw(t,e,n){var r=t.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,l=null,u=e,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(He&f)===f:(io&f)===f){var m=u.revertLane;if(m===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===yc&&(d=!0);else if((io&m)===m){u=u.next,m===yc&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,s=a):l=l.next=f,Ce.lanes|=m,so|=m;f=u.action,Al&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else m={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=m,s=a):l=l.next=m,Ce.lanes|=f,so|=f;u=u.next}while(u!==null&&u!==e);if(l===null?s=a:l.next=o,!Tr(a,t.memoizedState)&&(wn=!0,d&&(n=rc,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function r0(t){var e=an(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Tr(a,e.memoizedState)||(wn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function rO(t,e,n){var r=Ce,i=an(),a=Ze;if(a){if(n===void 0)throw Error(te(407));n=n()}else n=e();var s=!Tr((lt||i).memoizedState,n);s&&(i.memoizedState=n,wn=!0),i=i.queue;var o=sO.bind(null,r,i,t);if(Jf(2048,8,o,[t]),i.getSnapshot!==e||s||nn!==null&&nn.memoizedState.tag&1){if(r.flags|=2048,_c(9,iv(),aO.bind(null,r,i,n,e),null),_t===null)throw Error(te(349));a||io&124||iO(r,e,n)}return n}function iO(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e=Cw(),Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aO(t,e,n,r){e.value=n,e.getSnapshot=r,oO(e)&&lO(t)}function sO(t,e,n){return n(function(){oO(e)&&lO(t)})}function oO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tr(t,n)}catch{return!0}}function lO(t){var e=th(t,2);e!==null&&br(e,t,2)}function Ab(t){var e=Zn();if(typeof t=="function"){var n=t;if(t=n(),Al){ks(!0);try{n()}finally{ks(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:t},e}function uO(t,e,n,r){return t.baseState=n,Nw(t,lt,typeof r=="function"?r:ka)}function Q3(t,e,n,r,i){if(av(t))throw Error(te(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};Ee.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,cO(e,a)):(a.next=n.next,e.pending=n.next=a)}}function cO(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=Ee.T,s={};Ee.T=s;try{var o=n(i,r),l=Ee.S;l!==null&&l(s,o),Nx(t,e,o)}catch(u){Db(t,e,u)}finally{Ee.T=a}}else try{a=n(i,r),Nx(t,e,a)}catch(u){Db(t,e,u)}}function Nx(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){kx(t,e,r)},function(r){return Db(t,e,r)}):kx(t,e,n)}function kx(t,e,n){e.status="fulfilled",e.value=n,hO(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,cO(t,n)))}function Db(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,hO(e),e=e.next;while(e!==r)}t.action=null}function hO(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function dO(t,e){return e}function Vx(t,e){if(Ze){var n=_t.formState;if(n!==null){e:{var r=Ce;if(Ze){if(Ht){t:{for(var i=Ht,a=Ri;i.nodeType!==8;){if(!a){i=null;break t}if(i=ui(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Ht=ui(i.nextSibling),r=i.data==="F!";break e}}El(r)}r=!1}r&&(e=n[0])}}return n=Zn(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dO,lastRenderedState:e},n.queue=r,n=RO.bind(null,Ce,r),r.dispatch=n,r=Ab(!1),a=jw.bind(null,Ce,!1,r.queue),r=Zn(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=Q3.bind(null,Ce,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function Lx(t){var e=an();return fO(e,lt,t)}function fO(t,e,n){if(e=Nw(t,e,dO)[0],t=sg(ka)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Zf(e)}catch(s){throw s===Xf?nv:s}else r=e;e=an();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(Ce.flags|=2048,_c(9,iv(),X3.bind(null,i,n),null)),[r,a,t]}function X3(t,e){t.action=e}function jx(t){var e=an(),n=lt;if(n!==null)return fO(e,n,t);an(),e=e.memoizedState,n=an();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function _c(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Ce.updateQueue,e===null&&(e=Cw(),Ce.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function iv(){return{destroy:void 0,resource:void 0}}function mO(){return an().memoizedState}function og(t,e,n,r){var i=Zn();r=r===void 0?null:r,Ce.flags|=t,i.memoizedState=_c(1|e,iv(),n,r)}function Jf(t,e,n,r){var i=an();r=r===void 0?null:r;var a=i.memoizedState.inst;lt!==null&&r!==null&&Dw(r,lt.memoizedState.deps)?i.memoizedState=_c(e,a,n,r):(Ce.flags|=t,i.memoizedState=_c(1|e,a,n,r))}function $x(t,e){og(8390656,8,t,e)}function pO(t,e){Jf(2048,8,t,e)}function gO(t,e){return Jf(4,2,t,e)}function yO(t,e){return Jf(4,4,t,e)}function vO(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _O(t,e,n){n=n!=null?n.concat([t]):null,Jf(4,4,vO.bind(null,e,t),n)}function kw(){}function bO(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Dw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wO(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Dw(e,r[1]))return r[0];if(r=t(),Al){ks(!0);try{t()}finally{ks(!1)}}return n.memoizedState=[r,e],r}function Vw(t,e,n){return n===void 0||io&1073741824?t.memoizedState=e:(t.memoizedState=n,t=hC(),Ce.lanes|=t,so|=t,n)}function SO(t,e,n,r){return Tr(n,e)?n:vc.current!==null?(t=Vw(t,n,r),Tr(t,e)||(wn=!0),t):io&42?(t=hC(),Ce.lanes|=t,so|=t,e):(wn=!0,t.memoizedState=n)}function TO(t,e,n,r,i){var a=Je.p;Je.p=a!==0&&8>a?a:8;var s=Ee.T,o={};Ee.T=o,jw(t,!1,e,n);try{var l=i(),u=Ee.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=G3(l,r);Ad(t,e,d,_r(t))}else Ad(t,e,r,_r(t))}catch(f){Ad(t,e,{then:function(){},status:"rejected",reason:f},_r())}finally{Je.p=a,Ee.T=s}}function Z3(){}function Rb(t,e,n,r){if(t.tag!==5)throw Error(te(476));var i=EO(t).queue;TO(t,i,e,hl,n===null?Z3:function(){return xO(t),n(r)})}function EO(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:hl,baseState:hl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:hl},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function xO(t){var e=EO(t).next.queue;Ad(t,e,{},_r())}function Lw(){return Ln(tf)}function AO(){return an().memoizedState}function DO(){return an().memoizedState}function J3(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=_r();t=Hs(n);var r=qs(e,t,n);r!==null&&(br(r,e,n),Td(r,e,n)),e={cache:Tw()},t.payload=e;return}e=e.return}}function e$(t,e,n){var r=_r();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},av(t)?IO(e,n):(n=_w(t,e,n,r),n!==null&&(br(n,t,r),MO(n,e,r)))}function RO(t,e,n){var r=_r();Ad(t,e,n,r)}function Ad(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(av(t))IO(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Tr(o,s))return tv(t,e,i,0),_t===null&&ev(),!1}catch{}finally{}if(n=_w(t,e,i,r),n!==null)return br(n,t,r),MO(n,e,r),!0}return!1}function jw(t,e,n,r){if(r={lane:2,revertLane:qw(),action:r,hasEagerState:!1,eagerState:null,next:null},av(t)){if(e)throw Error(te(479))}else e=_w(t,n,r,2),e!==null&&br(e,t,2)}function av(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function IO(t,e){ic=Hg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function MO(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bM(t,n)}}var Gg={readContext:Ln,use:rv,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},OO={readContext:Ln,use:rv,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:Ln,useEffect:$x,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,og(4194308,4,vO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return og(4194308,4,t,e)},useInsertionEffect:function(t,e){og(4,2,t,e)},useMemo:function(t,e){var n=Zn();e=e===void 0?null:e;var r=t();if(Al){ks(!0);try{t()}finally{ks(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Zn();if(n!==void 0){var i=n(e);if(Al){ks(!0);try{n(e)}finally{ks(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=e$.bind(null,Ce,t),[r.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:function(t){t=Ab(t);var e=t.queue,n=RO.bind(null,Ce,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:kw,useDeferredValue:function(t,e){var n=Zn();return Vw(n,t,e)},useTransition:function(){var t=Ab(!1);return t=TO.bind(null,Ce,t.queue,!0,!1),Zn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Ce,i=Zn();if(Ze){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),_t===null)throw Error(te(349));He&124||iO(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,$x(sO.bind(null,r,a,t),[t]),r.flags|=2048,_c(9,iv(),aO.bind(null,r,a,n,e),null),n},useId:function(){var t=Zn(),e=_t.identifierPrefix;if(Ze){var n=Ta,r=Sa;n=(r&~(1<<32-vr(r)-1)).toString(32)+n,e=""+e+"R"+n,n=qg++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=W3++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Lw,useFormState:Vx,useActionState:Vx,useOptimistic:function(t){var e=Zn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=jw.bind(null,Ce,!0,n),n.dispatch=e,[t,e]},useMemoCache:Pw,useCacheRefresh:function(){return Zn().memoizedState=J3.bind(null,Ce)}},CO={readContext:Ln,use:rv,useCallback:bO,useContext:Ln,useEffect:pO,useImperativeHandle:_O,useInsertionEffect:gO,useLayoutEffect:yO,useMemo:wO,useReducer:sg,useRef:mO,useState:function(){return sg(ka)},useDebugValue:kw,useDeferredValue:function(t,e){var n=an();return SO(n,lt.memoizedState,t,e)},useTransition:function(){var t=sg(ka)[0],e=an().memoizedState;return[typeof t=="boolean"?t:Zf(t),e]},useSyncExternalStore:rO,useId:AO,useHostTransitionStatus:Lw,useFormState:Lx,useActionState:Lx,useOptimistic:function(t,e){var n=an();return uO(n,lt,t,e)},useMemoCache:Pw,useCacheRefresh:DO},t$={readContext:Ln,use:rv,useCallback:bO,useContext:Ln,useEffect:pO,useImperativeHandle:_O,useInsertionEffect:gO,useLayoutEffect:yO,useMemo:wO,useReducer:r0,useRef:mO,useState:function(){return r0(ka)},useDebugValue:kw,useDeferredValue:function(t,e){var n=an();return lt===null?Vw(n,t,e):SO(n,lt.memoizedState,t,e)},useTransition:function(){var t=r0(ka)[0],e=an().memoizedState;return[typeof t=="boolean"?t:Zf(t),e]},useSyncExternalStore:rO,useId:AO,useHostTransitionStatus:Lw,useFormState:jx,useActionState:jx,useOptimistic:function(t,e){var n=an();return lt!==null?uO(n,lt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Pw,useCacheRefresh:DO},sc=null,Xd=0;function Op(t){var e=Xd;return Xd+=1,sc===null&&(sc=[]),ZM(sc,t,e)}function Gh(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Cp(t,e){throw e.$$typeof===O6?Error(te(525)):(t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Ux(t){var e=t._init;return e(t._payload)}function PO(t){function e(_,T){if(t){var D=_.deletions;D===null?(_.deletions=[T],_.flags|=16):D.push(T)}}function n(_,T){if(!t)return null;for(;T!==null;)e(_,T),T=T.sibling;return null}function r(_){for(var T=new Map;_!==null;)_.key!==null?T.set(_.key,_):T.set(_.index,_),_=_.sibling;return T}function i(_,T){return _=Ia(_,T),_.index=0,_.sibling=null,_}function a(_,T,D){return _.index=D,t?(D=_.alternate,D!==null?(D=D.index,D<T?(_.flags|=67108866,T):D):(_.flags|=67108866,T)):(_.flags|=1048576,T)}function s(_){return t&&_.alternate===null&&(_.flags|=67108866),_}function o(_,T,D,O){return T===null||T.tag!==6?(T=e0(D,_.mode,O),T.return=_,T):(T=i(T,D),T.return=_,T)}function l(_,T,D,O){var L=D.type;return L===Uu?d(_,T,D.props.children,O,D.key):T!==null&&(T.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ds&&Ux(L)===T.type)?(T=i(T,D.props),Gh(T,D),T.return=_,T):(T=ig(D.type,D.key,D.props,null,_.mode,O),Gh(T,D),T.return=_,T)}function u(_,T,D,O){return T===null||T.tag!==4||T.stateNode.containerInfo!==D.containerInfo||T.stateNode.implementation!==D.implementation?(T=t0(D,_.mode,O),T.return=_,T):(T=i(T,D.children||[]),T.return=_,T)}function d(_,T,D,O,L){return T===null||T.tag!==7?(T=dl(D,_.mode,O,L),T.return=_,T):(T=i(T,D),T.return=_,T)}function f(_,T,D){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=e0(""+T,_.mode,D),T.return=_,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ep:return D=ig(T.type,T.key,T.props,null,_.mode,D),Gh(D,T),D.return=_,D;case ld:return T=t0(T,_.mode,D),T.return=_,T;case Ds:var O=T._init;return T=O(T._payload),f(_,T,D)}if(ud(T)||Bh(T))return T=dl(T,_.mode,D,null),T.return=_,T;if(typeof T.then=="function")return f(_,Op(T),D);if(T.$$typeof===wa)return f(_,Ip(_,T),D);Cp(_,T)}return null}function m(_,T,D,O){var L=T!==null?T.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return L!==null?null:o(_,T,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ep:return D.key===L?l(_,T,D,O):null;case ld:return D.key===L?u(_,T,D,O):null;case Ds:return L=D._init,D=L(D._payload),m(_,T,D,O)}if(ud(D)||Bh(D))return L!==null?null:d(_,T,D,O,null);if(typeof D.then=="function")return m(_,T,Op(D),O);if(D.$$typeof===wa)return m(_,T,Ip(_,D),O);Cp(_,D)}return null}function g(_,T,D,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return _=_.get(D)||null,o(T,_,""+O,L);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ep:return _=_.get(O.key===null?D:O.key)||null,l(T,_,O,L);case ld:return _=_.get(O.key===null?D:O.key)||null,u(T,_,O,L);case Ds:var z=O._init;return O=z(O._payload),g(_,T,D,O,L)}if(ud(O)||Bh(O))return _=_.get(D)||null,d(T,_,O,L,null);if(typeof O.then=="function")return g(_,T,D,Op(O),L);if(O.$$typeof===wa)return g(_,T,D,Ip(T,O),L);Cp(T,O)}return null}function A(_,T,D,O){for(var L=null,z=null,I=T,R=T=0,C=null;I!==null&&R<D.length;R++){I.index>R?(C=I,I=null):C=I.sibling;var P=m(_,I,D[R],O);if(P===null){I===null&&(I=C);break}t&&I&&P.alternate===null&&e(_,I),T=a(P,T,R),z===null?L=P:z.sibling=P,z=P,I=C}if(R===D.length)return n(_,I),Ze&&Zo(_,R),L;if(I===null){for(;R<D.length;R++)I=f(_,D[R],O),I!==null&&(T=a(I,T,R),z===null?L=I:z.sibling=I,z=I);return Ze&&Zo(_,R),L}for(I=r(I);R<D.length;R++)C=g(I,_,R,D[R],O),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?R:C.key),T=a(C,T,R),z===null?L=C:z.sibling=C,z=C);return t&&I.forEach(function(V){return e(_,V)}),Ze&&Zo(_,R),L}function b(_,T,D,O){if(D==null)throw Error(te(151));for(var L=null,z=null,I=T,R=T=0,C=null,P=D.next();I!==null&&!P.done;R++,P=D.next()){I.index>R?(C=I,I=null):C=I.sibling;var V=m(_,I,P.value,O);if(V===null){I===null&&(I=C);break}t&&I&&V.alternate===null&&e(_,I),T=a(V,T,R),z===null?L=V:z.sibling=V,z=V,I=C}if(P.done)return n(_,I),Ze&&Zo(_,R),L;if(I===null){for(;!P.done;R++,P=D.next())P=f(_,P.value,O),P!==null&&(T=a(P,T,R),z===null?L=P:z.sibling=P,z=P);return Ze&&Zo(_,R),L}for(I=r(I);!P.done;R++,P=D.next())P=g(I,_,R,P.value,O),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?R:P.key),T=a(P,T,R),z===null?L=P:z.sibling=P,z=P);return t&&I.forEach(function($){return e(_,$)}),Ze&&Zo(_,R),L}function S(_,T,D,O){if(typeof D=="object"&&D!==null&&D.type===Uu&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case Ep:e:{for(var L=D.key;T!==null;){if(T.key===L){if(L=D.type,L===Uu){if(T.tag===7){n(_,T.sibling),O=i(T,D.props.children),O.return=_,_=O;break e}}else if(T.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ds&&Ux(L)===T.type){n(_,T.sibling),O=i(T,D.props),Gh(O,D),O.return=_,_=O;break e}n(_,T);break}else e(_,T);T=T.sibling}D.type===Uu?(O=dl(D.props.children,_.mode,O,D.key),O.return=_,_=O):(O=ig(D.type,D.key,D.props,null,_.mode,O),Gh(O,D),O.return=_,_=O)}return s(_);case ld:e:{for(L=D.key;T!==null;){if(T.key===L)if(T.tag===4&&T.stateNode.containerInfo===D.containerInfo&&T.stateNode.implementation===D.implementation){n(_,T.sibling),O=i(T,D.children||[]),O.return=_,_=O;break e}else{n(_,T);break}else e(_,T);T=T.sibling}O=t0(D,_.mode,O),O.return=_,_=O}return s(_);case Ds:return L=D._init,D=L(D._payload),S(_,T,D,O)}if(ud(D))return A(_,T,D,O);if(Bh(D)){if(L=Bh(D),typeof L!="function")throw Error(te(150));return D=L.call(D),b(_,T,D,O)}if(typeof D.then=="function")return S(_,T,Op(D),O);if(D.$$typeof===wa)return S(_,T,Ip(_,D),O);Cp(_,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,T!==null&&T.tag===6?(n(_,T.sibling),O=i(T,D),O.return=_,_=O):(n(_,T),O=e0(D,_.mode,O),O.return=_,_=O),s(_)):n(_,T)}return function(_,T,D,O){try{Xd=0;var L=S(_,T,D,O);return sc=null,L}catch(I){if(I===Xf||I===nv)throw I;var z=pr(29,I,null,_.mode);return z.lanes=O,z.return=_,z}finally{}}}var bc=PO(!0),NO=PO(!1),zr=qi(null),ki=null;function Ms(t){var e=t.alternate;Vt(cn,cn.current&1),Vt(zr,t),ki===null&&(e===null||vc.current!==null||e.memoizedState!==null)&&(ki=t)}function kO(t){if(t.tag===22){if(Vt(cn,cn.current),Vt(zr,t),ki===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(ki=t)}}else Os()}function Os(){Vt(cn,cn.current),Vt(zr,zr.current)}function xa(t){Sn(zr),ki===t&&(ki=null),Sn(cn)}var cn=qi(0);function Wg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Hb(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function i0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ib={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_r(),i=Hs(r);i.payload=e,n!=null&&(i.callback=n),e=qs(t,i,r),e!==null&&(br(e,t,r),Td(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_r(),i=Hs(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=qs(t,i,r),e!==null&&(br(e,t,r),Td(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_r(),r=Hs(n);r.tag=2,e!=null&&(r.callback=e),e=qs(t,r,n),e!==null&&(br(e,t,n),Td(e,t,n))}};function zx(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Wd(n,r)||!Wd(i,a):!0}function Fx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ib.enqueueReplaceState(e,e.state,null)}function Dl(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=xt({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var Kg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function VO(t){Kg(t)}function LO(t){console.error(t)}function jO(t){Kg(t)}function Qg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function Bx(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Mb(t,e,n){return n=Hs(n),n.tag=3,n.payload={element:null},n.callback=function(){Qg(t,e)},n}function $O(t){return t=Hs(t),t.tag=3,t}function UO(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){Bx(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Bx(e,n,r),typeof i!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function n$(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Kf(e,n,i,!0),n=zr.current,n!==null){switch(n.tag){case 13:return ki===null?jb():n.alternate===null&&Gt===0&&(Gt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Sb?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),p0(t,r,i)),!1;case 22:return n.flags|=65536,r===Sb?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),p0(t,r,i)),!1}throw Error(te(435,n.tag))}return p0(t,r,i),jb(),!1}if(Ze)return e=zr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==yb&&(t=Error(te(422),{cause:r}),Kd(jr(t,n)))):(r!==yb&&(e=Error(te(423),{cause:r}),Kd(jr(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=jr(r,n),i=Mb(t.stateNode,r,i),n0(t,i),Gt!==4&&(Gt=2)),!1;var a=Error(te(520),{cause:r});if(a=jr(a,n),Id===null?Id=[a]:Id.push(a),Gt!==4&&(Gt=2),e===null)return!0;r=jr(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Mb(n.stateNode,r,t),n0(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Gs===null||!Gs.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=$O(i),UO(i,t,n,r),n0(n,i),!1}n=n.return}while(n!==null);return!1}var zO=Error(te(461)),wn=!1;function An(t,e,n,r){e.child=t===null?NO(e,null,n,r):bc(e,t.child,n,r)}function Yx(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return xl(e),r=Rw(t,e,n,s,a,i),o=Iw(),t!==null&&!wn?(Mw(t,e,i),Va(t,e,i)):(Ze&&o&&ww(e),e.flags|=1,An(t,e,r,i),e.child)}function Hx(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!bw(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,FO(t,e,a,r,i)):(t=ig(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!$w(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Wd,n(s,r)&&t.ref===e.ref)return Va(t,e,i)}return e.flags|=1,t=Ia(a,r),t.ref=e.ref,t.return=e,e.child=t}function FO(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Wd(a,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=a,$w(t,i))t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,Va(t,e,i)}return Ob(t,e,n,r,i)}function BO(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~r}else e.childLanes=0,e.child=null;return qx(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ag(e,a!==null?a.cachePool:null),a!==null?Px(e,a):xb(),kO(e);else return e.lanes=e.childLanes=536870912,qx(t,e,a!==null?a.baseLanes|n:n,n)}else a!==null?(ag(e,a.cachePool),Px(e,a),Os(),e.memoizedState=null):(t!==null&&ag(e,null),xb(),Os());return An(t,e,i,n),e.child}function qx(t,e,n,r){var i=Ew();return i=i===null?null:{parent:un._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&ag(e,null),xb(),kO(e),t!==null&&Kf(t,e,r,!0),null}function lg(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(te(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Ob(t,e,n,r,i){return xl(e),n=Rw(t,e,n,r,void 0,i),r=Iw(),t!==null&&!wn?(Mw(t,e,i),Va(t,e,i)):(Ze&&r&&ww(e),e.flags|=1,An(t,e,n,i),e.child)}function Gx(t,e,n,r,i,a){return xl(e),e.updateQueue=null,n=nO(e,r,n,i),tO(t),r=Iw(),t!==null&&!wn?(Mw(t,e,a),Va(t,e,a)):(Ze&&r&&ww(e),e.flags|=1,An(t,e,n,a),e.child)}function Wx(t,e,n,r,i){if(xl(e),e.stateNode===null){var a=Wu,s=n.contextType;typeof s=="object"&&s!==null&&(a=Ln(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ib,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},xw(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?Ln(s):Wu,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(i0(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Ib.enqueueReplaceState(a,a.state,null),xd(e,r,a,i),Ed(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,l=Dl(n,o);a.props=l;var u=a.context,d=n.contextType;s=Wu,typeof d=="object"&&d!==null&&(s=Ln(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||u!==s)&&Fx(e,a,r,s),Rs=!1;var m=e.memoizedState;a.state=m,xd(e,r,a,i),Ed(),u=e.memoizedState,o||m!==u||Rs?(typeof f=="function"&&(i0(e,n,f,r),u=e.memoizedState),(l=Rs||zx(e,n,l,r,m,u,s))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Tb(t,e),s=e.memoizedProps,d=Dl(n,s),a.props=d,f=e.pendingProps,m=a.context,u=n.contextType,l=Wu,typeof u=="object"&&u!==null&&(l=Ln(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||m!==l)&&Fx(e,a,r,l),Rs=!1,m=e.memoizedState,a.state=m,xd(e,r,a,i),Ed();var g=e.memoizedState;s!==f||m!==g||Rs||t!==null&&t.dependencies!==null&&Bg(t.dependencies)?(typeof o=="function"&&(i0(e,n,o,r),g=e.memoizedState),(d=Rs||zx(e,n,d,r,m,g,l)||t!==null&&t.dependencies!==null&&Bg(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=d):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,lg(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=bc(e,t.child,null,i),e.child=bc(e,null,n,i)):An(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Va(t,e,i),t}function Kx(t,e,n,r){return Wf(),e.flags|=256,An(t,e,n,r),e.child}var a0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function s0(t){return{baseLanes:t,cachePool:QM()}}function o0(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ur),t}function YO(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(cn.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ze){if(i?Ms(e):Os(),Ze){var o=Ht,l;if(l=o){e:{for(l=o,o=Ri;l.nodeType!==8;){if(!o){o=null;break e}if(l=ui(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:fl!==null?{id:Sa,overflow:Ta}:null,retryLane:536870912,hydrationErrors:null},l=pr(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,qn=e,Ht=null,l=!0):l=!1}l||El(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Hb(o)?e.lanes=32:e.lanes=536870912,null;xa(e)}return o=r.children,r=r.fallback,i?(Os(),i=e.mode,o=Xg({mode:"hidden",children:o},i),r=dl(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,i=e.child,i.memoizedState=s0(n),i.childLanes=o0(t,s,n),e.memoizedState=a0,r):(Ms(e),Cb(e,o))}if(l=t.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(a)e.flags&256?(Ms(e),e.flags&=-257,e=l0(t,e,n)):e.memoizedState!==null?(Os(),e.child=t.child,e.flags|=128,e=null):(Os(),i=r.fallback,o=e.mode,r=Xg({mode:"visible",children:r.children},o),i=dl(i,o,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,bc(e,t.child,null,n),r=e.child,r.memoizedState=s0(n),r.childLanes=o0(t,s,n),e.memoizedState=a0,e=i);else if(Ms(e),Hb(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(te(419)),r.stack="",r.digest=s,Kd({value:r,source:null,stack:null}),e=l0(t,e,n)}else if(wn||Kf(t,e,n,!1),s=(n&t.childLanes)!==0,wn||s){if(s=_t,s!==null&&(r=n&-n,r=r&42?1:uw(r),r=r&(s.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,th(t,r),br(s,t,r),zO;o.data==="$?"||jb(),e=l0(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Ht=ui(o.nextSibling),qn=e,Ze=!0,ml=null,Ri=!1,t!==null&&(Nr[kr++]=Sa,Nr[kr++]=Ta,Nr[kr++]=fl,Sa=t.id,Ta=t.overflow,fl=e),e=Cb(e,r.children),e.flags|=4096);return e}return i?(Os(),i=r.fallback,o=e.mode,l=t.child,u=l.sibling,r=Ia(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?i=Ia(u,i):(i=dl(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o===null?o=s0(n):(l=o.cachePool,l!==null?(u=un._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=QM(),o={baseLanes:o.baseLanes|n,cachePool:l}),i.memoizedState=o,i.childLanes=o0(t,s,n),e.memoizedState=a0,r):(Ms(e),n=t.child,t=n.sibling,n=Ia(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function Cb(t,e){return e=Xg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Xg(t,e){return t=pr(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function l0(t,e,n){return bc(e,t.child,null,n),t=Cb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Qx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_b(t.return,e,n)}function u0(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function HO(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(An(t,e,r.children,n),r=cn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qx(t,n,e);else if(t.tag===19)Qx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Vt(cn,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),u0(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}u0(e,!0,n,null,a);break;case"together":u0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Va(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),so|=e.lanes,!(n&e.childLanes))if(t!==null){if(Kf(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=Ia(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ia(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $w(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Bg(t)))}function r$(t,e,n){switch(e.tag){case 3:kg(e,e.stateNode.containerInfo),Is(e,un,t.memoizedState.cache),Wf();break;case 27:case 5:ob(e);break;case 4:kg(e,e.stateNode.containerInfo);break;case 10:Is(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Ms(e),e.flags|=128,null):n&e.child.childLanes?YO(t,e,n):(Ms(e),t=Va(t,e,n),t!==null?t.sibling:null);Ms(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Kf(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return HO(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vt(cn,cn.current),r)break;return null;case 22:case 23:return e.lanes=0,BO(t,e,n);case 24:Is(e,un,t.memoizedState.cache)}return Va(t,e,n)}function qO(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)wn=!0;else{if(!$w(t,n)&&!(e.flags&128))return wn=!1,r$(t,e,n);wn=!!(t.flags&131072)}else wn=!1,Ze&&e.flags&1048576&&WM(e,Fg,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")bw(r)?(t=Dl(r,t),e.tag=1,e=Wx(null,e,r,t,n)):(e.tag=0,e=Ob(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===sw){e.tag=11,e=Yx(null,e,r,t,n);break e}else if(i===ow){e.tag=14,e=Hx(null,e,r,t,n);break e}}throw e=ab(r)||r,Error(te(306,e,""))}}return e;case 0:return Ob(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Dl(r,e.pendingProps),Wx(t,e,r,i,n);case 3:e:{if(kg(e,e.stateNode.containerInfo),t===null)throw Error(te(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,Tb(t,e),xd(e,r,null,n);var s=e.memoizedState;if(r=s.cache,Is(e,un,r),r!==a.cache&&bb(e,[un],n,!0),Ed(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=Kx(t,e,r,n);break e}else if(r!==i){i=jr(Error(te(424)),e),Kd(i),e=Kx(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ht=ui(t.firstChild),qn=e,Ze=!0,ml=null,Ri=!0,n=NO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Wf(),r===i){e=Va(t,e,n);break e}An(t,e,r,n)}e=e.child}return e;case 26:return lg(t,e),t===null?(n=fA(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ze||(n=e.type,t=e.pendingProps,r=iy(Ys.current).createElement(n),r[Vn]=e,r[lr]=t,On(r,n,t),bn(r),e.stateNode=r):e.memoizedState=fA(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ob(e),t===null&&Ze&&(r=e.stateNode=CC(e.type,e.pendingProps,Ys.current),qn=e,Ri=!0,i=Ht,_o(e.type)?(qb=i,Ht=ui(r.firstChild)):Ht=i),An(t,e,e.pendingProps.children,n),lg(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ze&&((i=r=Ht)&&(r=O$(r,e.type,e.pendingProps,Ri),r!==null?(e.stateNode=r,qn=e,Ht=ui(r.firstChild),Ri=!1,i=!0):i=!1),i||El(e)),ob(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,Bb(i,a)?r=null:s!==null&&Bb(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=Rw(t,e,K3,null,null,n),tf._currentValue=i),lg(t,e),An(t,e,r,n),e.child;case 6:return t===null&&Ze&&((t=n=Ht)&&(n=C$(n,e.pendingProps,Ri),n!==null?(e.stateNode=n,qn=e,Ht=null,t=!0):t=!1),t||El(e)),null;case 13:return YO(t,e,n);case 4:return kg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bc(e,null,r,n):An(t,e,r,n),e.child;case 11:return Yx(t,e,e.type,e.pendingProps,n);case 7:return An(t,e,e.pendingProps,n),e.child;case 8:return An(t,e,e.pendingProps.children,n),e.child;case 12:return An(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Is(e,e.type,r.value),An(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,xl(e),i=Ln(i),r=r(i),e.flags|=1,An(t,e,r,n),e.child;case 14:return Hx(t,e,e.type,e.pendingProps,n);case 15:return FO(t,e,e.type,e.pendingProps,n);case 19:return HO(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Xg(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Ia(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return BO(t,e,n);case 24:return xl(e),r=Ln(un),t===null?(i=Ew(),i===null&&(i=_t,a=Tw(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},xw(e),Is(e,un,i)):(t.lanes&n&&(Tb(t,e),xd(e,null,null,n),Ed()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Is(e,un,r)):(r=a.cache,Is(e,un,r),r!==i.cache&&bb(e,[un],n,!0))),An(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(te(156,e.tag))}function pa(t){t.flags|=4}function Xx(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!kC(e)){if(e=zr.current,e!==null&&((He&4194048)===He?ki!==null:(He&62914560)!==He&&!(He&536870912)||e!==ki))throw Sd=Sb,XM;t.flags|=8192}}function Pp(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?vM():536870912,t.lanes|=e,wc|=e)}function Wh(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function i$(t,e,n){var r=e.pendingProps;switch(Sw(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return jt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ma(un),mc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(qh(e)?pa(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dx())),jt(e),null;case 26:return n=e.memoizedState,t===null?(pa(e),n!==null?(jt(e),Xx(e,n)):(jt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(pa(e),jt(e),Xx(e,n)):(jt(e),e.flags&=-16777217):(t.memoizedProps!==r&&pa(e),jt(e),e.flags&=-16777217),null;case 27:Vg(e),n=Ys.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&pa(e);else{if(!r){if(e.stateNode===null)throw Error(te(166));return jt(e),null}t=Pi.current,qh(e)?xx(e):(t=CC(i,r,n),e.stateNode=t,pa(e))}return jt(e),null;case 5:if(Vg(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&pa(e);else{if(!r){if(e.stateNode===null)throw Error(te(166));return jt(e),null}if(t=Pi.current,qh(e))xx(e);else{switch(i=iy(Ys.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[Vn]=e,t[lr]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(On(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&pa(e)}}return jt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&pa(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(t=Ys.current,qh(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=qn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Vn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||IC(t.nodeValue,n)),t||El(e)}else t=iy(t).createTextNode(r),t[Vn]=e,e.stateNode=t}return jt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=qh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(te(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[Vn]=e}else Wf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),i=!1}else i=Dx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(xa(e),e):(xa(e),null)}if(xa(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Pp(e,e.updateQueue),jt(e),null;case 4:return mc(),t===null&&Gw(e.stateNode.containerInfo),jt(e),null;case 10:return Ma(e.type),jt(e),null;case 19:if(Sn(cn),i=e.memoizedState,i===null)return jt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Wh(i,!1);else{if(Gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Wg(t),a!==null){for(e.flags|=128,Wh(i,!1),t=a.updateQueue,e.updateQueue=t,Pp(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)GM(n,t),n=n.sibling;return Vt(cn,cn.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ni()>Jg&&(e.flags|=128,r=!0,Wh(i,!1),e.lanes=4194304)}else{if(!r)if(t=Wg(a),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Pp(e,t),Wh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ze)return jt(e),null}else 2*Ni()-i.renderingStartTime>Jg&&n!==536870912&&(e.flags|=128,r=!0,Wh(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ni(),e.sibling=null,t=cn.current,Vt(cn,r?t&1|2:t&1),e):(jt(e),null);case 22:case 23:return xa(e),Aw(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),n=e.updateQueue,n!==null&&Pp(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Sn(pl),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ma(un),jt(e),null;case 25:return null;case 30:return null}throw Error(te(156,e.tag))}function a$(t,e){switch(Sw(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ma(un),mc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Vg(e),null;case 13:if(xa(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Wf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Sn(cn),null;case 4:return mc(),null;case 10:return Ma(e.type),null;case 22:case 23:return xa(e),Aw(),t!==null&&Sn(pl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ma(un),null;case 25:return null;default:return null}}function GO(t,e){switch(Sw(e),e.tag){case 3:Ma(un),mc();break;case 26:case 27:case 5:Vg(e);break;case 4:mc();break;case 13:xa(e);break;case 19:Sn(cn);break;case 10:Ma(e.type);break;case 22:case 23:xa(e),Aw(),t!==null&&Sn(pl);break;case 24:Ma(un)}}function em(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){pt(e,e.return,o)}}function ao(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var l=n,u=o;try{u()}catch(d){pt(i,l,d)}}}r=r.next}while(r!==a)}}catch(d){pt(e,e.return,d)}}function WO(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{eO(e,n)}catch(r){pt(t,t.return,r)}}}function KO(t,e,n){n.props=Dl(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){pt(t,e,r)}}function Dd(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){pt(t,e,i)}}function Mi(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){pt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){pt(t,e,i)}else n.current=null}function QO(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){pt(t,t.return,i)}}function c0(t,e,n){try{var r=t.stateNode;A$(r,t.type,n,e),r[lr]=e}catch(i){pt(t,t.return,i)}}function XO(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_o(t.type)||t.tag===4}function h0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||XO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_o(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uv));else if(r!==4&&(r===27&&_o(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Pb(t,e,n),t=t.sibling;t!==null;)Pb(t,e,n),t=t.sibling}function Zg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&_o(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Zg(t,e,n),t=t.sibling;t!==null;)Zg(t,e,n),t=t.sibling}function ZO(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);On(e,r,n),e[Vn]=t,e[lr]=n}catch(a){pt(t,t.return,a)}}var ba=!1,Zt=!1,d0=!1,Zx=typeof WeakSet=="function"?WeakSet:Set,vn=null;function s$(t,e){if(t=t.containerInfo,zb=ly,t=$M(t),yw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++u===i&&(o=s),m===a&&++d===r&&(l=s),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fb={focusedElem:t,selectionRange:n},ly=!1,vn=e;vn!==null;)if(e=vn,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,vn=t;else for(;vn!==null;){switch(e=vn,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var A=Dl(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(A,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(b){pt(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Yb(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yb(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(te(163))}if(t=e.sibling,t!==null){t.return=e.return,vn=t;break}vn=e.return}}function JO(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:bs(t,n),r&4&&em(5,n);break;case 1:if(bs(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){pt(n,n.return,s)}else{var i=Dl(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){pt(n,n.return,s)}}r&64&&WO(n),r&512&&Dd(n,n.return);break;case 3:if(bs(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{eO(t,e)}catch(s){pt(n,n.return,s)}}break;case 27:e===null&&r&4&&ZO(n);case 26:case 5:bs(t,n),e===null&&r&4&&QO(n),r&512&&Dd(n,n.return);break;case 12:bs(t,n);break;case 13:bs(t,n),r&4&&nC(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=p$.bind(null,n),P$(t,n))));break;case 22:if(r=n.memoizedState!==null||ba,!r){e=e!==null&&e.memoizedState!==null||Zt,i=ba;var a=Zt;ba=r,(Zt=e)&&!a?xs(t,n,(n.subtreeFlags&8772)!==0):bs(t,n),ba=i,Zt=a}break;case 30:break;default:bs(t,n)}}function eC(t){var e=t.alternate;e!==null&&(t.alternate=null,eC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&hw(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Mt=null,Jn=!1;function ga(t,e,n){for(n=n.child;n!==null;)tC(t,e,n),n=n.sibling}function tC(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Bf,n)}catch{}switch(n.tag){case 26:Zt||Mi(n,e),ga(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Zt||Mi(n,e);var r=Mt,i=Jn;_o(n.type)&&(Mt=n.stateNode,Jn=!1),ga(t,e,n),Od(n.stateNode),Mt=r,Jn=i;break;case 5:Zt||Mi(n,e);case 6:if(r=Mt,i=Jn,Mt=null,ga(t,e,n),Mt=r,Jn=i,Mt!==null)if(Jn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(n.stateNode)}catch(a){pt(n,e,a)}else try{Mt.removeChild(n.stateNode)}catch(a){pt(n,e,a)}break;case 18:Mt!==null&&(Jn?(t=Mt,cA(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),af(t)):cA(Mt,n.stateNode));break;case 4:r=Mt,i=Jn,Mt=n.stateNode.containerInfo,Jn=!0,ga(t,e,n),Mt=r,Jn=i;break;case 0:case 11:case 14:case 15:Zt||ao(2,n,e),Zt||ao(4,n,e),ga(t,e,n);break;case 1:Zt||(Mi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&KO(n,e,r)),ga(t,e,n);break;case 21:ga(t,e,n);break;case 22:Zt=(r=Zt)||n.memoizedState!==null,ga(t,e,n),Zt=r;break;default:ga(t,e,n)}}function nC(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{af(t)}catch(n){pt(e,e.return,n)}}function o$(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Zx),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Zx),e;default:throw Error(te(435,t.tag))}}function f0(t,e){var n=o$(t);e.forEach(function(r){var i=g$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function hr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(_o(o.type)){Mt=o.stateNode,Jn=!1;break e}break;case 5:Mt=o.stateNode,Jn=!1;break e;case 3:case 4:Mt=o.stateNode.containerInfo,Jn=!0;break e}o=o.return}if(Mt===null)throw Error(te(160));tC(a,s,i),Mt=null,Jn=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)rC(e,t),e=e.sibling}var si=null;function rC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hr(e,t),dr(t),r&4&&(ao(3,t,t.return),em(3,t),ao(5,t,t.return));break;case 1:hr(e,t),dr(t),r&512&&(Zt||n===null||Mi(n,n.return)),r&64&&ba&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=si;if(hr(e,t),dr(t),r&512&&(Zt||n===null||Mi(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[qf]||a[Vn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),On(a,r,n),a[Vn]=t,bn(a),r=a;break e;case"link":var s=pA("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),On(a,r,n),i.head.appendChild(a);break;case"meta":if(s=pA("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),On(a,r,n),i.head.appendChild(a);break;default:throw Error(te(468,r))}a[Vn]=t,bn(a),r=a}t.stateNode=r}else gA(i,t.type,t.stateNode);else t.stateNode=mA(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?gA(i,t.type,t.stateNode):mA(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&c0(t,t.memoizedProps,n.memoizedProps)}break;case 27:hr(e,t),dr(t),r&512&&(Zt||n===null||Mi(n,n.return)),n!==null&&r&4&&c0(t,t.memoizedProps,n.memoizedProps);break;case 5:if(hr(e,t),dr(t),r&512&&(Zt||n===null||Mi(n,n.return)),t.flags&32){i=t.stateNode;try{gc(i,"")}catch(g){pt(t,t.return,g)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,c0(t,i,n!==null?n.memoizedProps:i)),r&1024&&(d0=!0);break;case 6:if(hr(e,t),dr(t),r&4){if(t.stateNode===null)throw Error(te(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(g){pt(t,t.return,g)}}break;case 3:if(hg=null,i=si,si=ay(e.containerInfo),hr(e,t),si=i,dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{af(e.containerInfo)}catch(g){pt(t,t.return,g)}d0&&(d0=!1,iC(t));break;case 4:r=si,si=ay(t.stateNode.containerInfo),hr(e,t),dr(t),si=r;break;case 12:hr(e,t),dr(t);break;case 13:hr(e,t),dr(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Yw=Ni()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,f0(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=ba,d=Zt;if(ba=u||i,Zt=d||l,hr(e,t),Zt=d,ba=u,dr(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||ba||Zt||Jo(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(g){pt(l,l.return,g)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(g){pt(l,l.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,f0(t,n))));break;case 19:hr(e,t),dr(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,f0(t,r)));break;case 30:break;case 21:break;default:hr(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(XO(r)){n=r;break}r=r.return}if(n==null)throw Error(te(160));switch(n.tag){case 27:var i=n.stateNode,a=h0(t);Zg(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(gc(s,""),n.flags&=-33);var o=h0(t);Zg(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=h0(t);Pb(t,u,l);break;default:throw Error(te(161))}}catch(d){pt(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iC(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;iC(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function bs(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)JO(t,e.alternate,e),e=e.sibling}function Jo(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ao(4,e,e.return),Jo(e);break;case 1:Mi(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&KO(e,e.return,n),Jo(e);break;case 27:Od(e.stateNode);case 26:case 5:Mi(e,e.return),Jo(e);break;case 22:e.memoizedState===null&&Jo(e);break;case 30:Jo(e);break;default:Jo(e)}t=t.sibling}}function xs(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:xs(i,a,n),em(4,a);break;case 1:if(xs(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){pt(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)JM(l[i],o)}catch(u){pt(r,r.return,u)}}n&&s&64&&WO(a),Dd(a,a.return);break;case 27:ZO(a);case 26:case 5:xs(i,a,n),n&&r===null&&s&4&&QO(a),Dd(a,a.return);break;case 12:xs(i,a,n);break;case 13:xs(i,a,n),n&&s&4&&nC(i,a);break;case 22:a.memoizedState===null&&xs(i,a,n),Dd(a,a.return);break;case 30:break;default:xs(i,a,n)}e=e.sibling}}function Uw(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Qf(n))}function zw(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Qf(t))}function Ei(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)aC(t,e,n,r),e=e.sibling}function aC(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Ei(t,e,n,r),i&2048&&em(9,e);break;case 1:Ei(t,e,n,r);break;case 3:Ei(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Qf(t)));break;case 12:if(i&2048){Ei(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){pt(e,e.return,l)}}else Ei(t,e,n,r);break;case 13:Ei(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?Ei(t,e,n,r):Rd(t,e):a._visibility&2?Ei(t,e,n,r):(a._visibility|=2,Cu(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&Uw(s,e);break;case 24:Ei(t,e,n,r),i&2048&&zw(e.alternate,e);break;default:Ei(t,e,n,r)}}function Cu(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,s=e,o=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:Cu(a,s,o,l,i),em(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?Cu(a,s,o,l,i):Rd(a,s):(d._visibility|=2,Cu(a,s,o,l,i)),i&&u&2048&&Uw(s.alternate,s);break;case 24:Cu(a,s,o,l,i),i&&u&2048&&zw(s.alternate,s);break;default:Cu(a,s,o,l,i)}e=e.sibling}}function Rd(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Rd(n,r),i&2048&&Uw(r.alternate,r);break;case 24:Rd(n,r),i&2048&&zw(r.alternate,r);break;default:Rd(n,r)}e=e.sibling}}var hd=8192;function wu(t){if(t.subtreeFlags&hd)for(t=t.child;t!==null;)sC(t),t=t.sibling}function sC(t){switch(t.tag){case 26:wu(t),t.flags&hd&&t.memoizedState!==null&&q$(si,t.memoizedState,t.memoizedProps);break;case 5:wu(t);break;case 3:case 4:var e=si;si=ay(t.stateNode.containerInfo),wu(t),si=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=hd,hd=16777216,wu(t),hd=e):wu(t));break;default:wu(t)}}function oC(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Kh(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];vn=r,uC(r,t)}oC(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lC(t),t=t.sibling}function lC(t){switch(t.tag){case 0:case 11:case 15:Kh(t),t.flags&2048&&ao(9,t,t.return);break;case 3:Kh(t);break;case 12:Kh(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ug(t)):Kh(t);break;default:Kh(t)}}function ug(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];vn=r,uC(r,t)}oC(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ao(8,e,e.return),ug(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,ug(e));break;default:ug(e)}t=t.sibling}}function uC(t,e){for(;vn!==null;){var n=vn;switch(n.tag){case 0:case 11:case 15:ao(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Qf(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,vn=r;else e:for(n=t;vn!==null;){r=vn;var i=r.sibling,a=r.return;if(eC(r),r===n){vn=null;break e}if(i!==null){i.return=a,vn=i;break e}vn=a}}}var l$={getCacheForType:function(t){var e=Ln(un),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},u$=typeof WeakMap=="function"?WeakMap:Map,it=0,_t=null,Le=null,He=0,nt=0,fr=null,Ls=!1,nh=!1,Fw=!1,La=0,Gt=0,so=0,gl=0,Bw=0,Ur=0,wc=0,Id=null,er=null,Nb=!1,Yw=0,Jg=1/0,ey=null,Gs=null,In=0,Ws=null,Sc=null,oc=0,kb=0,Vb=null,cC=null,Md=0,Lb=null;function _r(){if(it&2&&He!==0)return He&-He;if(Ee.T!==null){var t=yc;return t!==0?t:qw()}return wM()}function hC(){Ur===0&&(Ur=!(He&536870912)||Ze?yM():536870912);var t=zr.current;return t!==null&&(t.flags|=32),Ur}function br(t,e,n){(t===_t&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(Tc(t,0),js(t,He,Ur,!1)),Hf(t,n),(!(it&2)||t!==_t)&&(t===_t&&(!(it&2)&&(gl|=n),Gt===4&&js(t,He,Ur,!1)),Gi(t))}function dC(t,e,n){if(it&6)throw Error(te(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Yf(t,e),i=r?d$(t,e):m0(t,e,!0),a=r;do{if(i===0){nh&&!r&&js(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!c$(n)){i=m0(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=Id;var l=o.current.memoizedState.isDehydrated;if(l&&(Tc(o,s).flags|=256),s=m0(o,s,!1),s!==2){if(Fw&&!l){o.errorRecoveryDisabledLanes|=a,gl|=a,i=4;break e}a=er,er=i,a!==null&&(er===null?er=a:er.push.apply(er,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Tc(t,0),js(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(te(345));case 4:if((e&4194048)!==e)break;case 6:js(r,e,Ur,!Ls);break e;case 2:er=null;break;case 3:case 5:break;default:throw Error(te(329))}if((e&62914560)===e&&(i=Yw+300-Ni(),10<i)){if(js(r,e,Ur,!Ls),Qy(r,0,!0)!==0)break e;r.timeoutHandle=OC(Jx.bind(null,r,n,er,ey,Nb,e,Ur,gl,wc,Ls,a,2,-0,0),i);break e}Jx(r,n,er,ey,Nb,e,Ur,gl,wc,Ls,a,0,-0,0)}}break}while(1);Gi(t)}function Jx(t,e,n,r,i,a,s,o,l,u,d,f,m,g){if(t.timeoutHandle=-1,f=e.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(ef={stylesheets:null,count:0,unsuspend:H$},sC(e),f=G$(),f!==null)){t.cancelPendingCommit=f(tA.bind(null,t,e,a,n,r,i,s,o,l,d,1,m,g)),js(t,a,s,!u);return}tA(t,e,a,n,r,i,s,o,l)}function c$(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Tr(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function js(t,e,n,r){e&=~Bw,e&=~gl,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-vr(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&_M(t,n,e)}function sv(){return it&6?!0:(tm(0,!1),!1)}function Hw(){if(Le!==null){if(nt===0)var t=Le.return;else t=Le,Ea=Wl=null,Ow(t),sc=null,Xd=0,t=Le;for(;t!==null;)GO(t.alternate,t),t=t.return;Le=null}}function Tc(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,R$(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Hw(),_t=t,Le=n=Ia(t.current,null),He=e,nt=0,fr=null,Ls=!1,nh=Yf(t,e),Fw=!1,wc=Ur=Bw=gl=so=Gt=0,er=Id=null,Nb=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-vr(r),a=1<<i;e|=t[i],r&=~a}return La=e,ev(),n}function fC(t,e){Ce=null,Ee.H=Gg,e===Xf||e===nv?(e=Ox(),nt=3):e===XM?(e=Ox(),nt=4):nt=e===zO?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,fr=e,Le===null&&(Gt=1,Qg(t,jr(e,t.current)))}function mC(){var t=Ee.H;return Ee.H=Gg,t===null?Gg:t}function pC(){var t=Ee.A;return Ee.A=l$,t}function jb(){Gt=4,Ls||(He&4194048)!==He&&zr.current!==null||(nh=!0),!(so&134217727)&&!(gl&134217727)||_t===null||js(_t,He,Ur,!1)}function m0(t,e,n){var r=it;it|=2;var i=mC(),a=pC();(_t!==t||He!==e)&&(ey=null,Tc(t,e)),e=!1;var s=Gt;e:do try{if(nt!==0&&Le!==null){var o=Le,l=fr;switch(nt){case 8:Hw(),s=6;break e;case 3:case 2:case 9:case 6:zr.current===null&&(e=!0);var u=nt;if(nt=0,fr=null,Xu(t,o,l,u),n&&nh){s=0;break e}break;default:u=nt,nt=0,fr=null,Xu(t,o,l,u)}}h$(),s=Gt;break}catch(d){fC(t,d)}while(1);return e&&t.shellSuspendCounter++,Ea=Wl=null,it=r,Ee.H=i,Ee.A=a,Le===null&&(_t=null,He=0,ev()),s}function h$(){for(;Le!==null;)gC(Le)}function d$(t,e){var n=it;it|=2;var r=mC(),i=pC();_t!==t||He!==e?(ey=null,Jg=Ni()+500,Tc(t,e)):nh=Yf(t,e);e:do try{if(nt!==0&&Le!==null){e=Le;var a=fr;t:switch(nt){case 1:nt=0,fr=null,Xu(t,e,a,1);break;case 2:case 9:if(Mx(a)){nt=0,fr=null,eA(e);break}e=function(){nt!==2&&nt!==9||_t!==t||(nt=7),Gi(t)},a.then(e,e);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Mx(a)?(nt=0,fr=null,eA(e)):(nt=0,fr=null,Xu(t,e,a,7));break;case 5:var s=null;switch(Le.tag){case 26:s=Le.memoizedState;case 5:case 27:var o=Le;if(!s||kC(s)){nt=0,fr=null;var l=o.sibling;if(l!==null)Le=l;else{var u=o.return;u!==null?(Le=u,ov(u)):Le=null}break t}}nt=0,fr=null,Xu(t,e,a,5);break;case 6:nt=0,fr=null,Xu(t,e,a,6);break;case 8:Hw(),Gt=6;break e;default:throw Error(te(462))}}f$();break}catch(d){fC(t,d)}while(1);return Ea=Wl=null,Ee.H=r,Ee.A=i,it=n,Le!==null?0:(_t=null,He=0,ev(),Gt)}function f$(){for(;Le!==null&&!k6();)gC(Le)}function gC(t){var e=qO(t.alternate,t,La);t.memoizedProps=t.pendingProps,e===null?ov(t):Le=e}function eA(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Gx(n,e,e.pendingProps,e.type,void 0,He);break;case 11:e=Gx(n,e,e.pendingProps,e.type.render,e.ref,He);break;case 5:Ow(e);default:GO(n,e),e=Le=GM(e,La),e=qO(n,e,La)}t.memoizedProps=t.pendingProps,e===null?ov(t):Le=e}function Xu(t,e,n,r){Ea=Wl=null,Ow(e),sc=null,Xd=0;var i=e.return;try{if(n$(t,i,e,n,He)){Gt=1,Qg(t,jr(n,t.current)),Le=null;return}}catch(a){if(i!==null)throw Le=i,a;Gt=1,Qg(t,jr(n,t.current)),Le=null;return}e.flags&32768?(Ze||r===1?t=!0:nh||He&536870912?t=!1:(Ls=t=!0,(r===2||r===9||r===3||r===6)&&(r=zr.current,r!==null&&r.tag===13&&(r.flags|=16384))),yC(e,t)):ov(e)}function ov(t){var e=t;do{if(e.flags&32768){yC(e,Ls);return}t=e.return;var n=i$(e.alternate,e,La);if(n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Gt===0&&(Gt=5)}function yC(t,e){do{var n=a$(t.alternate,t);if(n!==null){n.flags&=32767,Le=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Le=t;return}Le=t=n}while(t!==null);Gt=6,Le=null}function tA(t,e,n,r,i,a,s,o,l){t.cancelPendingCommit=null;do lv();while(In!==0);if(it&6)throw Error(te(327));if(e!==null){if(e===t.current)throw Error(te(177));if(a=e.lanes|e.childLanes,a|=vw,H6(t,n,a,s,o,l),t===_t&&(Le=_t=null,He=0),Sc=e,Ws=t,oc=n,kb=a,Vb=i,cC=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,y$(Lg,function(){return SC(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Ee.T,Ee.T=null,i=Je.p,Je.p=2,s=it,it|=4;try{s$(t,e,n)}finally{it=s,Je.p=i,Ee.T=r}}In=1,vC(),_C(),bC()}}function vC(){if(In===1){In=0;var t=Ws,e=Sc,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Ee.T,Ee.T=null;var r=Je.p;Je.p=2;var i=it;it|=4;try{rC(e,t);var a=Fb,s=$M(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&jM(o.ownerDocument.documentElement,o)){if(l!==null&&yw(o)){var u=l.start,d=l.end;if(d===void 0&&(d=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(d,o.value.length);else{var f=o.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var g=m.getSelection(),A=o.textContent.length,b=Math.min(l.start,A),S=l.end===void 0?b:Math.min(l.end,A);!g.extend&&b>S&&(s=S,S=b,b=s);var _=Sx(o,b),T=Sx(o,S);if(_&&T&&(g.rangeCount!==1||g.anchorNode!==_.node||g.anchorOffset!==_.offset||g.focusNode!==T.node||g.focusOffset!==T.offset)){var D=f.createRange();D.setStart(_.node,_.offset),g.removeAllRanges(),b>S?(g.addRange(D),g.extend(T.node,T.offset)):(D.setEnd(T.node,T.offset),g.addRange(D))}}}}for(f=[],g=o;g=g.parentNode;)g.nodeType===1&&f.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var O=f[o];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}ly=!!zb,Fb=zb=null}finally{it=i,Je.p=r,Ee.T=n}}t.current=e,In=2}}function _C(){if(In===2){In=0;var t=Ws,e=Sc,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Ee.T,Ee.T=null;var r=Je.p;Je.p=2;var i=it;it|=4;try{JO(t,e.alternate,e)}finally{it=i,Je.p=r,Ee.T=n}}In=3}}function bC(){if(In===4||In===3){In=0,V6();var t=Ws,e=Sc,n=oc,r=cC;e.subtreeFlags&10256||e.flags&10256?In=5:(In=0,Sc=Ws=null,wC(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Gs=null),cw(n),e=e.stateNode,yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Bf,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Ee.T,i=Je.p,Je.p=2,Ee.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{Ee.T=e,Je.p=i}}oc&3&&lv(),Gi(t),i=t.pendingLanes,n&4194090&&i&42?t===Lb?Md++:(Md=0,Lb=t):Md=0,tm(0,!1)}}function wC(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Qf(e)))}function lv(t){return vC(),_C(),bC(),SC()}function SC(){if(In!==5)return!1;var t=Ws,e=kb;kb=0;var n=cw(oc),r=Ee.T,i=Je.p;try{Je.p=32>n?32:n,Ee.T=null,n=Vb,Vb=null;var a=Ws,s=oc;if(In=0,Sc=Ws=null,oc=0,it&6)throw Error(te(331));var o=it;if(it|=4,lC(a.current),aC(a,a.current,s,n),it=o,tm(0,!1),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Bf,a)}catch{}return!0}finally{Je.p=i,Ee.T=r,wC(t,e)}}function nA(t,e,n){e=jr(n,e),e=Mb(t.stateNode,e,2),t=qs(t,e,2),t!==null&&(Hf(t,2),Gi(t))}function pt(t,e,n){if(t.tag===3)nA(t,t,n);else for(;e!==null;){if(e.tag===3){nA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gs===null||!Gs.has(r))){t=jr(n,t),n=$O(2),r=qs(e,n,2),r!==null&&(UO(n,r,e,t),Hf(r,2),Gi(r));break}}e=e.return}}function p0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new u$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(Fw=!0,i.add(n),t=m$.bind(null,t,e,n),e.then(t,t))}function m$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,_t===t&&(He&n)===n&&(Gt===4||Gt===3&&(He&62914560)===He&&300>Ni()-Yw?!(it&2)&&Tc(t,0):Bw|=n,wc===He&&(wc=0)),Gi(t)}function TC(t,e){e===0&&(e=vM()),t=th(t,e),t!==null&&(Hf(t,e),Gi(t))}function p$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TC(t,n)}function g$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(te(314))}r!==null&&r.delete(e),TC(t,n)}function y$(t,e){return lw(t,e)}var ty=null,Pu=null,$b=!1,ny=!1,g0=!1,yl=0;function Gi(t){t!==Pu&&t.next===null&&(Pu===null?ty=Pu=t:Pu=Pu.next=t),ny=!0,$b||($b=!0,_$())}function tm(t,e){if(!g0&&ny){g0=!0;do for(var n=!1,r=ty;r!==null;){if(!e)if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-vr(42|t)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,rA(r,a))}else a=He,a=Qy(r,r===_t?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Yf(r,a)||(n=!0,rA(r,a));r=r.next}while(n);g0=!1}}function v$(){EC()}function EC(){ny=$b=!1;var t=0;yl!==0&&(D$()&&(t=yl),yl=0);for(var e=Ni(),n=null,r=ty;r!==null;){var i=r.next,a=xC(r,e);a===0?(r.next=null,n===null?ty=i:n.next=i,i===null&&(Pu=n)):(n=r,(t!==0||a&3)&&(ny=!0)),r=i}tm(t,!1)}function xC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-vr(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=Y6(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(e=_t,n=He,n=Qy(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&F_(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Yf(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&F_(r),cw(n)){case 2:case 8:n=pM;break;case 32:n=Lg;break;case 268435456:n=gM;break;default:n=Lg}return r=AC.bind(null,t),n=lw(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&F_(r),t.callbackPriority=2,t.callbackNode=null,2}function AC(t,e){if(In!==0&&In!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(lv()&&t.callbackNode!==n)return null;var r=He;return r=Qy(t,t===_t?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(dC(t,r,e),xC(t,Ni()),t.callbackNode!=null&&t.callbackNode===n?AC.bind(null,t):null)}function rA(t,e){if(lv())return null;dC(t,e,!0)}function _$(){I$(function(){it&6?lw(mM,v$):EC()})}function qw(){return yl===0&&(yl=yM()),yl}function iA(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:tg(""+t)}function aA(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function b$(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=iA((i[lr]||null).action),s=r.submitter;s&&(e=(e=s[lr]||null)?iA(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new Xy("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(yl!==0){var l=s?aA(i,s):new FormData(i);Rb(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?aA(i,s):new FormData(i),Rb(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var y0=0;y0<gb.length;y0++){var v0=gb[y0],w$=v0.toLowerCase(),S$=v0[0].toUpperCase()+v0.slice(1);mi(w$,"on"+S$)}mi(zM,"onAnimationEnd");mi(FM,"onAnimationIteration");mi(BM,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi($3,"onTransitionRun");mi(U3,"onTransitionStart");mi(z3,"onTransitionCancel");mi(YM,"onTransitionEnd");pc("onMouseEnter",["mouseout","mouseover"]);pc("onMouseLeave",["mouseout","mouseover"]);pc("onPointerEnter",["pointerout","pointerover"]);pc("onPointerLeave",["pointerout","pointerover"]);Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zd));function DC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(d){Kg(d)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(d){Kg(d)}i.currentTarget=null,a=l}}}}function Ve(t,e){var n=e[ub];n===void 0&&(n=e[ub]=new Set);var r=t+"__bubble";n.has(r)||(RC(e,t,2,!1),n.add(r))}function _0(t,e,n){var r=0;e&&(r|=4),RC(n,t,r,e)}var Np="_reactListening"+Math.random().toString(36).slice(2);function Gw(t){if(!t[Np]){t[Np]=!0,SM.forEach(function(n){n!=="selectionchange"&&(T$.has(n)||_0(n,!1,t),_0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Np]||(e[Np]=!0,_0("selectionchange",!1,e))}}function RC(t,e,n,r){switch(UC(e)){case 2:var i=Q$;break;case 8:i=X$;break;default:i=Xw}n=i.bind(null,e,n,t),i=void 0,!fb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function b0(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=Fu(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue e}o=o.parentNode}}r=r.return}MM(function(){var u=a,d=fw(n),f=[];e:{var m=HM.get(t);if(m!==void 0){var g=Xy,A=t;switch(t){case"keypress":if(rg(n)===0)break e;case"keydown":case"keyup":g=y3;break;case"focusin":A="focus",g=Q_;break;case"focusout":A="blur",g=Q_;break;case"beforeblur":case"afterblur":g=Q_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=dx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=a3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=b3;break;case zM:case FM:case BM:g=l3;break;case YM:g=S3;break;case"scroll":case"scrollend":g=r3;break;case"wheel":g=E3;break;case"copy":case"cut":case"paste":g=c3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=mx;break;case"toggle":case"beforetoggle":g=A3}var b=(e&4)!==0,S=!b&&(t==="scroll"||t==="scrollend"),_=b?m!==null?m+"Capture":null:m;b=[];for(var T=u,D;T!==null;){var O=T;if(D=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||D===null||_===null||(O=qd(T,_),O!=null&&b.push(Jd(T,O,D))),S)break;T=T.return}0<b.length&&(m=new g(m,A,null,n,d),f.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==db&&(A=n.relatedTarget||n.fromElement)&&(Fu(A)||A[Jc]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(A=n.relatedTarget||n.toElement,g=u,A=A?Fu(A):null,A!==null&&(S=Ff(A),b=A.tag,A!==S||b!==5&&b!==27&&b!==6)&&(A=null)):(g=null,A=u),g!==A)){if(b=dx,O="onMouseLeave",_="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(b=mx,O="onPointerLeave",_="onPointerEnter",T="pointer"),S=g==null?m:cd(g),D=A==null?m:cd(A),m=new b(O,T+"leave",g,n,d),m.target=S,m.relatedTarget=D,O=null,Fu(d)===u&&(b=new b(_,T+"enter",A,n,d),b.target=D,b.relatedTarget=S,O=b),S=O,g&&A)t:{for(b=g,_=A,T=0,D=b;D;D=Su(D))T++;for(D=0,O=_;O;O=Su(O))D++;for(;0<T-D;)b=Su(b),T--;for(;0<D-T;)_=Su(_),D--;for(;T--;){if(b===_||_!==null&&b===_.alternate)break t;b=Su(b),_=Su(_)}b=null}else b=null;g!==null&&sA(f,m,g,b,!1),A!==null&&S!==null&&sA(f,S,A,b,!0)}}e:{if(m=u?cd(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var L=vx;else if(yx(m))if(VM)L=V3;else{L=N3;var z=P3}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&dw(u.elementType)&&(L=vx):L=k3;if(L&&(L=L(t,u))){kM(f,L,n,d);break e}z&&z(t,m,u),t==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&hb(m,"number",m.value)}switch(z=u?cd(u):window,t){case"focusin":(yx(z)||z.contentEditable==="true")&&(Hu=z,mb=u,bd=null);break;case"focusout":bd=mb=Hu=null;break;case"mousedown":pb=!0;break;case"contextmenu":case"mouseup":case"dragend":pb=!1,Tx(f,n,d);break;case"selectionchange":if(j3)break;case"keydown":case"keyup":Tx(f,n,d)}var I;if(gw)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Yu?PM(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(CM&&n.locale!=="ko"&&(Yu||R!=="onCompositionStart"?R==="onCompositionEnd"&&Yu&&(I=OM()):(Vs=d,mw="value"in Vs?Vs.value:Vs.textContent,Yu=!0)),z=ry(u,R),0<z.length&&(R=new fx(R,t,null,n,d),f.push({event:R,listeners:z}),I?R.data=I:(I=NM(n),I!==null&&(R.data=I)))),(I=R3?I3(t,n):M3(t,n))&&(R=ry(u,"onBeforeInput"),0<R.length&&(z=new fx("onBeforeInput","beforeinput",null,n,d),f.push({event:z,listeners:R}),z.data=I)),b$(f,t,u,n,d)}DC(f,e)})}function Jd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ry(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=qd(t,n),i!=null&&r.unshift(Jd(t,i,a)),i=qd(t,e),i!=null&&r.push(Jd(t,i,a))),t.tag===3)return r;t=t.return}return[]}function Su(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sA(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||u===null||(l=u,i?(u=qd(n,a),u!=null&&s.unshift(Jd(n,u,l))):i||(u=qd(n,a),u!=null&&s.push(Jd(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var E$=/\r\n?/g,x$=/\u0000|\uFFFD/g;function oA(t){return(typeof t=="string"?t:""+t).replace(E$,`
`).replace(x$,"")}function IC(t,e){return e=oA(e),oA(t)===e}function uv(){}function ot(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||gc(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&gc(t,""+r);break;case"className":Dp(t,"class",r);break;case"tabIndex":Dp(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Dp(t,n,r);break;case"style":IM(t,r,a);break;case"data":if(e!=="object"){Dp(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=tg(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&ot(t,e,"name",i.name,i,null),ot(t,e,"formEncType",i.formEncType,i,null),ot(t,e,"formMethod",i.formMethod,i,null),ot(t,e,"formTarget",i.formTarget,i,null)):(ot(t,e,"encType",i.encType,i,null),ot(t,e,"method",i.method,i,null),ot(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=tg(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=uv);break;case"onScroll":r!=null&&Ve("scroll",t);break;case"onScrollEnd":r!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(te(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(te(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=tg(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),eg(t,"popover",r);break;case"xlinkActuate":ma(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ma(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ma(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ma(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ma(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ma(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ma(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ma(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ma(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":eg(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=t3.get(n)||n,eg(t,n,r))}}function Ub(t,e,n,r,i,a){switch(n){case"style":IM(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(te(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(te(60));t.innerHTML=n}}break;case"children":typeof r=="string"?gc(t,r):(typeof r=="number"||typeof r=="bigint")&&gc(t,""+r);break;case"onScroll":r!=null&&Ve("scroll",t);break;case"onScrollEnd":r!=null&&Ve("scrollend",t);break;case"onClick":r!=null&&(t.onclick=uv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!TM.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[lr]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):eg(t,n,r)}}}function On(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(te(137,e));default:ot(t,e,a,s,n,null)}}i&&ot(t,e,"srcSet",n.srcSet,n,null),r&&ot(t,e,"src",n.src,n,null);return;case"input":Ve("invalid",t);var o=a=s=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":i=d;break;case"type":s=d;break;case"checked":l=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(te(137,e));break;default:ot(t,e,r,d,n,null)}}AM(t,a,o,l,u,s,i,!1),jg(t);return;case"select":Ve("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:ot(t,e,i,o,n,null)}e=a,n=s,t.multiple=!!r,e!=null?tc(t,!!r,e,!1):n!=null&&tc(t,!!r,n,!0);return;case"textarea":Ve("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(te(91));break;default:ot(t,e,s,o,n,null)}RM(t,r,i,a),jg(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ot(t,e,l,r,n,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(r=0;r<Zd.length;r++)Ve(Zd[r],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(te(137,e));default:ot(t,e,u,r,n,null)}return;default:if(dw(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Ub(t,e,d,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&ot(t,e,o,r,n,null))}function A$(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,u=null,d=null;for(g in n){var f=n[g];if(n.hasOwnProperty(g)&&f!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(g)||ot(t,e,g,null,r,f)}}for(var m in r){var g=r[m];if(f=n[m],r.hasOwnProperty(m)&&(g!=null||f!=null))switch(m){case"type":a=g;break;case"name":i=g;break;case"checked":u=g;break;case"defaultChecked":d=g;break;case"value":s=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(te(137,e));break;default:g!==f&&ot(t,e,m,g,r,f)}}cb(t,s,o,l,u,d,a,i);return;case"select":g=s=o=m=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":g=l;default:r.hasOwnProperty(a)||ot(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":m=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&ot(t,e,i,a,r,l)}e=o,n=s,r=g,m!=null?tc(t,!!n,m,!1):!!r!=!!n&&(e!=null?tc(t,!!n,e,!0):tc(t,!!n,n?[]:"",!1));return;case"textarea":g=m=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ot(t,e,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":m=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(te(91));break;default:i!==a&&ot(t,e,s,i,r,a)}DM(t,m,g);return;case"option":for(var A in n)if(m=n[A],n.hasOwnProperty(A)&&m!=null&&!r.hasOwnProperty(A))switch(A){case"selected":t.selected=!1;break;default:ot(t,e,A,null,r,m)}for(l in r)if(m=r[l],g=n[l],r.hasOwnProperty(l)&&m!==g&&(m!=null||g!=null))switch(l){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ot(t,e,l,m,r,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!r.hasOwnProperty(b)&&ot(t,e,b,null,r,m);for(u in r)if(m=r[u],g=n[u],r.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(te(137,e));break;default:ot(t,e,u,m,r,g)}return;default:if(dw(e)){for(var S in n)m=n[S],n.hasOwnProperty(S)&&m!==void 0&&!r.hasOwnProperty(S)&&Ub(t,e,S,void 0,r,m);for(d in r)m=r[d],g=n[d],!r.hasOwnProperty(d)||m===g||m===void 0&&g===void 0||Ub(t,e,d,m,r,g);return}}for(var _ in n)m=n[_],n.hasOwnProperty(_)&&m!=null&&!r.hasOwnProperty(_)&&ot(t,e,_,null,r,m);for(f in r)m=r[f],g=n[f],!r.hasOwnProperty(f)||m===g||m==null&&g==null||ot(t,e,f,m,r,g)}var zb=null,Fb=null;function iy(t){return t.nodeType===9?t:t.ownerDocument}function lA(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function MC(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Bb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var w0=null;function D$(){var t=window.event;return t&&t.type==="popstate"?t===w0?!1:(w0=t,!0):(w0=null,!1)}var OC=typeof setTimeout=="function"?setTimeout:void 0,R$=typeof clearTimeout=="function"?clearTimeout:void 0,uA=typeof Promise=="function"?Promise:void 0,I$=typeof queueMicrotask=="function"?queueMicrotask:typeof uA<"u"?function(t){return uA.resolve(null).then(t).catch(M$)}:OC;function M$(t){setTimeout(function(){throw t})}function _o(t){return t==="head"}function cA(t,e){var n=e,r=0,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<r&&8>r){n=r;var s=t.ownerDocument;if(n&1&&Od(s.documentElement),n&2&&Od(s.body),n&4)for(n=s.head,Od(n),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[qf]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=o}}if(i===0){t.removeChild(a),af(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);af(e)}function Yb(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yb(n),hw(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function O$(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[qf])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=ui(t.nextSibling),t===null)break}return null}function C$(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ui(t.nextSibling),t===null))return null;return t}function Hb(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function P$(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var qb=null;function hA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function CC(t,e,n){switch(e=iy(n),t){case"html":if(t=e.documentElement,!t)throw Error(te(452));return t;case"head":if(t=e.head,!t)throw Error(te(453));return t;case"body":if(t=e.body,!t)throw Error(te(454));return t;default:throw Error(te(451))}}function Od(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);hw(t)}var Fr=new Map,dA=new Set;function ay(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ha=Je.d;Je.d={f:N$,r:k$,D:V$,C:L$,L:j$,m:$$,X:z$,S:U$,M:F$};function N$(){var t=Ha.f(),e=sv();return t||e}function k$(t){var e=eh(t);e!==null&&e.tag===5&&e.type==="form"?xO(e):Ha.r(t)}var rh=typeof document>"u"?null:document;function PC(t,e,n){var r=rh;if(r&&typeof e=="string"&&e){var i=Lr(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),dA.has(i)||(dA.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),On(e,"link",t),bn(e),r.head.appendChild(e)))}}function V$(t){Ha.D(t),PC("dns-prefetch",t,null)}function L$(t,e){Ha.C(t,e),PC("preconnect",t,e)}function j$(t,e,n){Ha.L(t,e,n);var r=rh;if(r&&t&&e){var i='link[rel="preload"][as="'+Lr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Lr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Lr(n.imageSizes)+'"]')):i+='[href="'+Lr(t)+'"]';var a=i;switch(e){case"style":a=Ec(t);break;case"script":a=ih(t)}Fr.has(a)||(t=xt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Fr.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(nm(a))||e==="script"&&r.querySelector(rm(a))||(e=r.createElement("link"),On(e,"link",t),bn(e),r.head.appendChild(e)))}}function $$(t,e){Ha.m(t,e);var n=rh;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Lr(r)+'"][href="'+Lr(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ih(t)}if(!Fr.has(a)&&(t=xt({rel:"modulepreload",href:t},e),Fr.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(rm(a)))return}r=n.createElement("link"),On(r,"link",t),bn(r),n.head.appendChild(r)}}}function U$(t,e,n){Ha.S(t,e,n);var r=rh;if(r&&t){var i=ec(r).hoistableStyles,a=Ec(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(nm(a)))o.loading=5;else{t=xt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Fr.get(a))&&Ww(t,n);var l=s=r.createElement("link");bn(l),On(l,"link",t),l._p=new Promise(function(u,d){l.onload=u,l.onerror=d}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,cg(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function z$(t,e){Ha.X(t,e);var n=rh;if(n&&t){var r=ec(n).hoistableScripts,i=ih(t),a=r.get(i);a||(a=n.querySelector(rm(i)),a||(t=xt({src:t,async:!0},e),(e=Fr.get(i))&&Kw(t,e),a=n.createElement("script"),bn(a),On(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function F$(t,e){Ha.M(t,e);var n=rh;if(n&&t){var r=ec(n).hoistableScripts,i=ih(t),a=r.get(i);a||(a=n.querySelector(rm(i)),a||(t=xt({src:t,async:!0,type:"module"},e),(e=Fr.get(i))&&Kw(t,e),a=n.createElement("script"),bn(a),On(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function fA(t,e,n,r){var i=(i=Ys.current)?ay(i):null;if(!i)throw Error(te(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ec(n.href),n=ec(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ec(n.href);var a=ec(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(nm(t)))&&!a._p&&(s.instance=a,s.state.loading=5),Fr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fr.set(t,n),a||B$(i,t,n,s.state))),e&&r===null)throw Error(te(528,""));return s}if(e&&r!==null)throw Error(te(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ih(n),n=ec(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(te(444,t))}}function Ec(t){return'href="'+Lr(t)+'"'}function nm(t){return'link[rel="stylesheet"]['+t+"]"}function NC(t){return xt({},t,{"data-precedence":t.precedence,precedence:null})}function B$(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),On(e,"link",n),bn(e),t.head.appendChild(e))}function ih(t){return'[src="'+Lr(t)+'"]'}function rm(t){return"script[async]"+t}function mA(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Lr(n.href)+'"]');if(r)return e.instance=r,bn(r),r;var i=xt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),bn(r),On(r,"style",i),cg(r,n.precedence,t),e.instance=r;case"stylesheet":i=Ec(n.href);var a=t.querySelector(nm(i));if(a)return e.state.loading|=4,e.instance=a,bn(a),a;r=NC(n),(i=Fr.get(i))&&Ww(r,i),a=(t.ownerDocument||t).createElement("link"),bn(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),On(a,"link",r),e.state.loading|=4,cg(a,n.precedence,t),e.instance=a;case"script":return a=ih(n.src),(i=t.querySelector(rm(a)))?(e.instance=i,bn(i),i):(r=n,(i=Fr.get(a))&&(r=xt({},n),Kw(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),bn(i),On(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(te(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,cg(r,n.precedence,t));return e.instance}function cg(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Ww(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Kw(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var hg=null;function pA(t,e,n){if(hg===null){var r=new Map,i=hg=new Map;i.set(n,r)}else i=hg,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[qf]||a[Vn]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function gA(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function Y$(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function kC(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var ef=null;function H$(){}function q$(t,e,n){if(ef===null)throw Error(te(475));var r=ef;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Ec(n.href),a=t.querySelector(nm(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=sy.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=a,bn(a);return}a=t.ownerDocument||t,n=NC(n),(i=Fr.get(i))&&Ww(n,i),a=a.createElement("link"),bn(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),On(a,"link",n),e.instance=a}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=sy.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function G$(){if(ef===null)throw Error(te(475));var t=ef;return t.stylesheets&&t.count===0&&Gb(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Gb(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function sy(){if(this.count--,this.count===0){if(this.stylesheets)Gb(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oy=null;function Gb(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oy=new Map,e.forEach(W$,t),oy=null,sy.call(t))}function W$(t,e){if(!(e.state.loading&4)){var n=oy.get(t);if(n)var r=n.get(null);else{n=new Map,oy.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=sy.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var tf={$$typeof:wa,Provider:null,Consumer:null,_currentValue:hl,_currentValue2:hl,_threadCount:0};function K$(t,e,n,r,i,a,s,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=B_(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B_(0),this.hiddenUpdates=B_(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function VC(t,e,n,r,i,a,s,o,l,u,d,f){return t=new K$(t,e,n,s,o,l,u,f),e=1,a===!0&&(e|=24),a=pr(3,null,null,e),t.current=a,a.stateNode=t,e=Tw(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},xw(a),t}function LC(t){return t?(t=Wu,t):Wu}function jC(t,e,n,r,i,a){i=LC(i),r.context===null?r.context=i:r.pendingContext=i,r=Hs(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=qs(t,r,e),n!==null&&(br(n,t,e),Td(n,t,e))}function yA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qw(t,e){yA(t,e),(t=t.alternate)&&yA(t,e)}function $C(t){if(t.tag===13){var e=th(t,67108864);e!==null&&br(e,t,67108864),Qw(t,67108864)}}var ly=!0;function Q$(t,e,n,r){var i=Ee.T;Ee.T=null;var a=Je.p;try{Je.p=2,Xw(t,e,n,r)}finally{Je.p=a,Ee.T=i}}function X$(t,e,n,r){var i=Ee.T;Ee.T=null;var a=Je.p;try{Je.p=8,Xw(t,e,n,r)}finally{Je.p=a,Ee.T=i}}function Xw(t,e,n,r){if(ly){var i=Wb(r);if(i===null)b0(t,e,r,uy,n),vA(t,r);else if(J$(i,t,e,n,r))r.stopPropagation();else if(vA(t,r),e&4&&-1<Z$.indexOf(t)){for(;i!==null;){var a=eh(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Xo(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-vr(s);o.entanglements[1]|=l,s&=~l}Gi(a),!(it&6)&&(Jg=Ni()+500,tm(0,!1))}}break;case 13:o=th(a,2),o!==null&&br(o,a,2),sv(),Qw(a,2)}if(a=Wb(r),a===null&&b0(t,e,r,uy,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else b0(t,e,r,null,n)}}function Wb(t){return t=fw(t),Zw(t)}var uy=null;function Zw(t){if(uy=null,t=Fu(t),t!==null){var e=Ff(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=cM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return uy=t,null}function UC(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(L6()){case mM:return 2;case pM:return 8;case Lg:case j6:return 32;case gM:return 268435456;default:return 32}default:return 32}}var Kb=!1,Ks=null,Qs=null,Xs=null,nf=new Map,rf=new Map,Cs=[],Z$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vA(t,e){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":nf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rf.delete(e.pointerId)}}function Qh(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=eh(e),e!==null&&$C(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function J$(t,e,n,r,i){switch(e){case"focusin":return Ks=Qh(Ks,t,e,n,r,i),!0;case"dragenter":return Qs=Qh(Qs,t,e,n,r,i),!0;case"mouseover":return Xs=Qh(Xs,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return nf.set(a,Qh(nf.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,rf.set(a,Qh(rf.get(a)||null,t,e,n,r,i)),!0}return!1}function zC(t){var e=Fu(t.target);if(e!==null){var n=Ff(e);if(n!==null){if(e=n.tag,e===13){if(e=cM(n),e!==null){t.blockedOn=e,q6(t.priority,function(){if(n.tag===13){var r=_r();r=uw(r);var i=th(n,r);i!==null&&br(i,n,r),Qw(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wb(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);db=r,n.target.dispatchEvent(r),db=null}else return e=eh(n),e!==null&&$C(e),t.blockedOn=n,!1;e.shift()}return!0}function _A(t,e,n){dg(t)&&n.delete(e)}function eU(){Kb=!1,Ks!==null&&dg(Ks)&&(Ks=null),Qs!==null&&dg(Qs)&&(Qs=null),Xs!==null&&dg(Xs)&&(Xs=null),nf.forEach(_A),rf.forEach(_A)}function kp(t,e){t.blockedOn===e&&(t.blockedOn=null,Kb||(Kb=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,eU)))}var Vp=null;function bA(t){Vp!==t&&(Vp=t,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,function(){Vp===t&&(Vp=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(Zw(r||n)===null)continue;break}var a=eh(n);a!==null&&(t.splice(e,3),e-=3,Rb(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function af(t){function e(l){return kp(l,t)}Ks!==null&&kp(Ks,t),Qs!==null&&kp(Qs,t),Xs!==null&&kp(Xs,t),nf.forEach(e),rf.forEach(e);for(var n=0;n<Cs.length;n++){var r=Cs[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Cs.length&&(n=Cs[0],n.blockedOn===null);)zC(n),n.blockedOn===null&&Cs.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[lr]||null;if(typeof a=="function")s||bA(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[lr]||null)o=s.formAction;else if(Zw(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),bA(n)}}}function Jw(t){this._internalRoot=t}cv.prototype.render=Jw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));var n=e.current,r=_r();jC(n,r,t,e,null,null)};cv.prototype.unmount=Jw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jC(t.current,2,null,t,null,null),sv(),e[Jc]=null}};function cv(t){this._internalRoot=t}cv.prototype.unstable_scheduleHydration=function(t){if(t){var e=wM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cs.length&&e!==0&&e<Cs[n].priority;n++);Cs.splice(n,0,t),n===0&&zC(t)}};var wA=lM.version;if(wA!=="19.1.1")throw Error(te(527,wA,"19.1.1"));Je.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=M6(e),t=t!==null?hM(t):null,t=t===null?null:t.stateNode,t};var tU={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Ee,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lp.isDisabled&&Lp.supportsFiber)try{Bf=Lp.inject(tU),yr=Lp}catch{}}Wy.createRoot=function(t,e){if(!uM(t))throw Error(te(299));var n=!1,r="",i=VO,a=LO,s=jO,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=VC(t,1,!1,null,null,n,r,i,a,s,o,null),t[Jc]=e.current,Gw(t),new Jw(e)};Wy.hydrateRoot=function(t,e,n){if(!uM(t))throw Error(te(299));var r=!1,i="",a=VO,s=LO,o=jO,l=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=VC(t,1,!0,e,n??null,r,i,a,s,o,l,u),e.context=LC(null),n=e.current,r=_r(),r=uw(r),i=Hs(r),i.callback=null,qs(n,i,r),n=r,e.current.lanes=n,Hf(e,n),Gi(e),t[Jc]=e.current,Gw(t),new cv(e)};Wy.version="19.1.1";function FC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FC)}catch(t){console.error(t)}}FC(),eM.exports=Wy;var nU=eM.exports;const rU=Wn(nU),iU="modulepreload",aU=function(t){return"/MajestiCar/"+t},SA={},BC=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=aU(a),a in SA)return;SA[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":iU,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})};var TA="popstate";function sU(t={}){function e(i,a){let{pathname:s="/",search:o="",hash:l=""}=Kl(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Qb("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof a=="string"?a:sf(a))}function r(i,a){Br(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return lU(e,n,r,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oU(){return Math.random().toString(36).substring(2,10)}function EA(t,e){return{usr:t.state,key:t.key,idx:e}}function Qb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Kl(e):e,state:n,key:e&&e.key||r||oU()}}function sf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Kl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function lU(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){o="POP";let S=d(),_=S==null?null:S-u;u=S,l&&l({action:o,location:b.location,delta:_})}function m(S,_){o="PUSH";let T=Qb(b.location,S,_);n&&n(T,S),u=d()+1;let D=EA(T,u),O=b.createHref(T);try{s.pushState(D,"",O)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(O)}a&&l&&l({action:o,location:b.location,delta:1})}function g(S,_){o="REPLACE";let T=Qb(b.location,S,_);n&&n(T,S),u=d();let D=EA(T,u),O=b.createHref(T);s.replaceState(D,"",O),a&&l&&l({action:o,location:b.location,delta:0})}function A(S){return uU(S)}let b={get action(){return o},get location(){return t(i,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(TA,f),l=S,()=>{i.removeEventListener(TA,f),l=null}},createHref(S){return e(i,S)},createURL:A,encodeLocation(S){let _=A(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:g,go(S){return s.go(S)}};return b}function uU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$t(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:sf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function YC(t,e,n="/"){return cU(t,e,n,!1)}function cU(t,e,n,r){let i=typeof e=="string"?Kl(e):e,a=ja(i.pathname||"/",n);if(a==null)return null;let s=HC(t);hU(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=SU(a);o=bU(s[l],u,r)}return o}function HC(t,e=[],n=[],r="",i=!1){let a=(s,o,l=i,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;$t(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=Oa([r,d.relativePath]),m=n.concat(d);s.children&&s.children.length>0&&($t(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),HC(s.children,e,m,f,l)),!(s.path==null&&!s.index)&&e.push({path:f,score:vU(f,s.index),routesMeta:m})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of qC(s.path))a(s,o,!0,u)}),e}function qC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=qC(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function hU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_U(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var dU=/^:[\w-]+$/,fU=3,mU=2,pU=1,gU=10,yU=-2,xA=t=>t==="*";function vU(t,e){let n=t.split("/"),r=n.length;return n.some(xA)&&(r+=yU),e&&(r+=mU),n.filter(i=>!xA(i)).reduce((i,a)=>i+(dU.test(a)?fU:a===""?pU:gU),r)}function _U(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bU(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=cy({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=cy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Oa([a,f.pathname]),pathnameBase:AU(Oa([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=Oa([a,f.pathnameBase]))}return s}function cy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},m)=>{if(d==="*"){let A=o[m]||"";s=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const g=o[m];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function wU(t,e=!1,n=!0){Br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function SU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ja(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function TU(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Kl(t):t;return{pathname:n?n.startsWith("/")?n:EU(n,e):e,search:DU(r),hash:RU(i)}}function EU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function S0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function GC(t){let e=xU(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function WC(t,e,n,r=!1){let i;typeof t=="string"?i=Kl(t):(i={...t},$t(!i.pathname||!i.pathname.includes("?"),S0("?","pathname","search",i)),$t(!i.pathname||!i.pathname.includes("#"),S0("#","pathname","hash",i)),$t(!i.search||!i.search.includes("#"),S0("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}o=f>=0?e[f]:"/"}let l=TU(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Oa=t=>t.join("/").replace(/\/\/+/g,"/"),AU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var KC=["POST","PUT","PATCH","DELETE"];new Set(KC);var MU=["GET",...KC];new Set(MU);var ah=F.createContext(null);ah.displayName="DataRouter";var hv=F.createContext(null);hv.displayName="DataRouterState";F.createContext(!1);var QC=F.createContext({isTransitioning:!1});QC.displayName="ViewTransition";var OU=F.createContext(new Map);OU.displayName="Fetchers";var CU=F.createContext(null);CU.displayName="Await";var Wi=F.createContext(null);Wi.displayName="Navigation";var im=F.createContext(null);im.displayName="Location";var qa=F.createContext({outlet:null,matches:[],isDataRoute:!1});qa.displayName="Route";var eS=F.createContext(null);eS.displayName="RouteError";function PU(t,{relative:e}={}){$t(am(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext(Wi),{hash:i,pathname:a,search:s}=om(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:Oa([n,a])),r.createHref({pathname:o,search:s,hash:i})}function am(){return F.useContext(im)!=null}function bo(){return $t(am(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(im).location}var XC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZC(t){F.useContext(Wi).static||F.useLayoutEffect(t)}function sm(){let{isDataRoute:t}=F.useContext(qa);return t?qU():NU()}function NU(){$t(am(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(ah),{basename:e,navigator:n}=F.useContext(Wi),{matches:r}=F.useContext(qa),{pathname:i}=bo(),a=JSON.stringify(GC(r)),s=F.useRef(!1);return ZC(()=>{s.current=!0}),F.useCallback((l,u={})=>{if(Br(s.current,XC),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=WC(l,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Oa([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,i,t])}F.createContext(null);function om(t,{relative:e}={}){let{matches:n}=F.useContext(qa),{pathname:r}=bo(),i=JSON.stringify(GC(n));return F.useMemo(()=>WC(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function kU(t,e){return JC(t,e)}function JC(t,e,n,r,i){var T;$t(am(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=F.useContext(Wi),{matches:s}=F.useContext(qa),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let D=f&&f.path||"";e2(u,!f||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let m=bo(),g;if(e){let D=typeof e=="string"?Kl(e):e;$t(d==="/"||((T=D.pathname)==null?void 0:T.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${D.pathname}" was given in the \`location\` prop.`),g=D}else g=m;let A=g.pathname||"/",b=A;if(d!=="/"){let D=d.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice(D.length).join("/")}let S=YC(t,{pathname:b});Br(f||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Br(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=UU(S&&S.map(D=>Object.assign({},D,{params:Object.assign({},l,D.params),pathname:Oa([d,a.encodeLocation?a.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?d:Oa([d,a.encodeLocation?a.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),s,n,r,i);return e&&_?F.createElement(im.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},_):_}function VU(){let t=HU(),e=IU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:a},"ErrorBoundary")," or"," ",F.createElement("code",{style:a},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,s)}var LU=F.createElement(VU,null),jU=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?F.createElement(qa.Provider,{value:this.props.routeContext},F.createElement(eS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $U({routeContext:t,match:e,children:n}){let r=F.useContext(ah);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(qa.Provider,{value:t},n)}function UU(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let u=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);$t(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:f,errors:m}=n,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let m,g=!1,A=null,b=null;n&&(m=s&&d.route.id?s[d.route.id]:void 0,A=d.route.errorElement||LU,o&&(l<0&&f===0?(e2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):l===f&&(g=!0,b=d.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,f+1)),_=()=>{let T;return m?T=A:g?T=b:d.route.Component?T=F.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=u,F.createElement($U,{match:d,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:T})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?F.createElement(jU,{location:n.location,revalidation:n.revalidation,component:A,error:m,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):_()},null)}function tS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zU(t){let e=F.useContext(ah);return $t(e,tS(t)),e}function FU(t){let e=F.useContext(hv);return $t(e,tS(t)),e}function BU(t){let e=F.useContext(qa);return $t(e,tS(t)),e}function nS(t){let e=BU(t),n=e.matches[e.matches.length-1];return $t(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function YU(){return nS("useRouteId")}function HU(){var r;let t=F.useContext(eS),e=FU("useRouteError"),n=nS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function qU(){let{router:t}=zU("useNavigate"),e=nS("useNavigate"),n=F.useRef(!1);return ZC(()=>{n.current=!0}),F.useCallback(async(i,a={})=>{Br(n.current,XC),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var AA={};function e2(t,e,n){!e&&!AA[t]&&(AA[t]=!0,Br(!1,n))}F.memo(GU);function GU({routes:t,future:e,state:n,unstable_onError:r}){return JC(t,void 0,n,r,e)}function As(t){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WU({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){$t(!am(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=F.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=Kl(n));let{pathname:l="/",search:u="",hash:d="",state:f=null,key:m="default"}=n,g=F.useMemo(()=>{let A=ja(l,s);return A==null?null:{location:{pathname:A,search:u,hash:d,state:f,key:m},navigationType:r}},[s,l,u,d,f,m,r]);return Br(g!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:F.createElement(Wi.Provider,{value:o},F.createElement(im.Provider,{children:e,value:g}))}function KU({children:t,location:e}){return kU(Xb(t),e)}function Xb(t,e=[]){let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let a=[...e,i];if(r.type===F.Fragment){n.push.apply(n,Xb(r.props.children,a));return}$t(r.type===As,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Xb(r.props.children,a)),n.push(s)}),n}var fg="get",mg="application/x-www-form-urlencoded";function dv(t){return t!=null&&typeof t.tagName=="string"}function QU(t){return dv(t)&&t.tagName.toLowerCase()==="button"}function XU(t){return dv(t)&&t.tagName.toLowerCase()==="form"}function ZU(t){return dv(t)&&t.tagName.toLowerCase()==="input"}function JU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ez(t,e){return t.button===0&&(!e||e==="_self")&&!JU(t)}function Zb(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function tz(t,e){let n=Zb(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var jp=null;function nz(){if(jp===null)try{new FormData(document.createElement("form"),0),jp=!1}catch{jp=!0}return jp}var rz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function T0(t){return t!=null&&!rz.has(t)?(Br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mg}"`),null):t}function iz(t,e){let n,r,i,a,s;if(XU(t)){let o=t.getAttribute("action");r=o?ja(o,e):null,n=t.getAttribute("method")||fg,i=T0(t.getAttribute("enctype"))||mg,a=new FormData(t)}else if(QU(t)||ZU(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?ja(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||fg,i=T0(t.getAttribute("formenctype"))||T0(o.getAttribute("enctype"))||mg,a=new FormData(o,t),!nz()){let{name:u,type:d,value:f}=t;if(d==="image"){let m=u?`${u}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else u&&a.append(u,f)}}else{if(dv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fg,r=null,i=mg,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function az(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ja(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function sz(t,e){if(t.id in e)return e[t.id];try{let n=await BC(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oz(t){return t!=null&&typeof t.page=="string"}function lz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uz(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await sz(a,n);return s.links?s.links():[]}return[]}));return fz(r.flat(1).filter(lz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function DA(t,e,n,r,i,a){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return a==="assets"?e.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?e.filter((l,u)=>{var f;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function cz(t,e,{includeHydrateFallback:n}={}){return hz(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function hz(t){return[...new Set(t)]}function dz(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function fz(t,e){let n=new Set,r=new Set(e);return t.reduce((i,a)=>{if(e&&!oz(a)&&a.as==="script"&&a.href&&r.has(a.href))return i;let o=JSON.stringify(dz(a));return n.has(o)||(n.add(o),i.push({key:o,link:a})),i},[])}function t2(){let t=F.useContext(ah);return rS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mz(){let t=F.useContext(hv);return rS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iS=F.createContext(void 0);iS.displayName="FrameworkContext";function n2(){let t=F.useContext(iS);return rS(t,"You must render this element inside a <HydratedRouter> element"),t}function pz(t,e){let n=F.useContext(iS),[r,i]=F.useState(!1),[a,s]=F.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,m=F.useRef(null);F.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let b=_=>{_.forEach(T=>{s(T.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return m.current&&S.observe(m.current),()=>{S.disconnect()}}},[t]),F.useEffect(()=>{if(r){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[r]);let g=()=>{i(!0)},A=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,m,{}]:[a,m,{onFocus:Xh(o,g),onBlur:Xh(l,A),onMouseEnter:Xh(u,g),onMouseLeave:Xh(d,A),onTouchStart:Xh(f,g)}]:[!1,m,{}]}function Xh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function gz({page:t,...e}){let{router:n}=t2(),r=F.useMemo(()=>YC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?F.createElement(vz,{page:t,matches:r,...e}):null}function yz(t){let{manifest:e,routeModules:n}=n2(),[r,i]=F.useState([]);return F.useEffect(()=>{let a=!1;return uz(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function vz({page:t,matches:e,...n}){let r=bo(),{manifest:i,routeModules:a}=n2(),{basename:s}=t2(),{loaderData:o,matches:l}=mz(),u=F.useMemo(()=>DA(t,e,l,i,r,"data"),[t,e,l,i,r]),d=F.useMemo(()=>DA(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=F.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,b=!1;if(e.forEach(_=>{var D;let T=i.routes[_.route.id];!T||!T.hasLoader||(!u.some(O=>O.route.id===_.route.id)&&_.route.id in o&&((D=a[_.route.id])!=null&&D.shouldRevalidate)||T.hasClientLoader?b=!0:A.add(_.route.id))}),A.size===0)return[];let S=az(t,s,"data");return b&&A.size>0&&S.searchParams.set("_routes",e.filter(_=>A.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[s,o,r,i,u,e,t,a]),m=F.useMemo(()=>cz(d,i),[d,i]),g=yz(d);return F.createElement(F.Fragment,null,f.map(A=>F.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),m.map(A=>F.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),g.map(({key:A,link:b})=>F.createElement("link",{key:A,nonce:n.nonce,...b})))}function _z(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var r2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r2&&(window.__reactRouterVersion="7.9.1")}catch{}function bz({basename:t,children:e,window:n}){let r=F.useRef();r.current==null&&(r.current=sU({window:n,v5Compat:!0}));let i=r.current,[a,s]=F.useState({action:i.action,location:i.location}),o=F.useCallback(l=>{F.startTransition(()=>s(l))},[s]);return F.useLayoutEffect(()=>i.listen(o),[i,o]),F.createElement(WU,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var i2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vi=F.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f,...m},g){let{basename:A}=F.useContext(Wi),b=typeof u=="string"&&i2.test(u),S,_=!1;if(typeof u=="string"&&b&&(S=u,r2))try{let C=new URL(window.location.href),P=u.startsWith("//")?new URL(C.protocol+u):new URL(u),V=ja(P.pathname,A);P.origin===C.origin&&V!=null?u=V+P.search+P.hash:_=!0}catch{Br(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=PU(u,{relative:i}),[D,O,L]=pz(r,m),z=Ez(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function I(C){e&&e(C),C.defaultPrevented||z(C)}let R=F.createElement("a",{...m,...L,href:S||T,onClick:_||a?e:I,ref:_z(g,O),target:l,"data-discover":!b&&n==="render"?"true":void 0});return D&&!b?F.createElement(F.Fragment,null,R,F.createElement(gz,{page:T})):R});Vi.displayName="Link";var wz=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},d){let f=om(s,{relative:u.relative}),m=bo(),g=F.useContext(hv),{navigator:A,basename:b}=F.useContext(Wi),S=g!=null&&Mz(f)&&o===!0,_=A.encodeLocation?A.encodeLocation(f).pathname:f.pathname,T=m.pathname,D=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(T=T.toLowerCase(),D=D?D.toLowerCase():null,_=_.toLowerCase()),D&&b&&(D=ja(D,b)||D);const O=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let L=T===_||!i&&T.startsWith(_)&&T.charAt(O)==="/",z=D!=null&&(D===_||!i&&D.startsWith(_)&&D.charAt(_.length)==="/"),I={isActive:L,isPending:z,isTransitioning:S},R=L?e:void 0,C;typeof r=="function"?C=r(I):C=[r,L?"active":null,z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(I):a;return F.createElement(Vi,{...u,"aria-current":R,className:C,ref:d,style:P,to:s,viewTransition:o},typeof l=="function"?l(I):l)});wz.displayName="NavLink";var Sz=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=fg,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:f,...m},g)=>{let A=Rz(),b=Iz(o,{relative:u}),S=s.toLowerCase()==="get"?"get":"post",_=typeof o=="string"&&i2.test(o),T=D=>{if(l&&l(D),D.defaultPrevented)return;D.preventDefault();let O=D.nativeEvent.submitter,L=(O==null?void 0:O.getAttribute("formmethod"))||s;A(O||D.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return F.createElement("form",{ref:g,method:S,action:b,onSubmit:r?l:T,...m,"data-discover":!_&&t==="render"?"true":void 0})});Sz.displayName="Form";function Tz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a2(t){let e=F.useContext(ah);return $t(e,Tz(t)),e}function Ez(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=sm(),l=bo(),u=om(t,{relative:a});return F.useCallback(d=>{if(ez(d,e)){d.preventDefault();let f=n!==void 0?n:sf(l)===sf(u);o(t,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[l,o,u,n,r,e,t,i,a,s])}function xz(t){Br(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=F.useRef(Zb(t)),n=F.useRef(!1),r=bo(),i=F.useMemo(()=>tz(r.search,n.current?null:e.current),[r.search]),a=sm(),s=F.useCallback((o,l)=>{const u=Zb(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,a("?"+u,l)},[a,i]);return[i,s]}var Az=0,Dz=()=>`__${String(++Az)}__`;function Rz(){let{router:t}=a2("useSubmit"),{basename:e}=F.useContext(Wi),n=YU();return F.useCallback(async(r,i={})=>{let{action:a,method:s,encType:o,formData:l,body:u}=iz(r,e);if(i.navigate===!1){let d=i.fetcherKey||Dz();await t.fetch(d,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Iz(t,{relative:e}={}){let{basename:n}=F.useContext(Wi),r=F.useContext(qa);$t(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...om(t||".",{relative:e})},s=bo();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Oa([n,a.pathname])),sf(a)}function Mz(t,{relative:e}={}){let n=F.useContext(QC);$t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=a2("useViewTransitionState"),i=om(t,{relative:e});if(!n.isTransitioning)return!1;let a=ja(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ja(n.nextLocation.pathname,r)||n.nextLocation.pathname;return cy(i.pathname,s)!=null||cy(i.pathname,a)!=null}const Oz="/MajestiCar/assets/im-fa64ce26.jpg",Cz="/MajestiCar/assets/logov2-c37b63c9.jpg",Pz=()=>E.jsxs("div",{children:[E.jsx("style",{jsx:!0,children:`
        .services-container {
          padding: 60px 20px;
          background:white;
        }

        .services-title {
          text-align: center;
          font-size: 2.5rem;
          font-weight: 700;
          color: #2c3e50;
          margin-bottom: 20px;
        }

        .services-subtitle {
          text-align: center;
          color: #6c757d;
          font-size: 1.1rem;
          margin-bottom: 50px;
          max-width: 600px;
          margin-left: auto;
          margin-right: auto;
        }

        .mw-cards {
          display: grid;
          gap: 30px;
          grid-template-columns: 1fr;
          max-width: 1200px;
          margin: 0 auto;
        }

        @media (min-width: 768px) {
          .mw-cards {
            grid-template-columns: repeat(3, 1fr);
          }
        }

        .mw-card {
          background: white;
          border-radius: 16px;
          padding: 40px 30px;
          text-align: center;
          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
          transition: all 0.3s ease;
          border: 1px solid #e9ecef;
          position: relative;
          overflow: hidden;
        }

        .mw-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 4px;
          background: linear-gradient(90deg, #007bff, #0056b3);
          transform: translateX(-100%);
          transition: transform 0.3s ease;
        }

        .mw-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        }

        .mw-card:hover::before {
          transform: translateX(0);
        }

        .mw-icon {
          font-size: 3rem;
          margin-bottom: 20px;
          display: block;
          line-height: 1;
        }

        .mw-icon-bounce {
          animation: bounce 2s infinite;
        }

        .mw-icon-pulse {
          animation: pulse 2s infinite;
        }

        @keyframes bounce {
          0%, 20%, 53%, 80%, 100% {
            transform: translateY(0);
          }
          40%, 43% {
            transform: translateY(-10px);
          }
          70% {
            transform: translateY(-5px);
          }
        }

        @keyframes pulse {
          0% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.1);
            opacity: 0.8;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        .mw-title {
          font-size: 1.5rem;
          font-weight: 600;
          color: black;
          margin-bottom: 15px;
          margin-top: 0;
        }

        .mw-text {
          color: black;
          line-height: 1.6;
          font-size: 1rem;
          margin: 0;
        }

        .mw-card:nth-child(1) {
          animation-delay: 0s;
        }

        .mw-card:nth-child(2) {
          animation-delay: 0.1s;
        }

        .mw-card:nth-child(3) {
          animation-delay: 0.2s;
        }

        .card-appear {
          opacity: 0;
          transform: translateY(30px);
          animation: slideInUp 0.6s ease-out forwards;
        }

        @keyframes slideInUp {
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        /* Version alternative avec icnes SVG */
        .svg-icon {
          width: 48px;
          height: 48px;
          margin: 0 auto 20px;
          padding: 12px;
          background: linear-gradient(135deg, #007bff, #0056b3);
          border-radius: 12px;
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
        }

        .mw-card:hover .svg-icon {
          transform: scale(1.1) rotate(5deg);
        }
      `}),E.jsxs("section",{className:"services-container",children:[E.jsx("h2",{className:"services-title",children:"Pourquoi choisir Majesti'Car ?"}),E.jsx("p",{className:"services-subtitle",children:"Dcouvrez les avantages qui font de nous votre partenaire de confiance"}),E.jsxs("div",{className:"mw-cards",id:"cards-container",children:[E.jsxs("article",{className:"mw-card card-appear",children:[E.jsx("div",{className:"mw-icon mw-icon-bounce",children:""}),E.jsx("h3",{className:"mw-title",children:"Service  domicile"}),E.jsx("p",{className:"mw-text",children:"Nous venons chez vous au moment qui vous convient. Plus besoin de perdre du temps en dplacement  on s'occupe de tout, sur place."})]}),E.jsxs("article",{className:"mw-card card-appear",children:[E.jsx("div",{className:"mw-icon mw-icon-pulse",children:""}),E.jsx("h3",{className:"mw-title",children:"Produits cologiques"}),E.jsx("p",{className:"mw-text",children:"Tous nos produits sont choisis pour leur efficacit et leur faible impact sur l'environnement, afin de protger votre vhicule et la plante."})]}),E.jsxs("article",{className:"mw-card card-appear",children:[E.jsx("div",{className:"mw-icon mw-icon-pulse",children:""}),E.jsx("h3",{className:"mw-title",children:"Excellence professionnelle"}),E.jsx("p",{className:"mw-text",children:"Techniques avances et attention aux dtails pour une protection longue dure et un rendu impeccable."})]})]})]})]});function Nz(){F.useState(0);const t=F.useRef(null),e=F.useRef(null),n=F.useRef(null),r=()=>{var u;(u=t.current)==null||u.scrollIntoView({behavior:"smooth"})},i=()=>{var u;(u=e.current)==null||u.scrollIntoView({behavior:"smooth"})},a=()=>{var u;(u=n.current)==null||u.scrollIntoView({behavior:"smooth"})};F.useEffect(()=>{document.querySelectorAll(".mw-card").forEach((d,f)=>{setTimeout(()=>d.classList.add("visible"),150*f)})},[]);const[s,o]=F.useState(!1),l=()=>{o(!s)};return E.jsxs("div",{className:"App",children:[E.jsx("div",{className:"top-banner",children:E.jsx("div",{className:"slogan",children:" Bienvenue sur notre site ! Dcouvrez nos services exceptionnels "})}),E.jsx("header",{className:"App-header",children:E.jsxs("div",{className:"menu-container",children:[E.jsx("img",{src:Cz,alt:"Logo",className:"menu-logo"}),E.jsxs("div",{className:`hamburger-menu ${s?"active":""}`,onClick:l,children:[E.jsx("span",{}),E.jsx("span",{}),E.jsx("span",{})]}),E.jsxs("div",{className:`menu-items-wrapper ${s?"open":""}`,children:[E.jsx("a",{href:"/MajestiCar",className:"menu-item",children:"Home"}),E.jsx("a",{onClick:i,className:"menu-item",children:"A propos"}),E.jsx("a",{onClick:r,className:"menu-item",children:"Services"}),E.jsx("a",{onClick:a,className:"menu-item",children:"Contact"}),E.jsx("button",{onClick:r,className:"Reserver-button",children:"Rserver"})]})]})}),E.jsxs("div",{className:"Photo",children:[E.jsx("img",{src:Oz,alt:"A beautiful scenery"}),E.jsx("div",{className:"image-slogan",children:"Votre voiture, notre soin, partout avec Majesti'Car."}),E.jsx("div",{className:"Mes_services",children:E.jsx("button",{onClick:r,className:"Button_services",children:"Voir nos services"})})]}),E.jsxs("div",{className:"A_propos",ref:e,children:[E.jsx("h2",{children:" propos de MajestiCar"}),E.jsxs("p",{children:["Bienvenue chez MajestiCar, votre partenaire du nettoyage automobile premium . Nous avons conu un utilitaire transform en station de lavage mobile , 100% autonome en lectricit et en eau, pour vous offrir un service rapide, pratique et haut de gamme. ",E.jsx("br",{})," O vous voulez, quand vous voulez :",E.jsx("br",{}),"-  domicile ",E.jsx("br",{}),"- Sur votre lieu de travail ",E.jsx("br",{}),"- Ou  ladresse de votre choix ",E.jsx("br",{}),E.jsx("br",{})," Nos services :",E.jsx("br",{}),"- Nettoyage extrieur ",E.jsx("br",{}),"- Nettoyage intrieur ",E.jsx("br",{}),"- Finitions soignes pour un rendu comme neuf ",E.jsx("br",{}),E.jsx("br",{}),"Avec MajestiCar, plus besoin de vous dplacer :  Nous venons  vous et nous redonnons tout son clat  votre vhicule.",E.jsx("br",{}),E.jsx("br",{}),"Confort, qualit et exigence sont au cur de notre savoir-faire ."]})]}),E.jsx(Pz,{}),E.jsx("h1",{className:"Diff_services",ref:t,children:"Nos differents services"}),E.jsxs("div",{className:"services",id:"Diff_services",children:[E.jsxs("div",{class:"service bronze",children:[E.jsx("h3",{children:"Formule Bronze"}),E.jsx("div",{class:"price",children:"40"}),E.jsxs("ul",{class:"features",children:[E.jsx("li",{children:"Aspiration complte de l'habitacle"}),E.jsx("li",{children:"Nettoyage des vitres et pare-brise"}),E.jsx("li",{children:"Traitement des plastiques/tableau de bord"}),E.jsx("li",{children:"Parfum"})]}),E.jsx(Vi,{to:"/reserver-bronze",className:"select-button",children:"Choisir cette formule"})]}),E.jsxs("div",{class:"service argent",children:[E.jsx("h3",{children:"Formule Argent"}),E.jsx("div",{class:"price",children:"80"}),E.jsxs("ul",{class:"features",children:[E.jsx("li",{children:"Aspiration complte de l'habitacle"}),E.jsx("li",{children:"Nettoyage des vitres et pare-brise"}),E.jsx("li",{children:"Traitement des plastiques/tableau de bord"}),E.jsx("li",{children:"Parfum"}),E.jsx("li",{children:"Dcontamination vapeur siges/tapis/moquettes/coffre"}),E.jsx("li",{children:"Nettoyage des seuils de portes"}),E.jsx("li",{children:"Dgraissage de la trappe  carburant"})]}),E.jsx(Vi,{to:"/reserver-argent",className:"select-button",children:"Choisir cette formule"})]}),E.jsxs("div",{class:"service or",children:[E.jsx("h3",{children:"Formule Or"}),E.jsx("div",{class:"price",children:"120"}),E.jsxs("ul",{class:"features",children:[E.jsx("li",{children:"Aspiration complte de l'habitacle"}),E.jsx("li",{children:"Nettoyage des vitres et pare-brise"}),E.jsx("li",{children:"Traitement des plastiques/tableau de bord"}),E.jsx("li",{children:"Parfum"}),E.jsx("li",{children:"Dcontamination vapeur siges/tapis/moquettes/coffre"}),E.jsx("li",{children:"Nettoyage des seuils de portes"}),E.jsx("li",{children:"Dgraissage de la trappe  carburant"}),E.jsx("li",{children:"Shampouineuse siges/tapis/moquettes/coffre"}),E.jsx("li",{children:"Dcontamination de l'habitacle et traitement du systme d'aration"})]}),E.jsx(Vi,{to:"/reserver-or",className:"select-button",children:"Choisir cette formule"})]})]}),E.jsxs("footer",{className:"footer-section",children:[E.jsxs("div",{className:"footer-container",children:[E.jsxs("div",{className:"footer-contact",children:[E.jsx("h2",{children:"Contactez-nous"}),E.jsxs("p",{children:[E.jsx("strong",{children:"Tlphone :"})," ",E.jsx("a",{href:"tel:+212612345678",className:"footer-phone",children:"+212 6 12 34 56 78"})]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Email :"})," ",E.jsx("a",{href:"mailto:alaejennine33@gmail.com",className:"footer-email",children:"alaejennine33@gmail.com"})]})]}),E.jsx("div",{className:"footer-divider"}),E.jsxs("div",{className:"footer-social",children:[E.jsx("h2",{children:"Suivez-nous"}),E.jsxs("div",{className:"social-links",children:[E.jsx("a",{href:"#",className:"social-link",children:"Facebook"}),E.jsx("a",{href:"#",className:"social-link",children:"Twitter"}),E.jsx("a",{href:"#",className:"social-link",children:"Instagram"})]})]}),E.jsx("div",{className:"footer-divider"}),E.jsxs("div",{className:"footer-info",children:[E.jsx("h2",{children:" propos"}),E.jsx("p",{children:"Majesti'Car est une plateforme moderne ddie au lavage intelligent et cologique."})]})]}),E.jsx("div",{className:"footer-bottom",children:E.jsx("p",{children:" 2025 Majesti'Car. Tous droits rservs."})})]})]})}function kz(){const[t,e]=F.useState({nom:"",email:"",telephone:"",jour:"",heure:"",paiement:"CB",plan:"bronze"}),n=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],r=["09:00","10:00","11:00","14:00","15:00","16:00","17:00"],i=s=>{const{name:o,value:l}=s.target;e(u=>({...u,[o]:l}))},a=s=>{if(s.preventDefault(),!t.nom||!t.email||!t.jour||!t.heure||!t.plan){alert("Veuillez remplir tous les champs obligatoires.");return}const o={bronze:"50",argent:"80",or:"120"};alert(`Merci ${t.nom}, vous avez choisi la formule ${t.plan.toUpperCase()} (${o[t.plan]}). Vous allez tre redirig vers la page de paiement.`),t.paiement==="CB"?t.plan==="bronze"?window.location.href="https://buy.stripe.com/3cI5kD41t7Aq81C4yy8bS00":t.plan==="argent"?window.location.href="https://buy.stripe.com/cNi7sL9lN5si81Ce988bS01":t.plan==="or"&&(window.location.href="https://buy.stripe.com/3cI3cv41t07Y3Lme988bS02"):(console.log("Rservation confirme pour paiement en espces:",t),alert("Rservation confirme ! N'oubliez pas d'apporter le montant exact le jour du rendez-vous."))};return E.jsxs("div",{className:"reservation-container",children:[E.jsxs("header",{className:"reservation-header",children:[E.jsx("button",{onClick:()=>window.location.href="/MugiWash",className:"back-button",children:" Retour"}),E.jsx("h1",{children:"Rservation MugiWash"})]}),E.jsxs("form",{onSubmit:a,className:"reservation-form",children:[E.jsxs("div",{className:"form-section",children:[E.jsx("h2",{children:" Informations personnelles"}),E.jsxs("div",{className:"form-row",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"nom",children:"Nom complet *"}),E.jsx("input",{type:"text",id:"nom",name:"nom",value:t.nom,onChange:i,required:!0,placeholder:"Votre nom"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"email",children:"Email *"}),E.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:i,required:!0,placeholder:"votre@email.com"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"telephone",children:"Tlphone"}),E.jsx("input",{type:"tel",id:"telephone",name:"telephone",value:t.telephone,onChange:i,placeholder:"06 12 34 56 78"})]})]}),E.jsxs("div",{className:"form-section",children:[E.jsx("h2",{children:" Choisissez votre crneau"}),E.jsxs("div",{className:"form-row",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"jour",children:"Jour de la semaine *"}),E.jsxs("select",{id:"jour",name:"jour",value:t.jour,onChange:i,required:!0,children:[E.jsx("option",{value:"",children:"Slectionnez un jour"}),n.map(s=>E.jsx("option",{value:s,children:s},s))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"heure",children:"Heure *"}),E.jsxs("select",{id:"heure",name:"heure",value:t.heure,onChange:i,required:!0,children:[E.jsx("option",{value:"",children:"Slectionnez une heure"}),r.map(s=>E.jsx("option",{value:s,children:s},s))]})]})]})]}),E.jsxs("div",{className:"form-section",children:[E.jsx("h2",{children:" Choisissez votre formule *"}),E.jsxs("div",{className:"payment-options",children:[E.jsxs("label",{className:"payment-option",children:[E.jsx("input",{type:"radio",name:"plan",value:"bronze",checked:t.plan==="bronze",onChange:i}),E.jsxs("div",{className:"payment-card",children:[E.jsx("span",{className:"payment-icon",children:""}),E.jsxs("div",{children:[E.jsx("strong",{children:"Formule Bronze"}),E.jsx("p",{children:"Lavage extrieur + intrieur basique - 50"})]})]})]}),E.jsxs("label",{className:"payment-option",children:[E.jsx("input",{type:"radio",name:"plan",value:"argent",checked:t.plan==="argent",onChange:i}),E.jsxs("div",{className:"payment-card",children:[E.jsx("span",{className:"payment-icon",children:""}),E.jsxs("div",{children:[E.jsx("strong",{children:"Formule Argent"}),E.jsx("p",{children:"Lavage complet + aspiration + produits premium - 80"})]})]})]}),E.jsxs("label",{className:"payment-option",children:[E.jsx("input",{type:"radio",name:"plan",value:"or",checked:t.plan==="or",onChange:i}),E.jsxs("div",{className:"payment-card",children:[E.jsx("span",{className:"payment-icon",children:""}),E.jsxs("div",{children:[E.jsx("strong",{children:"Formule Or"}),E.jsx("p",{children:"Service premium + cire + nettoyage jantes - 120"})]})]})]})]})]}),E.jsxs("div",{className:"form-section",children:[E.jsx("h2",{children:" Mode de paiement *"}),E.jsxs("div",{className:"payment-options",children:[E.jsxs("label",{className:"payment-option",children:[E.jsx("input",{type:"radio",name:"paiement",value:"CB",checked:t.paiement==="CB",onChange:i}),E.jsxs("div",{className:"payment-card",children:[E.jsx("span",{className:"payment-icon",children:""}),E.jsxs("div",{children:[E.jsx("strong",{children:"Carte Bancaire"}),E.jsx("p",{children:"Paiement scuris en ligne"})]})]})]}),E.jsxs("label",{className:"payment-option",children:[E.jsx("input",{type:"radio",name:"paiement",value:"Espece",checked:t.paiement==="Espece",onChange:i}),E.jsxs("div",{className:"payment-card",children:[E.jsx("span",{className:"payment-icon",children:""}),E.jsxs("div",{children:[E.jsx("strong",{children:"Espces sur place"}),E.jsx("p",{children:"Payez directement au rendez-vous"})]})]})]})]})]}),E.jsx("button",{type:"submit",className:"submit-button",children:t.paiement==="CB"?"Procder au paiement":"Confirmer la rservation"})]})]})}function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function Vz(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s2(t){var e=Vz(t,"string");return $a(e)=="symbol"?e:e+""}function il(t,e,n){return(e=s2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RA(Object(n),!0).forEach(function(r){il(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fv(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Bi(t,e){if(t==null)return{};var n,r,i=fv(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s2(r.key),r)}}function pn(t,e,n){return e&&IA(t.prototype,e),n&&IA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hy(t){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hy(t)}function o2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o2=function(){return!!t})()}function Lz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jz(t,e){if(e&&($a(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lz(t)}function zn(t,e,n){return e=hy(e),jz(t,o2()?Reflect.construct(e,n||[],hy(t).constructor):e.apply(t,n))}function dy(t,e){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},dy(t,e)}function Fn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dy(t,e)}function l2(t){if(Array.isArray(t))return t}function $z(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Jb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function aS(t,e){if(t){if(typeof t=="string")return Jb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jb(t,e):void 0}}function u2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $r(t,e){return l2(t)||$z(t,e)||aS(t,e)||u2()}function c2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=c2(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Wt(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=c2(t))&&(r&&(r+=" "),r+=e);return r}function qt(){return qt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qt.apply(null,arguments)}var Uz=function(t,e,n,r,i,a,s,o){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,a,s,o],d=0;l=new Error(e.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},zz=Uz;const of=Wn(zz);var Fz=function(){};function Bz(t,e){var n={};return Object.keys(t).forEach(function(r){n[pg(r)]=Fz}),n}function MA(t,e){return t[e]!==void 0}function pg(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Yz(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function Hz(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,dy(t,e)}function h2(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function d2(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function f2(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}h2.__suppressDeprecationWarning=!0;d2.__suppressDeprecationWarning=!0;f2.__suppressDeprecationWarning=!0;function qz(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var a=t.displayName||t.name,s=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=h2,e.componentWillReceiveProps=d2),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=f2;var o=e.componentDidUpdate;e.componentDidUpdate=function(u,d,f){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;o.call(this,u,d,m)}}return t}var Gz="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function m2(t,e,n){n===void 0&&(n=[]);var r=t.displayName||t.name||"Component",i=Yz(t),a=Object.keys(e),s=a.map(pg);i||!n.length||of(!1);var o=function(u){Hz(d,u);function d(){for(var m,g=arguments.length,A=new Array(g),b=0;b<g;b++)A[b]=arguments[b];m=u.call.apply(u,[this].concat(A))||this,m.handlers=Object.create(null),a.forEach(function(_){var T=e[_],D=function(L){if(m.props[T]){var z;m._notifying=!0;for(var I=arguments.length,R=new Array(I>1?I-1:0),C=1;C<I;C++)R[C-1]=arguments[C];(z=m.props)[T].apply(z,[L].concat(R)),m._notifying=!1}m.unmounted||m.setState(function(P){var V,$=P.values;return{values:qt(Object.create(null),$,(V={},V[_]=L,V))}})};m.handlers[T]=D}),n.length&&(m.attachRef=function(_){m.inner=_});var S=Object.create(null);return a.forEach(function(_){S[_]=m.props[pg(_)]}),m.state={values:S,prevProps:{}},m}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(g,A){var b=A.values,S=A.prevProps,_={values:qt(Object.create(null),b),prevProps:{}};return a.forEach(function(T){_.prevProps[T]=g[T],!MA(g,T)&&MA(S,T)&&(_.values[T]=g[pg(T)])}),_},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var g=this,A=this.props,b=A.innerRef,S=fv(A,["innerRef"]);s.forEach(function(T){delete S[T]});var _={};return a.forEach(function(T){var D=g.props[T];_[T]=D!==void 0?D:g.state.values[T]}),B.createElement(t,qt({},S,_,this.handlers,{ref:b||this.attachRef}))},d}(B.Component);qz(o),o.displayName="Uncontrolled("+r+")",o.propTypes=qt({innerRef:function(){}},Bz(e)),n.forEach(function(u){o.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var l=o;return B.forwardRef&&(l=B.forwardRef(function(u,d){return B.createElement(o,qt({},u,{innerRef:d,__source:{fileName:Gz,lineNumber:128},__self:this}))}),l.propTypes=o.propTypes),l.ControlledComponent=t,l.deferControlTo=function(u,d,f){return d===void 0&&(d={}),m2(u,qt({},e,d),f)},l}var p2={exports:{}},Wz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kz=Wz,Qz=Kz;function g2(){}function y2(){}y2.resetWarningCache=g2;var Xz=function(){function t(r,i,a,s,o,l){if(l!==Qz){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:y2,resetWarningCache:g2};return n.PropTypes=n,n};p2.exports=Xz();var Zz=p2.exports;const ce=Wn(Zz);var fy="milliseconds",lf="seconds",uf="minutes",cf="hours",Rl="day",xc="week",hf="month",Il="year",Ml="decade",Ol="century",v2={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},Jz={month:1,year:12,decade:10*12,century:100*12};function e5(t){return[31,t5(t),31,30,31,30,31,31,30,31,30,31]}function t5(t){return t%4===0&&t%100!==0||t%400===0?29:28}function hi(t,e,n){switch(t=new Date(t),n){case fy:case lf:case uf:case cf:case Rl:case xc:return n5(t,e*v2[n]);case hf:case Il:case Ml:case Ol:return r5(t,e*Jz[n])}throw new TypeError('Invalid units: "'+n+'"')}function n5(t,e){var n=new Date(+t+e);return i5(t,n)}function r5(t,e){var n=t.getFullYear(),r=t.getMonth(),i=t.getDate(),a=n*12+r+e,s=Math.trunc(a/12),o=a%12,l=Math.min(i,e5(s)[o]),u=new Date(t);return u.setFullYear(s),u.setDate(1),u.setMonth(o),u.setDate(l),u}function i5(t,e){var n=t.getTimezoneOffset(),r=e.getTimezoneOffset(),i=r-n;return new Date(+e+i*v2.minutes)}function df(t,e,n){return hi(t,-e,n)}function Cn(t,e,n){switch(t=new Date(t),e){case Ol:case Ml:case Il:t=py(t,0);case hf:t=T2(t,1);case xc:case Rl:t=pf(t,0);case cf:t=Ac(t,0);case uf:t=mf(t,0);case lf:t=ff(t,0)}return e===Ml&&(t=df(t,Cl(t)%10,"year")),e===Ol&&(t=df(t,Cl(t)%100,"year")),e===xc&&(t=E2(t,0,n)),t}function my(t,e,n){switch(t=new Date(t),t=Cn(t,e,n),e){case Ol:case Ml:case Il:case hf:case xc:t=hi(t,1,e),t=df(t,1,Rl),t.setHours(23,59,59,999);break;case Rl:t.setHours(23,59,59,999);break;case cf:case uf:case lf:t=hi(t,1,e),t=df(t,1,fy)}return t}var lm=oh(function(t,e){return t===e}),sS=oh(function(t,e){return t!==e}),mv=oh(function(t,e){return t>e}),um=oh(function(t,e){return t>=e}),oS=oh(function(t,e){return t<e}),sh=oh(function(t,e){return t<=e});function _2(){return new Date(Math.min.apply(Math,arguments))}function b2(){return new Date(Math.max.apply(Math,arguments))}function w2(t,e,n,r){return r=r||"day",(!e||um(t,e,r))&&(!n||sh(t,n,r))}var ff=wo("Milliseconds"),mf=wo("Seconds"),Ac=wo("Minutes"),pf=wo("Hours"),S2=wo("Day"),T2=wo("Date"),py=wo("Month"),Cl=wo("FullYear");function a5(t,e){return e===void 0?Cl(Cn(t,Ml)):hi(t,e+10,Il)}function s5(t,e){return e===void 0?Cl(Cn(t,Ol)):hi(t,e+100,Il)}function E2(t,e,n){var r=(S2(t)+7-(n||0))%7;return e===void 0?r:hi(t,e-r,Rl)}function o5(t,e,n,r){var i,a,s;switch(n){case fy:case lf:case uf:case cf:case Rl:case xc:i=e.getTime()-t.getTime();break;case hf:case Il:case Ml:case Ol:i=(Cl(e)-Cl(t))*12+py(e)-py(t);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case fy:a=1;break;case lf:a=1e3;break;case uf:a=1e3*60;break;case cf:a=1e3*60*60;break;case Rl:a=1e3*60*60*24;break;case xc:a=1e3*60*60*24*7;break;case hf:a=1;break;case Il:a=12;break;case Ml:a=120;break;case Ol:a=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return s=i/a,r?s:Math.round(s)}function wo(t){var e=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(n,r){if(r===void 0)return n["get"+t]();var i=new Date(n);return i["set"+t](r),e&&i["get"+t]()!=r&&(t==="Hours"||r>=e&&i.getHours()-n.getHours()<Math.floor(r/e))&&i["set"+t](r+e),i}}function oh(t){return function(e,n,r){return t(+Cn(e,r),+Cn(n,r))}}const OA=Object.freeze(Object.defineProperty({__proto__:null,add:hi,century:s5,date:T2,day:S2,decade:a5,diff:o5,endOf:my,eq:lm,gt:mv,gte:um,hours:pf,inRange:w2,lt:oS,lte:sh,max:b2,milliseconds:ff,min:_2,minutes:Ac,month:py,neq:sS,seconds:mf,startOf:Cn,subtract:df,weekday:E2,year:Cl},Symbol.toStringTag,{value:"Module"}));function l5(t){if(Array.isArray(t))return Jb(t)}function x2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function u5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gg(t){return l5(t)||x2(t)||aS(t)||u5()}function c5(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var A2=c5;function h5(t,e){return t===e||t!==t&&e!==e}var cm=h5,d5=typeof tr=="object"&&tr&&tr.Object===Object&&tr,D2=d5,f5=D2,m5=typeof self=="object"&&self&&self.Object===Object&&self,p5=f5||m5||Function("return this")(),Ki=p5,g5=Ki,y5=g5.Symbol,lh=y5,CA=lh,R2=Object.prototype,v5=R2.hasOwnProperty,_5=R2.toString,Zh=CA?CA.toStringTag:void 0;function b5(t){var e=v5.call(t,Zh),n=t[Zh];try{t[Zh]=void 0;var r=!0}catch{}var i=_5.call(t);return r&&(e?t[Zh]=n:delete t[Zh]),i}var w5=b5,S5=Object.prototype,T5=S5.toString;function E5(t){return T5.call(t)}var x5=E5,PA=lh,A5=w5,D5=x5,R5="[object Null]",I5="[object Undefined]",NA=PA?PA.toStringTag:void 0;function M5(t){return t==null?t===void 0?I5:R5:NA&&NA in Object(t)?A5(t):D5(t)}var uh=M5;function O5(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ga=O5,C5=uh,P5=Ga,N5="[object AsyncFunction]",k5="[object Function]",V5="[object GeneratorFunction]",L5="[object Proxy]";function j5(t){if(!P5(t))return!1;var e=C5(t);return e==k5||e==V5||e==N5||e==L5}var lS=j5,$5=9007199254740991;function U5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=$5}var uS=U5,z5=lS,F5=uS;function B5(t){return t!=null&&F5(t.length)&&!z5(t)}var hm=B5,Y5=9007199254740991,H5=/^(?:0|[1-9]\d*)$/;function q5(t,e){var n=typeof t;return e=e??Y5,!!e&&(n=="number"||n!="symbol"&&H5.test(t))&&t>-1&&t%1==0&&t<e}var cS=q5,G5=cm,W5=hm,K5=cS,Q5=Ga;function X5(t,e,n){if(!Q5(n))return!1;var r=typeof e;return(r=="number"?W5(n)&&K5(e,n.length):r=="string"&&e in n)?G5(n[e],t):!1}var pv=X5,Z5=/\s/;function J5(t){for(var e=t.length;e--&&Z5.test(t.charAt(e)););return e}var eF=J5,tF=eF,nF=/^\s+/;function rF(t){return t&&t.slice(0,tF(t)+1).replace(nF,"")}var iF=rF;function aF(t){return t!=null&&typeof t=="object"}var So=aF,sF=uh,oF=So,lF="[object Symbol]";function uF(t){return typeof t=="symbol"||oF(t)&&sF(t)==lF}var dm=uF,cF=iF,kA=Ga,hF=dm,VA=0/0,dF=/^[-+]0x[0-9a-f]+$/i,fF=/^0b[01]+$/i,mF=/^0o[0-7]+$/i,pF=parseInt;function gF(t){if(typeof t=="number")return t;if(hF(t))return VA;if(kA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=kA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=cF(t);var n=fF.test(t);return n||mF.test(t)?pF(t.slice(2),n?2:8):dF.test(t)?VA:+t}var yF=gF,vF=yF,LA=1/0,_F=17976931348623157e292;function bF(t){if(!t)return t===0?t:0;if(t=vF(t),t===LA||t===-LA){var e=t<0?-1:1;return e*_F}return t===t?t:0}var I2=bF,wF=I2;function SF(t){var e=wF(t),n=e%1;return e===e?n?e-n:e:0}var M2=SF,TF=A2,EF=pv,xF=M2,AF=Math.ceil,DF=Math.max;function RF(t,e,n){(n?EF(t,e,n):e===void 0)?e=1:e=DF(xF(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var i=0,a=0,s=Array(AF(r/e));i<r;)s[a++]=TF(t,i,i+=e);return s}var IF=RF;const MF=Wn(IF);function fm(t){return t&&t.ownerDocument||document}function OF(t){var e=fm(t);return e&&e.defaultView||window}function CF(t,e){return OF(t).getComputedStyle(t,e)}var PF=/([A-Z])/g;function NF(t){return t.replace(PF,"-$1").toLowerCase()}var kF=/^ms-/;function $p(t){return NF(t).replace(kF,"-ms-")}var VF=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function LF(t){return!!(t&&VF.test(t))}function Nu(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue($p(e))||CF(t).getPropertyValue($p(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?t.style.removeProperty($p(i)):LF(i)?r+=i+"("+a+") ":n+=$p(i)+": "+a+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function gf(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function jF(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function hS(t){return"window"in t&&t.window===t?t:jF(t)&&t.defaultView||!1}function O2(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var a=hS(r);if(i===void 0)return a?a[t]:r[e];a?a.scrollTo(a[t],i):r[e]=i}return n}const C2=O2("pageXOffset"),P2=O2("pageYOffset");function vl(t){var e=fm(t),n={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!gf(r,t)||(t.getBoundingClientRect!==void 0&&(n=t.getBoundingClientRect()),n={top:n.top+P2(r)-(r.clientTop||0),left:n.left+C2(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var $F=function(e){return!!e&&"offsetParent"in e};function UF(t){for(var e=fm(t),n=t&&t.offsetParent;$F(n)&&n.nodeName!=="HTML"&&Nu(n,"position")==="static";)n=n.offsetParent;return n||e.documentElement}var zF=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function N2(t,e){var n={top:0,left:0},r;if(Nu(t,"position")==="fixed")r=t.getBoundingClientRect();else{var i=e||UF(t);r=vl(t),zF(i)!=="html"&&(n=vl(i));var a=String(Nu(i,"borderTopWidth")||0);n.top+=parseInt(a,10)-P2(i)||0;var s=String(Nu(i,"borderLeftWidth")||0);n.left+=parseInt(s,10)-C2(i)||0}var o=String(Nu(t,"marginTop")||0),l=String(Nu(t,"marginLeft")||0);return qt({},r,{top:r.top-n.top-(parseInt(o,10)||0),left:r.left-n.left-(parseInt(l,10)||0)})}const dS=!!(typeof window<"u"&&window.document&&window.document.createElement);var jA=new Date().getTime();function FF(t){var e=new Date().getTime(),n=Math.max(0,16-(e-jA)),r=setTimeout(t,n);return jA=e,r}var BF=["","webkit","moz","o","ms"],e1="clearTimeout",t1=FF,$A=function(e,n){return e+(e?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};dS&&BF.some(function(t){var e=$A(t,"request");return e in window&&(e1=$A(t,"cancel"),t1=function(r){return window[e](r)}),!!t1});var UA=function(e){typeof window[e1]=="function"&&window[e1](e)},k2=t1,E0;function YF(t,e){if(!E0){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;E0=function(a,s){return r.call(a,s)}}return E0(t,e)}var HF=Function.prototype.bind.call(Function.prototype.call,[].slice);function qF(t,e){return HF(t.querySelectorAll(e))}var n1=!1,r1=!1;try{var x0={get passive(){return n1=!0},get once(){return r1=n1=!0}};dS&&(window.addEventListener("test",x0,x0),window.removeEventListener("test",x0,!0))}catch{}function GF(t,e,n,r){if(r&&typeof r!="boolean"&&!r1){var i=r.once,a=r.capture,s=n;!r1&&i&&(s=n.__once||function o(l){this.removeEventListener(e,o,a),n.call(this,l)},n.__once=s),t.addEventListener(e,s,n1?r:a)}t.addEventListener(e,n,r)}function WF(t){const e=F.useRef(t);return F.useEffect(()=>{e.current=t},[t]),e}function zA(t){const e=WF(t);return F.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function FA(){return F.useState(null)}function KF(){const t=F.useRef(!0),e=F.useRef(()=>t.current);return F.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function QF(t){const e=KF();return[t[0],F.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var ar="top",Yr="bottom",Hr="right",sr="left",fS="auto",mm=[ar,Yr,Hr,sr],Dc="start",yf="end",XF="clippingParents",V2="viewport",Jh="popper",ZF="reference",BA=mm.reduce(function(t,e){return t.concat([e+"-"+Dc,e+"-"+yf])},[]),mS=[].concat(mm,[fS]).reduce(function(t,e){return t.concat([e,e+"-"+Dc,e+"-"+yf])},[]),JF="beforeRead",e9="read",t9="afterRead",n9="beforeMain",r9="main",i9="afterMain",a9="beforeWrite",s9="write",o9="afterWrite",l9=[JF,e9,t9,n9,r9,i9,a9,s9,o9];function Li(t){return t.split("-")[0]}function Er(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Pl(t){var e=Er(t).Element;return t instanceof e||t instanceof Element}function ji(t){var e=Er(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function pS(t){if(typeof ShadowRoot>"u")return!1;var e=Er(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var _l=Math.max,gy=Math.min,Rc=Math.round;function i1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function L2(){return!/^((?!chrome|android).)*safari/i.test(i1())}function Ic(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,a=1;e&&ji(t)&&(i=t.offsetWidth>0&&Rc(r.width)/t.offsetWidth||1,a=t.offsetHeight>0&&Rc(r.height)/t.offsetHeight||1);var s=Pl(t)?Er(t):window,o=s.visualViewport,l=!L2()&&n,u=(r.left+(l&&o?o.offsetLeft:0))/i,d=(r.top+(l&&o?o.offsetTop:0))/a,f=r.width/i,m=r.height/a;return{width:f,height:m,top:d,right:u+f,bottom:d+m,left:u,x:u,y:d}}function gS(t){var e=Ic(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function j2(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&pS(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function oo(t){return t?(t.nodeName||"").toLowerCase():null}function Ua(t){return Er(t).getComputedStyle(t)}function u9(t){return["table","td","th"].indexOf(oo(t))>=0}function To(t){return((Pl(t)?t.ownerDocument:t.document)||window.document).documentElement}function gv(t){return oo(t)==="html"?t:t.assignedSlot||t.parentNode||(pS(t)?t.host:null)||To(t)}function YA(t){return!ji(t)||Ua(t).position==="fixed"?null:t.offsetParent}function c9(t){var e=/firefox/i.test(i1()),n=/Trident/i.test(i1());if(n&&ji(t)){var r=Ua(t);if(r.position==="fixed")return null}var i=gv(t);for(pS(i)&&(i=i.host);ji(i)&&["html","body"].indexOf(oo(i))<0;){var a=Ua(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function pm(t){for(var e=Er(t),n=YA(t);n&&u9(n)&&Ua(n).position==="static";)n=YA(n);return n&&(oo(n)==="html"||oo(n)==="body"&&Ua(n).position==="static")?e:n||c9(t)||e}function yS(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Cd(t,e,n){return _l(t,gy(e,n))}function h9(t,e,n){var r=Cd(t,e,n);return r>n?n:r}function $2(){return{top:0,right:0,bottom:0,left:0}}function U2(t){return Object.assign({},$2(),t)}function z2(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var d9=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,U2(typeof e!="number"?e:z2(e,mm))};function f9(t){var e,n=t.state,r=t.name,i=t.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,o=Li(n.placement),l=yS(o),u=[sr,Hr].indexOf(o)>=0,d=u?"height":"width";if(!(!a||!s)){var f=d9(i.padding,n),m=gS(a),g=l==="y"?ar:sr,A=l==="y"?Yr:Hr,b=n.rects.reference[d]+n.rects.reference[l]-s[l]-n.rects.popper[d],S=s[l]-n.rects.reference[l],_=pm(a),T=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,D=b/2-S/2,O=f[g],L=T-m[d]-f[A],z=T/2-m[d]/2+D,I=Cd(O,z,L),R=l;n.modifiersData[r]=(e={},e[R]=I,e.centerOffset=I-z,e)}}function m9(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||j2(e.elements.popper,i)&&(e.elements.arrow=i))}const p9={name:"arrow",enabled:!0,phase:"main",fn:f9,effect:m9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mc(t){return t.split("-")[1]}var g9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function y9(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Rc(n*i)/i||0,y:Rc(r*i)/i||0}}function HA(t){var e,n=t.popper,r=t.popperRect,i=t.placement,a=t.variation,s=t.offsets,o=t.position,l=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,f=t.isFixed,m=s.x,g=m===void 0?0:m,A=s.y,b=A===void 0?0:A,S=typeof d=="function"?d({x:g,y:b}):{x:g,y:b};g=S.x,b=S.y;var _=s.hasOwnProperty("x"),T=s.hasOwnProperty("y"),D=sr,O=ar,L=window;if(u){var z=pm(n),I="clientHeight",R="clientWidth";if(z===Er(n)&&(z=To(n),Ua(z).position!=="static"&&o==="absolute"&&(I="scrollHeight",R="scrollWidth")),z=z,i===ar||(i===sr||i===Hr)&&a===yf){O=Yr;var C=f&&z===L&&L.visualViewport?L.visualViewport.height:z[I];b-=C-r.height,b*=l?1:-1}if(i===sr||(i===ar||i===Yr)&&a===yf){D=Hr;var P=f&&z===L&&L.visualViewport?L.visualViewport.width:z[R];g-=P-r.width,g*=l?1:-1}}var V=Object.assign({position:o},u&&g9),$=d===!0?y9({x:g,y:b},Er(n)):{x:g,y:b};if(g=$.x,b=$.y,l){var N;return Object.assign({},V,(N={},N[O]=T?"0":"",N[D]=_?"0":"",N.transform=(L.devicePixelRatio||1)<=1?"translate("+g+"px, "+b+"px)":"translate3d("+g+"px, "+b+"px, 0)",N))}return Object.assign({},V,(e={},e[O]=T?b+"px":"",e[D]=_?g+"px":"",e.transform="",e))}function v9(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,s=a===void 0?!0:a,o=n.roundOffsets,l=o===void 0?!0:o,u={placement:Li(e.placement),variation:Mc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,HA(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,HA(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const _9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:v9,data:{}};var Up={passive:!0};function b9(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,a=i===void 0?!0:i,s=r.resize,o=s===void 0?!0:s,l=Er(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&u.forEach(function(d){d.addEventListener("scroll",n.update,Up)}),o&&l.addEventListener("resize",n.update,Up),function(){a&&u.forEach(function(d){d.removeEventListener("scroll",n.update,Up)}),o&&l.removeEventListener("resize",n.update,Up)}}const w9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:b9,data:{}};var S9={left:"right",right:"left",bottom:"top",top:"bottom"};function yg(t){return t.replace(/left|right|bottom|top/g,function(e){return S9[e]})}var T9={start:"end",end:"start"};function qA(t){return t.replace(/start|end/g,function(e){return T9[e]})}function vS(t){var e=Er(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function _S(t){return Ic(To(t)).left+vS(t).scrollLeft}function E9(t,e){var n=Er(t),r=To(t),i=n.visualViewport,a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;var u=L2();(u||!u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o+_S(t),y:l}}function x9(t){var e,n=To(t),r=vS(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=_l(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=_l(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+_S(t),l=-r.scrollTop;return Ua(i||n).direction==="rtl"&&(o+=_l(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}function bS(t){var e=Ua(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function F2(t){return["html","body","#document"].indexOf(oo(t))>=0?t.ownerDocument.body:ji(t)&&bS(t)?t:F2(gv(t))}function Pd(t,e){var n;e===void 0&&(e=[]);var r=F2(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),a=Er(r),s=i?[a].concat(a.visualViewport||[],bS(r)?r:[]):r,o=e.concat(s);return i?o:o.concat(Pd(gv(s)))}function a1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function A9(t,e){var n=Ic(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function GA(t,e,n){return e===V2?a1(E9(t,n)):Pl(e)?A9(e,n):a1(x9(To(t)))}function D9(t){var e=Pd(gv(t)),n=["absolute","fixed"].indexOf(Ua(t).position)>=0,r=n&&ji(t)?pm(t):t;return Pl(r)?e.filter(function(i){return Pl(i)&&j2(i,r)&&oo(i)!=="body"}):[]}function R9(t,e,n,r){var i=e==="clippingParents"?D9(t):[].concat(e),a=[].concat(i,[n]),s=a[0],o=a.reduce(function(l,u){var d=GA(t,u,r);return l.top=_l(d.top,l.top),l.right=gy(d.right,l.right),l.bottom=gy(d.bottom,l.bottom),l.left=_l(d.left,l.left),l},GA(t,s,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function B2(t){var e=t.reference,n=t.element,r=t.placement,i=r?Li(r):null,a=r?Mc(r):null,s=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,l;switch(i){case ar:l={x:s,y:e.y-n.height};break;case Yr:l={x:s,y:e.y+e.height};break;case Hr:l={x:e.x+e.width,y:o};break;case sr:l={x:e.x-n.width,y:o};break;default:l={x:e.x,y:e.y}}var u=i?yS(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(a){case Dc:l[u]=l[u]-(e[d]/2-n[d]/2);break;case yf:l[u]=l[u]+(e[d]/2-n[d]/2);break}}return l}function vf(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,a=n.strategy,s=a===void 0?t.strategy:a,o=n.boundary,l=o===void 0?XF:o,u=n.rootBoundary,d=u===void 0?V2:u,f=n.elementContext,m=f===void 0?Jh:f,g=n.altBoundary,A=g===void 0?!1:g,b=n.padding,S=b===void 0?0:b,_=U2(typeof S!="number"?S:z2(S,mm)),T=m===Jh?ZF:Jh,D=t.rects.popper,O=t.elements[A?T:m],L=R9(Pl(O)?O:O.contextElement||To(t.elements.popper),l,d,s),z=Ic(t.elements.reference),I=B2({reference:z,element:D,strategy:"absolute",placement:i}),R=a1(Object.assign({},D,I)),C=m===Jh?R:z,P={top:L.top-C.top+_.top,bottom:C.bottom-L.bottom+_.bottom,left:L.left-C.left+_.left,right:C.right-L.right+_.right},V=t.modifiersData.offset;if(m===Jh&&V){var $=V[i];Object.keys(P).forEach(function(N){var me=[Hr,Yr].indexOf(N)>=0?1:-1,be=[ar,Yr].indexOf(N)>=0?"y":"x";P[N]+=$[be]*me})}return P}function I9(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,a=n.rootBoundary,s=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?mS:l,d=Mc(r),f=d?o?BA:BA.filter(function(A){return Mc(A)===d}):mm,m=f.filter(function(A){return u.indexOf(A)>=0});m.length===0&&(m=f);var g=m.reduce(function(A,b){return A[b]=vf(t,{placement:b,boundary:i,rootBoundary:a,padding:s})[Li(b)],A},{});return Object.keys(g).sort(function(A,b){return g[A]-g[b]})}function M9(t){if(Li(t)===fS)return[];var e=yg(t);return[qA(t),e,qA(e)]}function O9(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,o=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,d=n.boundary,f=n.rootBoundary,m=n.altBoundary,g=n.flipVariations,A=g===void 0?!0:g,b=n.allowedAutoPlacements,S=e.options.placement,_=Li(S),T=_===S,D=l||(T||!A?[yg(S)]:M9(S)),O=[S].concat(D).reduce(function(ae,W){return ae.concat(Li(W)===fS?I9(e,{placement:W,boundary:d,rootBoundary:f,padding:u,flipVariations:A,allowedAutoPlacements:b}):W)},[]),L=e.rects.reference,z=e.rects.popper,I=new Map,R=!0,C=O[0],P=0;P<O.length;P++){var V=O[P],$=Li(V),N=Mc(V)===Dc,me=[ar,Yr].indexOf($)>=0,be=me?"width":"height",X=vf(e,{placement:V,boundary:d,rootBoundary:f,altBoundary:m,padding:u}),j=me?N?Hr:sr:N?Yr:ar;L[be]>z[be]&&(j=yg(j));var J=yg(j),se=[];if(a&&se.push(X[$]<=0),o&&se.push(X[j]<=0,X[J]<=0),se.every(function(ae){return ae})){C=V,R=!1;break}I.set(V,se)}if(R)for(var ue=A?3:1,Q=function(W){var xe=O.find(function(Pe){var Re=I.get(Pe);if(Re)return Re.slice(0,W).every(function(Lt){return Lt})});if(xe)return C=xe,"break"},Z=ue;Z>0;Z--){var re=Q(Z);if(re==="break")break}e.placement!==C&&(e.modifiersData[r]._skip=!0,e.placement=C,e.reset=!0)}}const C9={name:"flip",enabled:!0,phase:"main",fn:O9,requiresIfExists:["offset"],data:{_skip:!1}};function WA(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function KA(t){return[ar,Hr,Yr,sr].some(function(e){return t[e]>=0})}function P9(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,s=vf(e,{elementContext:"reference"}),o=vf(e,{altBoundary:!0}),l=WA(s,r),u=WA(o,i,a),d=KA(l),f=KA(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const N9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:P9};function k9(t,e,n){var r=Li(t),i=[sr,ar].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[sr,Hr].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function V9(t){var e=t.state,n=t.options,r=t.name,i=n.offset,a=i===void 0?[0,0]:i,s=mS.reduce(function(d,f){return d[f]=k9(f,e.rects,a),d},{}),o=s[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const L9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:V9};function j9(t){var e=t.state,n=t.name;e.modifiersData[n]=B2({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const $9={name:"popperOffsets",enabled:!0,phase:"read",fn:j9,data:{}};function U9(t){return t==="x"?"y":"x"}function z9(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,o=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.padding,m=n.tether,g=m===void 0?!0:m,A=n.tetherOffset,b=A===void 0?0:A,S=vf(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:d}),_=Li(e.placement),T=Mc(e.placement),D=!T,O=yS(_),L=U9(O),z=e.modifiersData.popperOffsets,I=e.rects.reference,R=e.rects.popper,C=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,P=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(z){if(a){var N,me=O==="y"?ar:sr,be=O==="y"?Yr:Hr,X=O==="y"?"height":"width",j=z[O],J=j+S[me],se=j-S[be],ue=g?-R[X]/2:0,Q=T===Dc?I[X]:R[X],Z=T===Dc?-R[X]:-I[X],re=e.elements.arrow,ae=g&&re?gS(re):{width:0,height:0},W=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$2(),xe=W[me],Pe=W[be],Re=Cd(0,I[X],ae[X]),Lt=D?I[X]/2-ue-Re-xe-P.mainAxis:Q-Re-xe-P.mainAxis,Bn=D?-I[X]/2+ue+Re+Pe+P.mainAxis:Z+Re+Pe+P.mainAxis,Qr=e.elements.arrow&&pm(e.elements.arrow),gi=Qr?O==="y"?Qr.clientTop||0:Qr.clientLeft||0:0,Zi=(N=V==null?void 0:V[O])!=null?N:0,Ji=j+Lt-Zi-gi,iu=j+Bn-Zi,au=Cd(g?gy(J,Ji):J,j,g?_l(se,iu):se);z[O]=au,$[O]=au-j}if(o){var es,Mo=O==="x"?ar:sr,Oo=O==="x"?Yr:Hr,ht=z[L],Ge=L==="y"?"height":"width",Xr=ht+S[Mo],su=ht-S[Oo],ts=[ar,sr].indexOf(_)!==-1,Co=(es=V==null?void 0:V[L])!=null?es:0,zt=ts?Xr:ht-I[Ge]-R[Ge]-Co+P.altAxis,ns=ts?ht+I[Ge]+R[Ge]-Co-P.altAxis:su,ea=g&&ts?h9(zt,ht,ns):Cd(g?zt:Xr,ht,g?ns:su);z[L]=ea,$[L]=ea-ht}e.modifiersData[r]=$}}const F9={name:"preventOverflow",enabled:!0,phase:"main",fn:z9,requiresIfExists:["offset"]};function B9(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Y9(t){return t===Er(t)||!ji(t)?vS(t):B9(t)}function H9(t){var e=t.getBoundingClientRect(),n=Rc(e.width)/t.offsetWidth||1,r=Rc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function q9(t,e,n){n===void 0&&(n=!1);var r=ji(e),i=ji(e)&&H9(e),a=To(e),s=Ic(t,i,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((oo(e)!=="body"||bS(a))&&(o=Y9(e)),ji(e)?(l=Ic(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=_S(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function G9(t){var e=new Map,n=new Set,r=[];t.forEach(function(a){e.set(a.name,a)});function i(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!n.has(o)){var l=e.get(o);l&&i(l)}}),r.push(a)}return t.forEach(function(a){n.has(a.name)||i(a)}),r}function W9(t){var e=G9(t);return l9.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function K9(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Q9(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var QA={placement:"bottom",modifiers:[],strategy:"absolute"};function XA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function X9(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,a=i===void 0?QA:i;return function(o,l,u){u===void 0&&(u=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},QA,a),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},f=[],m=!1,g={state:d,setOptions:function(_){var T=typeof _=="function"?_(d.options):_;b(),d.options=Object.assign({},a,d.options,T),d.scrollParents={reference:Pl(o)?Pd(o):o.contextElement?Pd(o.contextElement):[],popper:Pd(l)};var D=W9(Q9([].concat(r,d.options.modifiers)));return d.orderedModifiers=D.filter(function(O){return O.enabled}),A(),g.update()},forceUpdate:function(){if(!m){var _=d.elements,T=_.reference,D=_.popper;if(XA(T,D)){d.rects={reference:q9(T,pm(D),d.options.strategy==="fixed"),popper:gS(D)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(P){return d.modifiersData[P.name]=Object.assign({},P.data)});for(var O=0;O<d.orderedModifiers.length;O++){if(d.reset===!0){d.reset=!1,O=-1;continue}var L=d.orderedModifiers[O],z=L.fn,I=L.options,R=I===void 0?{}:I,C=L.name;typeof z=="function"&&(d=z({state:d,options:R,name:C,instance:g})||d)}}}},update:K9(function(){return new Promise(function(S){g.forceUpdate(),S(d)})}),destroy:function(){b(),m=!0}};if(!XA(o,l))return g;g.setOptions(u).then(function(S){!m&&u.onFirstUpdate&&u.onFirstUpdate(S)});function A(){d.orderedModifiers.forEach(function(S){var _=S.name,T=S.options,D=T===void 0?{}:T,O=S.effect;if(typeof O=="function"){var L=O({state:d,name:_,instance:g,options:D}),z=function(){};f.push(L||z)}})}function b(){f.forEach(function(S){return S()}),f=[]}return g}}var Z9=X9({defaultModifiers:[N9,$9,_9,w9,L9,C9,F9,p9]}),ZA=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},J9={name:"applyStyles",enabled:!1},eB={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var n=e.state;return function(){var r=n.elements,i=r.reference,a=r.popper;if("removeAttribute"in i){var s=(i.getAttribute("aria-describedby")||"").split(",").filter(function(o){return o.trim()!==a.id});s.length?i.setAttribute("aria-describedby",s.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var n,r=e.state,i=r.elements,a=i.popper,s=i.reference,o=(n=a.getAttribute("role"))==null?void 0:n.toLowerCase();if(a.id&&o==="tooltip"&&"setAttribute"in s){var l=s.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(a.id)!==-1)return;s.setAttribute("aria-describedby",l?l+","+a.id:a.id)}}},tB=[];function nB(t,e,n){var r=n===void 0?{}:n,i=r.enabled,a=i===void 0?!0:i,s=r.placement,o=s===void 0?"bottom":s,l=r.strategy,u=l===void 0?"absolute":l,d=r.modifiers,f=d===void 0?tB:d,m=fv(r,["enabled","placement","strategy","modifiers"]),g=F.useRef(),A=F.useCallback(function(){var O;(O=g.current)==null||O.update()},[]),b=F.useCallback(function(){var O;(O=g.current)==null||O.forceUpdate()},[]),S=QF(F.useState({placement:o,update:A,forceUpdate:b,attributes:{},styles:{popper:ZA(u),arrow:{}}})),_=S[0],T=S[1],D=F.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(L){var z=L.state,I={},R={};Object.keys(z.elements).forEach(function(C){I[C]=z.styles[C],R[C]=z.attributes[C]}),T({state:z,styles:I,attributes:R,update:A,forceUpdate:b,placement:z.placement})}}},[A,b,T]);return F.useEffect(function(){!g.current||!a||g.current.setOptions({placement:o,strategy:u,modifiers:[].concat(f,[D,J9])})},[u,o,D,a]),F.useEffect(function(){if(!(!a||t==null||e==null))return g.current=Z9(t,e,qt({},m,{placement:o,strategy:u,modifiers:[].concat(f,[eB,D])})),function(){g.current!=null&&(g.current.destroy(),g.current=void 0,T(function(O){return qt({},O,{attributes:{},styles:{popper:ZA(u)}})}))}},[a,t,e]),_}function rB(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function dd(t,e,n,r){return GF(t,e,n,r),function(){rB(t,e,n,r)}}var iB=function(){},aB=iB;const sB=Wn(aB);function oB(t){return t&&"setState"in t?oM.findDOMNode(t):t??null}const lB=function(t){return fm(oB(t))};var uB=27,JA=function(){};function cB(t){return t.button===0}function hB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var eD=function(e){return e&&("current"in e?e.current:e)};function dB(t,e,n){var r=n===void 0?{}:n,i=r.disabled,a=r.clickTrigger,s=a===void 0?"click":a,o=F.useRef(!1),l=e||JA,u=F.useCallback(function(m){var g,A=eD(t);sB(!!A,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),o.current=!A||hB(m)||!cB(m)||!!gf(A,(g=m.composedPath==null?void 0:m.composedPath()[0])!=null?g:m.target)},[t]),d=zA(function(m){o.current||l(m)}),f=zA(function(m){m.keyCode===uB&&l(m)});F.useEffect(function(){if(!(i||t==null)){var m=window.event,g=lB(eD(t)),A=dd(g,s,u,!0),b=dd(g,s,function(T){if(T===m){m=void 0;return}d(T)}),S=dd(g,"keyup",function(T){if(T===m){m=void 0;return}f(T)}),_=[];return"ontouchstart"in g.documentElement&&(_=[].slice.call(g.body.children).map(function(T){return dd(T,"mousemove",JA)})),function(){A(),b(),S(),_.forEach(function(T){return T()})}}},[t,i,s,u,d,f])}function fB(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(n){e[n.name]=n}),e):t||e}function mB(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function pB(t){var e,n,r,i,a=t.enabled,s=t.enableEvents,o=t.placement,l=t.flip,u=t.offset,d=t.fixed,f=t.containerPadding,m=t.arrowElement,g=t.popperConfig,A=g===void 0?{}:g,b=fB(A.modifiers);return qt({},A,{placement:o,enabled:a,strategy:d?"fixed":A.strategy,modifiers:mB(qt({},b,{eventListeners:{enabled:s},preventOverflow:qt({},b.preventOverflow,{options:f?qt({padding:f},(e=b.preventOverflow)==null?void 0:e.options):(n=b.preventOverflow)==null?void 0:n.options}),offset:{options:qt({offset:u},(r=b.offset)==null?void 0:r.options)},arrow:qt({},b.arrow,{enabled:!!m,options:qt({},(i=b.arrow)==null?void 0:i.options,{element:m})}),flip:qt({enabled:!!l},b.flip)}))})}function gB(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function yB(t,e){t.classList?t.classList.add(e):gB(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function tD(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function vB(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=tD(t.className,e):t.setAttribute("class",tD(t.className&&t.className.baseVal||"",e))}var zp;function wS(t){if((!zp&&zp!==0||t)&&dS){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),zp=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return zp}var A0=function(e){var n;return typeof document>"u"?null:e==null?fm().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(n=e)!=null&&n.nodeType&&e||null)};function nD(t,e){var n=F.useState(function(){return A0(t)}),r=n[0],i=n[1];if(!r){var a=A0(t);a&&i(a)}return F.useEffect(function(){e&&r&&e(r)},[e,r]),F.useEffect(function(){var s=A0(t);s!==r&&i(s)},[t,r]),r}const rD=t=>!t||typeof t=="function"?t:e=>{t.current=e};function _B(t,e){const n=rD(t),r=rD(e);return i=>{n&&n(i),r&&r(i)}}function bB(t,e){return F.useMemo(()=>_B(t,e),[t,e])}var SS=B.forwardRef(function(t,e){var n=t.flip,r=t.offset,i=t.placement,a=t.containerPadding,s=a===void 0?5:a,o=t.popperConfig,l=o===void 0?{}:o,u=t.transition,d=FA(),f=d[0],m=d[1],g=FA(),A=g[0],b=g[1],S=bB(m,e),_=nD(t.container),T=nD(t.target),D=F.useState(!t.show),O=D[0],L=D[1],z=nB(T,f,pB({placement:i,enableEvents:!!t.show,containerPadding:s||5,flip:n,offset:r,arrowElement:A,popperConfig:l})),I=z.styles,R=z.attributes,C=fv(z,["styles","attributes"]);t.show?O&&L(!1):!t.transition&&!O&&L(!0);var P=function(){L(!0),t.onExited&&t.onExited.apply(t,arguments)},V=t.show||u&&!O;if(dB(f,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!V)return null;var $=t.children(qt({},C,{show:!!t.show,props:qt({},R.popper,{style:I.popper,ref:S}),arrowProps:qt({},R.arrow,{style:I.arrow,ref:b})}));if(u){var N=t.onExit,me=t.onExiting,be=t.onEnter,X=t.onEntering,j=t.onEntered;$=B.createElement(u,{in:t.show,appear:!0,onExit:N,onExiting:me,onExited:P,onEnter:be,onEntering:X,onEntered:j},$)}return _?oM.createPortal($,_):null});SS.displayName="Overlay";SS.propTypes={show:ce.bool,placement:ce.oneOf(mS),target:ce.any,container:ce.any,flip:ce.bool,children:ce.func.isRequired,containerPadding:ce.number,popperConfig:ce.object,rootClose:ce.bool,rootCloseEvent:ce.oneOf(["click","mousedown"]),rootCloseDisabled:ce.bool,onHide:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(e.rootClose){var a;return(a=ce.func).isRequired.apply(a,[e].concat(r))}return ce.func.apply(ce,[e].concat(r))},transition:ce.elementType,onEnter:ce.func,onEntering:ce.func,onEntered:ce.func,onExit:ce.func,onExiting:ce.func,onExited:ce.func};const wB=SS;function SB(){this.__data__=[],this.size=0}var TB=SB,EB=cm;function xB(t,e){for(var n=t.length;n--;)if(EB(t[n][0],e))return n;return-1}var yv=xB,AB=yv,DB=Array.prototype,RB=DB.splice;function IB(t){var e=this.__data__,n=AB(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():RB.call(e,n,1),--this.size,!0}var MB=IB,OB=yv;function CB(t){var e=this.__data__,n=OB(e,t);return n<0?void 0:e[n][1]}var PB=CB,NB=yv;function kB(t){return NB(this.__data__,t)>-1}var VB=kB,LB=yv;function jB(t,e){var n=this.__data__,r=LB(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var $B=jB,UB=TB,zB=MB,FB=PB,BB=VB,YB=$B;function ch(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ch.prototype.clear=UB;ch.prototype.delete=zB;ch.prototype.get=FB;ch.prototype.has=BB;ch.prototype.set=YB;var vv=ch,HB=vv;function qB(){this.__data__=new HB,this.size=0}var GB=qB;function WB(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var KB=WB;function QB(t){return this.__data__.get(t)}var XB=QB;function ZB(t){return this.__data__.has(t)}var JB=ZB,eY=Ki,tY=eY["__core-js_shared__"],nY=tY,D0=nY,iD=function(){var t=/[^.]+$/.exec(D0&&D0.keys&&D0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function rY(t){return!!iD&&iD in t}var iY=rY,aY=Function.prototype,sY=aY.toString;function oY(t){if(t!=null){try{return sY.call(t)}catch{}try{return t+""}catch{}}return""}var Y2=oY,lY=lS,uY=iY,cY=Ga,hY=Y2,dY=/[\\^$.*+?()[\]{}|]/g,fY=/^\[object .+?Constructor\]$/,mY=Function.prototype,pY=Object.prototype,gY=mY.toString,yY=pY.hasOwnProperty,vY=RegExp("^"+gY.call(yY).replace(dY,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _Y(t){if(!cY(t)||uY(t))return!1;var e=lY(t)?vY:fY;return e.test(hY(t))}var bY=_Y;function wY(t,e){return t==null?void 0:t[e]}var SY=wY,TY=bY,EY=SY;function xY(t,e){var n=EY(t,e);return TY(n)?n:void 0}var Ql=xY,AY=Ql,DY=Ki,RY=AY(DY,"Map"),TS=RY,IY=Ql,MY=IY(Object,"create"),_v=MY,aD=_v;function OY(){this.__data__=aD?aD(null):{},this.size=0}var CY=OY;function PY(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var NY=PY,kY=_v,VY="__lodash_hash_undefined__",LY=Object.prototype,jY=LY.hasOwnProperty;function $Y(t){var e=this.__data__;if(kY){var n=e[t];return n===VY?void 0:n}return jY.call(e,t)?e[t]:void 0}var UY=$Y,zY=_v,FY=Object.prototype,BY=FY.hasOwnProperty;function YY(t){var e=this.__data__;return zY?e[t]!==void 0:BY.call(e,t)}var HY=YY,qY=_v,GY="__lodash_hash_undefined__";function WY(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=qY&&e===void 0?GY:e,this}var KY=WY,QY=CY,XY=NY,ZY=UY,JY=HY,e8=KY;function hh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hh.prototype.clear=QY;hh.prototype.delete=XY;hh.prototype.get=ZY;hh.prototype.has=JY;hh.prototype.set=e8;var t8=hh,sD=t8,n8=vv,r8=TS;function i8(){this.size=0,this.__data__={hash:new sD,map:new(r8||n8),string:new sD}}var a8=i8;function s8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var o8=s8,l8=o8;function u8(t,e){var n=t.__data__;return l8(e)?n[typeof e=="string"?"string":"hash"]:n.map}var bv=u8,c8=bv;function h8(t){var e=c8(this,t).delete(t);return this.size-=e?1:0,e}var d8=h8,f8=bv;function m8(t){return f8(this,t).get(t)}var p8=m8,g8=bv;function y8(t){return g8(this,t).has(t)}var v8=y8,_8=bv;function b8(t,e){var n=_8(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var w8=b8,S8=a8,T8=d8,E8=p8,x8=v8,A8=w8;function dh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dh.prototype.clear=S8;dh.prototype.delete=T8;dh.prototype.get=E8;dh.prototype.has=x8;dh.prototype.set=A8;var ES=dh,D8=vv,R8=TS,I8=ES,M8=200;function O8(t,e){var n=this.__data__;if(n instanceof D8){var r=n.__data__;if(!R8||r.length<M8-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new I8(r)}return n.set(t,e),this.size=n.size,this}var C8=O8,P8=vv,N8=GB,k8=KB,V8=XB,L8=JB,j8=C8;function fh(t){var e=this.__data__=new P8(t);this.size=e.size}fh.prototype.clear=N8;fh.prototype.delete=k8;fh.prototype.get=V8;fh.prototype.has=L8;fh.prototype.set=j8;var xS=fh,$8="__lodash_hash_undefined__";function U8(t){return this.__data__.set(t,$8),this}var z8=U8;function F8(t){return this.__data__.has(t)}var B8=F8,Y8=ES,H8=z8,q8=B8;function yy(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Y8;++e<n;)this.add(t[e])}yy.prototype.add=yy.prototype.push=H8;yy.prototype.has=q8;var G8=yy;function W8(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var K8=W8;function Q8(t,e){return t.has(e)}var X8=Q8,Z8=G8,J8=K8,eH=X8,tH=1,nH=2;function rH(t,e,n,r,i,a){var s=n&tH,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,m=!0,g=n&nH?new Z8:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var A=t[f],b=e[f];if(r)var S=s?r(b,A,f,e,t,a):r(A,b,f,t,e,a);if(S!==void 0){if(S)continue;m=!1;break}if(g){if(!J8(e,function(_,T){if(!eH(g,T)&&(A===_||i(A,_,n,r,a)))return g.push(T)})){m=!1;break}}else if(!(A===b||i(A,b,n,r,a))){m=!1;break}}return a.delete(t),a.delete(e),m}var H2=rH,iH=Ki,aH=iH.Uint8Array,q2=aH;function sH(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var oH=sH;function lH(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var uH=lH,oD=lh,lD=q2,cH=cm,hH=H2,dH=oH,fH=uH,mH=1,pH=2,gH="[object Boolean]",yH="[object Date]",vH="[object Error]",_H="[object Map]",bH="[object Number]",wH="[object RegExp]",SH="[object Set]",TH="[object String]",EH="[object Symbol]",xH="[object ArrayBuffer]",AH="[object DataView]",uD=oD?oD.prototype:void 0,R0=uD?uD.valueOf:void 0;function DH(t,e,n,r,i,a,s){switch(n){case AH:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case xH:return!(t.byteLength!=e.byteLength||!a(new lD(t),new lD(e)));case gH:case yH:case bH:return cH(+t,+e);case vH:return t.name==e.name&&t.message==e.message;case wH:case TH:return t==e+"";case _H:var o=dH;case SH:var l=r&mH;if(o||(o=fH),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=pH,s.set(t,e);var d=hH(o(t),o(e),r,i,a,s);return s.delete(t),d;case EH:if(R0)return R0.call(t)==R0.call(e)}return!1}var RH=DH;function IH(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var AS=IH,MH=Array.isArray,Gr=MH,OH=AS,CH=Gr;function PH(t,e,n){var r=e(t);return CH(t)?r:OH(r,n(t))}var G2=PH;function NH(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var kH=NH;function VH(){return[]}var W2=VH,LH=kH,jH=W2,$H=Object.prototype,UH=$H.propertyIsEnumerable,cD=Object.getOwnPropertySymbols,zH=cD?function(t){return t==null?[]:(t=Object(t),LH(cD(t),function(e){return UH.call(t,e)}))}:jH,DS=zH;function FH(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var BH=FH,YH=uh,HH=So,qH="[object Arguments]";function GH(t){return HH(t)&&YH(t)==qH}var WH=GH,hD=WH,KH=So,K2=Object.prototype,QH=K2.hasOwnProperty,XH=K2.propertyIsEnumerable,ZH=hD(function(){return arguments}())?hD:function(t){return KH(t)&&QH.call(t,"callee")&&!XH.call(t,"callee")},RS=ZH,vy={exports:{}};function JH(){return!1}var e7=JH;vy.exports;(function(t,e){var n=Ki,r=e7,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u})(vy,vy.exports);var wv=vy.exports,t7=uh,n7=uS,r7=So,i7="[object Arguments]",a7="[object Array]",s7="[object Boolean]",o7="[object Date]",l7="[object Error]",u7="[object Function]",c7="[object Map]",h7="[object Number]",d7="[object Object]",f7="[object RegExp]",m7="[object Set]",p7="[object String]",g7="[object WeakMap]",y7="[object ArrayBuffer]",v7="[object DataView]",_7="[object Float32Array]",b7="[object Float64Array]",w7="[object Int8Array]",S7="[object Int16Array]",T7="[object Int32Array]",E7="[object Uint8Array]",x7="[object Uint8ClampedArray]",A7="[object Uint16Array]",D7="[object Uint32Array]",St={};St[_7]=St[b7]=St[w7]=St[S7]=St[T7]=St[E7]=St[x7]=St[A7]=St[D7]=!0;St[i7]=St[a7]=St[y7]=St[s7]=St[v7]=St[o7]=St[l7]=St[u7]=St[c7]=St[h7]=St[d7]=St[f7]=St[m7]=St[p7]=St[g7]=!1;function R7(t){return r7(t)&&n7(t.length)&&!!St[t7(t)]}var I7=R7;function M7(t){return function(e){return t(e)}}var Sv=M7,_y={exports:{}};_y.exports;(function(t,e){var n=D2,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(_y,_y.exports);var IS=_y.exports,O7=I7,C7=Sv,dD=IS,fD=dD&&dD.isTypedArray,P7=fD?C7(fD):O7,MS=P7,N7=BH,k7=RS,V7=Gr,L7=wv,j7=cS,$7=MS,U7=Object.prototype,z7=U7.hasOwnProperty;function F7(t,e){var n=V7(t),r=!n&&k7(t),i=!n&&!r&&L7(t),a=!n&&!r&&!i&&$7(t),s=n||r||i||a,o=s?N7(t.length,String):[],l=o.length;for(var u in t)(e||z7.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||j7(u,l)))&&o.push(u);return o}var Q2=F7,B7=Object.prototype;function Y7(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||B7;return t===n}var OS=Y7;function H7(t,e){return function(n){return t(e(n))}}var X2=H7,q7=X2,G7=q7(Object.keys,Object),W7=G7,K7=OS,Q7=W7,X7=Object.prototype,Z7=X7.hasOwnProperty;function J7(t){if(!K7(t))return Q7(t);var e=[];for(var n in Object(t))Z7.call(t,n)&&n!="constructor"&&e.push(n);return e}var eq=J7,tq=Q2,nq=eq,rq=hm;function iq(t){return rq(t)?tq(t):nq(t)}var gm=iq,aq=G2,sq=DS,oq=gm;function lq(t){return aq(t,oq,sq)}var Z2=lq,mD=Z2,uq=1,cq=Object.prototype,hq=cq.hasOwnProperty;function dq(t,e,n,r,i,a){var s=n&uq,o=mD(t),l=o.length,u=mD(e),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var m=o[f];if(!(s?m in e:hq.call(e,m)))return!1}var g=a.get(t),A=a.get(e);if(g&&A)return g==e&&A==t;var b=!0;a.set(t,e),a.set(e,t);for(var S=s;++f<l;){m=o[f];var _=t[m],T=e[m];if(r)var D=s?r(T,_,m,e,t,a):r(_,T,m,t,e,a);if(!(D===void 0?_===T||i(_,T,n,r,a):D)){b=!1;break}S||(S=m=="constructor")}if(b&&!S){var O=t.constructor,L=e.constructor;O!=L&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof L=="function"&&L instanceof L)&&(b=!1)}return a.delete(t),a.delete(e),b}var fq=dq,mq=Ql,pq=Ki,gq=mq(pq,"DataView"),yq=gq,vq=Ql,_q=Ki,bq=vq(_q,"Promise"),wq=bq,Sq=Ql,Tq=Ki,Eq=Sq(Tq,"Set"),xq=Eq,Aq=Ql,Dq=Ki,Rq=Aq(Dq,"WeakMap"),Iq=Rq,s1=yq,o1=TS,l1=wq,u1=xq,c1=Iq,J2=uh,mh=Y2,pD="[object Map]",Mq="[object Object]",gD="[object Promise]",yD="[object Set]",vD="[object WeakMap]",_D="[object DataView]",Oq=mh(s1),Cq=mh(o1),Pq=mh(l1),Nq=mh(u1),kq=mh(c1),el=J2;(s1&&el(new s1(new ArrayBuffer(1)))!=_D||o1&&el(new o1)!=pD||l1&&el(l1.resolve())!=gD||u1&&el(new u1)!=yD||c1&&el(new c1)!=vD)&&(el=function(t){var e=J2(t),n=e==Mq?t.constructor:void 0,r=n?mh(n):"";if(r)switch(r){case Oq:return _D;case Cq:return pD;case Pq:return gD;case Nq:return yD;case kq:return vD}return e});var Tv=el,I0=xS,Vq=H2,Lq=RH,jq=fq,bD=Tv,wD=Gr,SD=wv,$q=MS,Uq=1,TD="[object Arguments]",ED="[object Array]",Fp="[object Object]",zq=Object.prototype,xD=zq.hasOwnProperty;function Fq(t,e,n,r,i,a){var s=wD(t),o=wD(e),l=s?ED:bD(t),u=o?ED:bD(e);l=l==TD?Fp:l,u=u==TD?Fp:u;var d=l==Fp,f=u==Fp,m=l==u;if(m&&SD(t)){if(!SD(e))return!1;s=!0,d=!1}if(m&&!d)return a||(a=new I0),s||$q(t)?Vq(t,e,n,r,i,a):Lq(t,e,l,n,r,i,a);if(!(n&Uq)){var g=d&&xD.call(t,"__wrapped__"),A=f&&xD.call(e,"__wrapped__");if(g||A){var b=g?t.value():t,S=A?e.value():e;return a||(a=new I0),i(b,S,n,r,a)}}return m?(a||(a=new I0),jq(t,e,n,r,i,a)):!1}var Bq=Fq,Yq=Bq,AD=So;function eP(t,e,n,r,i){return t===e?!0:t==null||e==null||!AD(t)&&!AD(e)?t!==t&&e!==e:Yq(t,e,n,r,eP,i)}var CS=eP,Hq=CS;function qq(t,e){return Hq(t,e)}var Gq=qq;const Wq=Wn(Gq);function M0(t,e){var n=hS(t);return n?n.innerHeight:e?t.clientHeight:vl(t).height}function tP(t,e,n){t.closest&&!n&&t.closest(e);var r=t;do{if(YF(r,e))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function Kq(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Qq=Kq,Xq=xS,Zq=CS,Jq=1,eG=2;function tG(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],u=t[l],d=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Xq;if(r)var m=r(u,d,l,t,e,f);if(!(m===void 0?Zq(d,u,Jq|eG,r,f):m))return!1}}return!0}var nG=tG,rG=Ga;function iG(t){return t===t&&!rG(t)}var nP=iG,aG=nP,sG=gm;function oG(t){for(var e=sG(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,aG(i)]}return e}var lG=oG;function uG(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var rP=uG,cG=nG,hG=lG,dG=rP;function fG(t){var e=hG(t);return e.length==1&&e[0][2]?dG(e[0][0],e[0][1]):function(n){return n===t||cG(n,t,e)}}var mG=fG,pG=Gr,gG=dm,yG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vG=/^\w*$/;function _G(t,e){if(pG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||gG(t)?!0:vG.test(t)||!yG.test(t)||e!=null&&t in Object(e)}var PS=_G,iP=ES,bG="Expected a function";function NS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(bG);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(NS.Cache||iP),n}NS.Cache=iP;var wG=NS,SG=wG,TG=500;function EG(t){var e=SG(t,function(r){return n.size===TG&&n.clear(),r}),n=e.cache;return e}var xG=EG,AG=xG,DG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,RG=/\\(\\)?/g,IG=AG(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(DG,function(n,r,i,a){e.push(i?a.replace(RG,"$1"):r||n)}),e}),MG=IG;function OG(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var kS=OG,DD=lh,CG=kS,PG=Gr,NG=dm,kG=1/0,RD=DD?DD.prototype:void 0,ID=RD?RD.toString:void 0;function aP(t){if(typeof t=="string")return t;if(PG(t))return CG(t,aP)+"";if(NG(t))return ID?ID.call(t):"";var e=t+"";return e=="0"&&1/t==-kG?"-0":e}var VG=aP,LG=VG;function jG(t){return t==null?"":LG(t)}var $G=jG,UG=Gr,zG=PS,FG=MG,BG=$G;function YG(t,e){return UG(t)?t:zG(t,e)?[t]:FG(BG(t))}var Ev=YG,HG=dm,qG=1/0;function GG(t){if(typeof t=="string"||HG(t))return t;var e=t+"";return e=="0"&&1/t==-qG?"-0":e}var ym=GG,WG=Ev,KG=ym;function QG(t,e){e=WG(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[KG(e[n++])];return n&&n==r?t:void 0}var xv=QG,XG=xv;function ZG(t,e,n){var r=t==null?void 0:XG(t,e);return r===void 0?n:r}var JG=ZG;function eW(t,e){return t!=null&&e in Object(t)}var tW=eW,nW=Ev,rW=RS,iW=Gr,aW=cS,sW=uS,oW=ym;function lW(t,e,n){e=nW(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=oW(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&sW(i)&&aW(s,i)&&(iW(t)||rW(t)))}var uW=lW,cW=tW,hW=uW;function dW(t,e){return t!=null&&hW(t,e,cW)}var fW=dW,mW=CS,pW=JG,gW=fW,yW=PS,vW=nP,_W=rP,bW=ym,wW=1,SW=2;function TW(t,e){return yW(t)&&vW(e)?_W(bW(t),e):function(n){var r=pW(n,t);return r===void 0&&r===e?gW(n,t):mW(e,r,wW|SW)}}var EW=TW;function xW(t){return t}var Av=xW;function AW(t){return function(e){return e==null?void 0:e[t]}}var DW=AW,RW=xv;function IW(t){return function(e){return RW(e,t)}}var MW=IW,OW=DW,CW=MW,PW=PS,NW=ym;function kW(t){return PW(t)?OW(NW(t)):CW(t)}var VW=kW,LW=mG,jW=EW,$W=Av,UW=Gr,zW=VW;function FW(t){return typeof t=="function"?t:t==null?$W:typeof t=="object"?UW(t)?jW(t[0],t[1]):LW(t):zW(t)}var Dv=FW,BW=Qq,YW=Dv,HW=M2,qW=Math.max;function GW(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:HW(n);return i<0&&(i=qW(r+i,0)),BW(t,YW(e),i)}var WW=GW;const KW=Wn(WW);var QW=Math.ceil,XW=Math.max;function ZW(t,e,n,r){for(var i=-1,a=XW(QW((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var JW=ZW,eK=JW,tK=pv,O0=I2;function nK(t){return function(e,n,r){return r&&typeof r!="number"&&tK(e,n,r)&&(n=r=void 0),e=O0(e),n===void 0?(n=e,e=0):n=O0(n),r=r===void 0?e<n?1:-1:O0(r),eK(e,n,r,t)}}var rK=nK,iK=rK,aK=iK(),sK=aK;const oK=Wn(sK);var MD=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function lK(t,e){return!!(t===e||MD(t)&&MD(e))}function uK(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!lK(t[n],e[n]))return!1;return!0}function sP(t,e){e===void 0&&(e=uK);var n=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}function h1(t,e){var n=hS(t);return n?n.innerWidth:e?t.clientWidth:vl(t).width}var OD=lh,cK=RS,hK=Gr,CD=OD?OD.isConcatSpreadable:void 0;function dK(t){return hK(t)||cK(t)||!!(CD&&t&&t[CD])}var fK=dK,mK=AS,pK=fK;function oP(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=pK),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?oP(o,e-1,n,r,i):mK(i,o):r||(i[i.length]=o)}return i}var lP=oP;function gK(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var yK=gK,vK=yK,_K=vK(),bK=_K,wK=bK,SK=gm;function TK(t,e){return t&&wK(t,e,SK)}var VS=TK,EK=hm;function xK(t,e){return function(n,r){if(n==null)return n;if(!EK(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var AK=xK,DK=VS,RK=AK,IK=RK(DK),MK=IK,OK=MK,CK=hm;function PK(t,e){var n=-1,r=CK(t)?Array(t.length):[];return OK(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var NK=PK;function kK(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var VK=kK,PD=dm;function LK(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=PD(t),s=e!==void 0,o=e===null,l=e===e,u=PD(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var jK=LK,$K=jK;function UK(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=$K(i[r],a[r]);if(l){if(r>=o)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var zK=UK,C0=kS,FK=xv,BK=Dv,YK=NK,HK=VK,qK=Sv,GK=zK,WK=Av,KK=Gr;function QK(t,e,n){e.length?e=C0(e,function(a){return KK(a)?function(s){return FK(s,a.length===1?a[0]:a)}:a}):e=[WK];var r=-1;e=C0(e,qK(BK));var i=YK(t,function(a,s,o){var l=C0(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return HK(i,function(a,s){return GK(a,s,n)})}var XK=QK;function ZK(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var JK=ZK,eQ=JK,ND=Math.max;function tQ(t,e,n){return e=ND(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=ND(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),eQ(t,this,o)}}var uP=tQ;function nQ(t){return function(){return t}}var rQ=nQ,iQ=Ql,aQ=function(){try{var t=iQ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),cP=aQ,sQ=rQ,kD=cP,oQ=Av,lQ=kD?function(t,e){return kD(t,"toString",{configurable:!0,enumerable:!1,value:sQ(e),writable:!0})}:oQ,uQ=lQ,cQ=800,hQ=16,dQ=Date.now;function fQ(t){var e=0,n=0;return function(){var r=dQ(),i=hQ-(r-n);if(n=r,i>0){if(++e>=cQ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var mQ=fQ,pQ=uQ,gQ=mQ,yQ=gQ(pQ),hP=yQ,vQ=Av,_Q=uP,bQ=hP;function wQ(t,e){return bQ(_Q(t,e,vQ),t+"")}var dP=wQ,SQ=lP,TQ=XK,EQ=dP,VD=pv,xQ=EQ(function(t,e){if(t==null)return[];var n=e.length;return n>1&&VD(t,e[0],e[1])?e=[]:n>2&&VD(e[0],e[1],e[2])&&(e=[e[0]]),TQ(t,SQ(e,1),[])}),AQ=xQ;const DQ=Wn(AQ);function fP(t){return l2(t)||x2(t)||aS(t)||u2()}function RQ(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var IQ=RQ,MQ=Ga,OQ=OS,CQ=IQ,PQ=Object.prototype,NQ=PQ.hasOwnProperty;function kQ(t){if(!MQ(t))return CQ(t);var e=OQ(t),n=[];for(var r in t)r=="constructor"&&(e||!NQ.call(t,r))||n.push(r);return n}var VQ=kQ,LQ=Q2,jQ=VQ,$Q=hm;function UQ(t){return $Q(t)?LQ(t,!0):jQ(t)}var Rv=UQ,zQ=dP,FQ=cm,BQ=pv,YQ=Rv,mP=Object.prototype,HQ=mP.hasOwnProperty,qQ=zQ(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&BQ(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=YQ(a),o=-1,l=s.length;++o<l;){var u=s[o],d=t[u];(d===void 0||FQ(d,mP[u])&&!HQ.call(t,u))&&(t[u]=a[u])}return t}),GQ=qQ;const WQ=Wn(GQ);var LD=cP;function KQ(t,e,n){e=="__proto__"&&LD?LD(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var LS=KQ,QQ=LS,XQ=VS,ZQ=Dv;function JQ(t,e){var n={};return e=ZQ(e),XQ(t,function(r,i,a){QQ(n,i,e(r,i,a))}),n}var eX=JQ;const tX=Wn(eX);function nX(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var pP=nX,rX=LS,iX=cm,aX=Object.prototype,sX=aX.hasOwnProperty;function oX(t,e,n){var r=t[e];(!(sX.call(t,e)&&iX(r,n))||n===void 0&&!(e in t))&&rX(t,e,n)}var gP=oX,lX=gP,uX=LS;function cX(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var o=e[a],l=r?r(n[o],t[o],o,n,t):void 0;l===void 0&&(l=t[o]),i?uX(n,o,l):lX(n,o,l)}return n}var vm=cX,hX=vm,dX=gm;function fX(t,e){return t&&hX(e,dX(e),t)}var mX=fX,pX=vm,gX=Rv;function yX(t,e){return t&&pX(e,gX(e),t)}var vX=yX,by={exports:{}};by.exports;(function(t,e){var n=Ki,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,m=o?o(f):new u.constructor(f);return u.copy(m),m}t.exports=l})(by,by.exports);var _X=by.exports;function bX(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var wX=bX,SX=vm,TX=DS;function EX(t,e){return SX(t,TX(t),e)}var xX=EX,AX=X2,DX=AX(Object.getPrototypeOf,Object),Iv=DX,RX=AS,IX=Iv,MX=DS,OX=W2,CX=Object.getOwnPropertySymbols,PX=CX?function(t){for(var e=[];t;)RX(e,MX(t)),t=IX(t);return e}:OX,yP=PX,NX=vm,kX=yP;function VX(t,e){return NX(t,kX(t),e)}var LX=VX,jX=G2,$X=yP,UX=Rv;function zX(t){return jX(t,UX,$X)}var vP=zX,FX=Object.prototype,BX=FX.hasOwnProperty;function YX(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&BX.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var HX=YX,jD=q2;function qX(t){var e=new t.constructor(t.byteLength);return new jD(e).set(new jD(t)),e}var jS=qX,GX=jS;function WX(t,e){var n=e?GX(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var KX=WX,QX=/\w*$/;function XX(t){var e=new t.constructor(t.source,QX.exec(t));return e.lastIndex=t.lastIndex,e}var ZX=XX,$D=lh,UD=$D?$D.prototype:void 0,zD=UD?UD.valueOf:void 0;function JX(t){return zD?Object(zD.call(t)):{}}var eZ=JX,tZ=jS;function nZ(t,e){var n=e?tZ(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var rZ=nZ,iZ=jS,aZ=KX,sZ=ZX,oZ=eZ,lZ=rZ,uZ="[object Boolean]",cZ="[object Date]",hZ="[object Map]",dZ="[object Number]",fZ="[object RegExp]",mZ="[object Set]",pZ="[object String]",gZ="[object Symbol]",yZ="[object ArrayBuffer]",vZ="[object DataView]",_Z="[object Float32Array]",bZ="[object Float64Array]",wZ="[object Int8Array]",SZ="[object Int16Array]",TZ="[object Int32Array]",EZ="[object Uint8Array]",xZ="[object Uint8ClampedArray]",AZ="[object Uint16Array]",DZ="[object Uint32Array]";function RZ(t,e,n){var r=t.constructor;switch(e){case yZ:return iZ(t);case uZ:case cZ:return new r(+t);case vZ:return aZ(t,n);case _Z:case bZ:case wZ:case SZ:case TZ:case EZ:case xZ:case AZ:case DZ:return lZ(t,n);case hZ:return new r;case dZ:case pZ:return new r(t);case fZ:return sZ(t);case mZ:return new r;case gZ:return oZ(t)}}var IZ=RZ,MZ=Ga,FD=Object.create,OZ=function(){function t(){}return function(e){if(!MZ(e))return{};if(FD)return FD(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),_P=OZ,CZ=_P,PZ=Iv,NZ=OS;function kZ(t){return typeof t.constructor=="function"&&!NZ(t)?CZ(PZ(t)):{}}var VZ=kZ,LZ=Tv,jZ=So,$Z="[object Map]";function UZ(t){return jZ(t)&&LZ(t)==$Z}var zZ=UZ,FZ=zZ,BZ=Sv,BD=IS,YD=BD&&BD.isMap,YZ=YD?BZ(YD):FZ,HZ=YZ,qZ=Tv,GZ=So,WZ="[object Set]";function KZ(t){return GZ(t)&&qZ(t)==WZ}var QZ=KZ,XZ=QZ,ZZ=Sv,HD=IS,qD=HD&&HD.isSet,JZ=qD?ZZ(qD):XZ,eJ=JZ,tJ=xS,nJ=pP,rJ=gP,iJ=mX,aJ=vX,sJ=_X,oJ=wX,lJ=xX,uJ=LX,cJ=Z2,hJ=vP,dJ=Tv,fJ=HX,mJ=IZ,pJ=VZ,gJ=Gr,yJ=wv,vJ=HZ,_J=Ga,bJ=eJ,wJ=gm,SJ=Rv,TJ=1,EJ=2,xJ=4,bP="[object Arguments]",AJ="[object Array]",DJ="[object Boolean]",RJ="[object Date]",IJ="[object Error]",wP="[object Function]",MJ="[object GeneratorFunction]",OJ="[object Map]",CJ="[object Number]",SP="[object Object]",PJ="[object RegExp]",NJ="[object Set]",kJ="[object String]",VJ="[object Symbol]",LJ="[object WeakMap]",jJ="[object ArrayBuffer]",$J="[object DataView]",UJ="[object Float32Array]",zJ="[object Float64Array]",FJ="[object Int8Array]",BJ="[object Int16Array]",YJ="[object Int32Array]",HJ="[object Uint8Array]",qJ="[object Uint8ClampedArray]",GJ="[object Uint16Array]",WJ="[object Uint32Array]",vt={};vt[bP]=vt[AJ]=vt[jJ]=vt[$J]=vt[DJ]=vt[RJ]=vt[UJ]=vt[zJ]=vt[FJ]=vt[BJ]=vt[YJ]=vt[OJ]=vt[CJ]=vt[SP]=vt[PJ]=vt[NJ]=vt[kJ]=vt[VJ]=vt[HJ]=vt[qJ]=vt[GJ]=vt[WJ]=!0;vt[IJ]=vt[wP]=vt[LJ]=!1;function vg(t,e,n,r,i,a){var s,o=e&TJ,l=e&EJ,u=e&xJ;if(n&&(s=i?n(t,r,i,a):n(t)),s!==void 0)return s;if(!_J(t))return t;var d=gJ(t);if(d){if(s=fJ(t),!o)return oJ(t,s)}else{var f=dJ(t),m=f==wP||f==MJ;if(yJ(t))return sJ(t,o);if(f==SP||f==bP||m&&!i){if(s=l||m?{}:pJ(t),!o)return l?uJ(t,aJ(s,t)):lJ(t,iJ(s,t))}else{if(!vt[f])return i?t:{};s=mJ(t,f,o)}}a||(a=new tJ);var g=a.get(t);if(g)return g;a.set(t,s),bJ(t)?t.forEach(function(S){s.add(vg(S,e,n,S,t,a))}):vJ(t)&&t.forEach(function(S,_){s.set(_,vg(S,e,n,_,t,a))});var A=u?l?hJ:cJ:l?SJ:wJ,b=d?void 0:A(t);return nJ(b||t,function(S,_){b&&(_=S,S=t[_]),rJ(s,_,vg(S,e,n,_,t,a))}),s}var KJ=vg;function QJ(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var XJ=QJ,ZJ=xv,JJ=A2;function eee(t,e){return e.length<2?t:ZJ(t,JJ(e,0,-1))}var tee=eee,nee=Ev,ree=XJ,iee=tee,aee=ym;function see(t,e){return e=nee(e,t),t=iee(t,e),t==null||delete t[aee(ree(e))]}var oee=see,lee=uh,uee=Iv,cee=So,hee="[object Object]",dee=Function.prototype,fee=Object.prototype,TP=dee.toString,mee=fee.hasOwnProperty,pee=TP.call(Object);function gee(t){if(!cee(t)||lee(t)!=hee)return!1;var e=uee(t);if(e===null)return!0;var n=mee.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&TP.call(n)==pee}var yee=gee,vee=yee;function _ee(t){return vee(t)?void 0:t}var bee=_ee,wee=lP;function See(t){var e=t==null?0:t.length;return e?wee(t,1):[]}var Tee=See,Eee=Tee,xee=uP,Aee=hP;function Dee(t){return Aee(xee(t,void 0,Eee),t+"")}var Ree=Dee,Iee=kS,Mee=KJ,Oee=oee,Cee=Ev,Pee=vm,Nee=bee,kee=Ree,Vee=vP,Lee=1,jee=2,$ee=4,Uee=kee(function(t,e){var n={};if(t==null)return n;var r=!1;e=Iee(e,function(a){return a=Cee(a,t),r||(r=a.length>1),a}),Pee(t,Vee(t),n),r&&(n=Mee(n,Lee|jee|$ee,Nee));for(var i=e.length;i--;)Oee(n,e[i]);return n}),zee=Uee;const Fee=Wn(zee);var Bee=pP,Yee=_P,Hee=VS,qee=Dv,Gee=Iv,Wee=Gr,Kee=wv,Qee=lS,Xee=Ga,Zee=MS;function Jee(t,e,n){var r=Wee(t),i=r||Kee(t)||Zee(t);if(e=qee(e),n==null){var a=t&&t.constructor;i?n=r?new a:[]:Xee(t)?n=Qee(a)?Yee(Gee(t)):{}:n={}}return(i?Bee:Hee)(t,function(s,o,l){return e(n,s,o,l)}),n}var ete=Jee;const tte=Wn(ete);var nte={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(tr,function(){return function(n,r,i){r.prototype.isBetween=function(a,s,o,l){var u=i(a),d=i(s),f=(l=l||"()")[0]==="(",m=l[1]===")";return(f?this.isAfter(u,o):!this.isBefore(u,o))&&(m?this.isBefore(d,o):!this.isAfter(d,o))||(f?this.isBefore(u,o):!this.isAfter(u,o))&&(m?this.isAfter(d,o):!this.isBefore(d,o))}}})})(nte);var rte={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(tr,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,a){return this.isSame(i,a)||this.isAfter(i,a)}}})})(rte);var ite={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(tr,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,a){return this.isSame(i,a)||this.isBefore(i,a)}}})})(ite);var ate={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(tr,function(){return function(n,r,i){var a=r.prototype,s=function(f){return f&&(f.indexOf?f:f.s)},o=function(f,m,g,A,b){var S=f.name?f:f.$locale(),_=s(S[m]),T=s(S[g]),D=_||T.map(function(L){return L.slice(0,A)});if(!b)return D;var O=S.weekStart;return D.map(function(L,z){return D[(z+(O||0))%7]})},l=function(){return i.Ls[i.locale()]},u=function(f,m){return f.formats[m]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(A,b,S){return b||S.slice(1)})}(f.formats[m.toUpperCase()])},d=function(){var f=this;return{months:function(m){return m?m.format("MMMM"):o(f,"months")},monthsShort:function(m){return m?m.format("MMM"):o(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(m){return m?m.format("dddd"):o(f,"weekdays")},weekdaysMin:function(m){return m?m.format("dd"):o(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(m){return m?m.format("ddd"):o(f,"weekdaysShort","weekdays",3)},longDateFormat:function(m){return u(f.$locale(),m)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return d.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(m){return u(f,m)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return o(l(),"months")},i.monthsShort=function(){return o(l(),"monthsShort","months",3)},i.weekdays=function(f){return o(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return o(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return o(l(),"weekdaysMin","weekdays",2,f)}}})})(ate);var ste={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(tr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,a){var s=i.prototype,o=s.format;a.en.formats=n,s.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,m){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(g,A,b){var S=b&&b.toUpperCase();return A||m[b]||n[b]||m[S].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,T,D){return T||D.slice(1)})})}(l,u===void 0?{}:u);return o.call(this,d)}}})})(ste);var ote={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(tr,function(){return function(n,r,i){var a=function(s,o){if(!o||!o.length||o.length===1&&!o[0]||o.length===1&&Array.isArray(o[0])&&!o[0].length)return null;var l;o.length===1&&o[0].length>0&&(o=o[0]),l=(o=o.filter(function(d){return d}))[0];for(var u=1;u<o.length;u+=1)o[u].isValid()&&!o[u][s](l)||(l=o[u]);return l};i.max=function(){var s=[].slice.call(arguments,0);return a("isAfter",s)},i.min=function(){var s=[].slice.call(arguments,0);return a("isBefore",s)}}})})(ote);var lte={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(tr,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,s,o){var l=s.prototype;o.utc=function(b){var S={date:b,utc:!0,args:arguments};return new s(S)},l.utc=function(b){var S=o(this.toDate(),{locale:this.$L,utc:!0});return b?S.add(this.utcOffset(),n):S},l.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(b){b.utc&&(this.$u=!0),this.$utils().u(b.$offset)||(this.$offset=b.$offset),u.call(this,b)};var d=l.init;l.init=function(){if(this.$u){var b=this.$d;this.$y=b.getUTCFullYear(),this.$M=b.getUTCMonth(),this.$D=b.getUTCDate(),this.$W=b.getUTCDay(),this.$H=b.getUTCHours(),this.$m=b.getUTCMinutes(),this.$s=b.getUTCSeconds(),this.$ms=b.getUTCMilliseconds()}else d.call(this)};var f=l.utcOffset;l.utcOffset=function(b,S){var _=this.$utils().u;if(_(b))return this.$u?0:_(this.$offset)?f.call(this):this.$offset;if(typeof b=="string"&&(b=function(L){L===void 0&&(L="");var z=L.match(r);if(!z)return null;var I=(""+z[0]).match(i)||["-",0,0],R=I[0],C=60*+I[1]+ +I[2];return C===0?0:R==="+"?C:-C}(b),b===null))return this;var T=Math.abs(b)<=16?60*b:b;if(T===0)return this.utc(S);var D=this.clone();if(S)return D.$offset=T,D.$u=!1,D;var O=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(D=this.local().add(T+O,n)).$offset=T,D.$x.$localOffset=O,D};var m=l.format;l.format=function(b){var S=b||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,S)},l.valueOf=function(){var b=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*b},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var g=l.toDate;l.toDate=function(b){return b==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var A=l.diff;l.diff=function(b,S,_){if(b&&this.$u===b.$u)return A.call(this,b,S,_);var T=this.local(),D=o(b).local();return A.call(T,D,S,_)}}})})(lte);var ute={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(tr,function(){return function(n,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(ute);function xi(t){return t.children}var or={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Hn={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},GD=Object.keys(Hn).map(function(t){return Hn[t]});ce.oneOfType([ce.string,ce.func]);ce.any;ce.func;ce.oneOfType([ce.arrayOf(ce.oneOf(GD)),ce.objectOf(function(t,e){var n=GD.indexOf(e)!==-1&&typeof t[e]=="boolean";if(n)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return ce.elementType.apply(ce,[t,e].concat(i))})]);ce.oneOfType([ce.oneOf(["overlap","no-overlap"]),ce.func]);var WD={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function EP(t,e){var n=Cn(t,"month");return Cn(n,"week",e.startOfWeek())}function xP(t,e){var n=my(t,"month");return my(n,"week",e.startOfWeek())}function cte(t,e){for(var n=EP(t,e),r=xP(t,e),i=[];sh(n,r,"day");)i.push(n),n=hi(n,1,"day");return i}function hte(t,e){var n=Cn(t,e);return lm(n,t)?n:hi(n,1,e)}function dte(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=t,i=[];sh(r,e,n);)i.push(r),r=hi(r,1,n);return i}function fte(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=Cn(t,"day"),t=pf(t,pf(e)),t=Ac(t,Ac(e)),t=mf(t,mf(e)),ff(t,ff(e)))}function KD(t){return pf(t)===0&&Ac(t)===0&&mf(t)===0&&ff(t)===0}function mte(t,e,n,r){return n==="day"&&(n="date"),Math.abs(OA[n](t,void 0,r)-OA[n](e,void 0,r))}function $S(t,e,n){return!n||n==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+Cn(t,n)/WD[n]-+Cn(e,n)/WD[n]))}var pte=ce.oneOfType([ce.string,ce.func]);function gte(t,e,n,r,i){var a=typeof r=="function"?r(n,i,t):e.call(t,n,r,i);return of(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function yte(t,e,n){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+n,0,0)}function US(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function vte(t,e){return $S(t,e,"minutes")+US(t,e)}function _te(t){var e=Cn(t,"day");return $S(e,t,"minutes")+US(e,t)}function bte(t,e){return oS(t,e,"day")}function wte(t,e,n){var r=lm(t,e,"minutes");return r?um(e,n,"minutes"):mv(e,n,"minutes")}function d1(t,e){return mte(t,e,"day")}function Ste(t){var e=t.evtA,n=e.start,r=e.end,i=e.allDay,a=t.evtB,s=a.start,o=a.end,l=a.allDay,u=+Cn(n,"day")-+Cn(s,"day"),d=d1(n,r),f=d1(s,o);return u||f-d||!!l-!!i||+n-+s||+r-+o}function Tte(t){var e=t.event,n=e.start,r=e.end,i=t.range,a=i.start,s=i.end,o=Cn(n,"day"),l=sh(o,s,"day"),u=sS(o,r,"minutes"),d=u?mv(r,a,"minutes"):um(r,a,"minutes");return l&&d}function Ete(t,e){return lm(t,e,"day")}function xte(t,e){return KD(t)&&KD(e)}var Ate=pn(function t(e){var n=this;mn(this,t),of(typeof e.format=="function","date localizer `format(..)` must be a function"),of(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||pte,this.formats=e.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return gte.apply(void 0,[n,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||fte,this.inRange=e.inRange||w2,this.lt=e.lt||oS,this.lte=e.lte||sh,this.gt=e.gt||mv,this.gte=e.gte||um,this.eq=e.eq||lm,this.neq=e.neq||sS,this.startOf=e.startOf||Cn,this.endOf=e.endOf||my,this.add=e.add||hi,this.range=e.range||dte,this.diff=e.diff||$S,this.ceil=e.ceil||hte,this.min=e.min||_2,this.max=e.max||b2,this.minutes=e.minutes||Ac,this.daySpan=e.daySpan||d1,this.firstVisibleDay=e.firstVisibleDay||EP,this.lastVisibleDay=e.lastVisibleDay||xP,this.visibleDays=e.visibleDays||cte,this.getSlotDate=e.getSlotDate||yte,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||US,this.getTotalMin=e.getTotalMin||vte,this.getMinutesFromMidnight=e.getMinutesFromMidnight||_te,this.continuesPrior=e.continuesPrior||bte,this.continuesAfter=e.continuesAfter||wte,this.sortEvents=e.sortEvents||Ste,this.inEventRange=e.inEventRange||Tte,this.isSameDate=e.isSameDate||Ete,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||xte,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function Dte(t,e,n,r){var i=mt(mt({},t.formats),n);return mt(mt({},t),{},{messages:r,startOfWeek:function(){return t.startOfWeek(e)},format:function(s,o){return t.format(s,i[o]||o,e)}})}var Rte=function(t){function e(){var n;mn(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=zn(this,e,[].concat(i)),n.navigate=function(s){n.props.onNavigate(s)},n.view=function(s){n.props.onView(s)},n}return Fn(e,t),pn(e,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,a=r.label;return B.createElement("div",{className:"rbc-toolbar"},B.createElement("span",{className:"rbc-btn-group"},B.createElement("button",{type:"button",onClick:this.navigate.bind(null,or.TODAY)},i.today),B.createElement("button",{type:"button",onClick:this.navigate.bind(null,or.PREVIOUS)},i.previous),B.createElement("button",{type:"button",onClick:this.navigate.bind(null,or.NEXT)},i.next)),B.createElement("span",{className:"rbc-toolbar-label"},a),B.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,a=this.props.views,s=this.props.view;if(a.length>1)return a.map(function(o){return B.createElement("button",{type:"button",key:o,className:Wt({"rbc-active":s===o}),onClick:i.view.bind(null,o)},r[o])})}}])}(B.Component);function Tt(t,e){t&&t.apply(null,[].concat(e))}var Ite={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function Mte(t){return mt(mt({},Ite),t)}function Ote(t){var e=t.ref,n=t.callback;F.useEffect(function(){var r=function(a){e.current&&!e.current.contains(a.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,n])}var Cte=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],AP=function(t){function e(){return mn(this,e),zn(this,e,arguments)}return Fn(e,t),pn(e,[{key:"render",value:function(){var r=this.props,i=r.style,a=r.className,s=r.event,o=r.selected,l=r.isAllDay,u=r.onSelect,d=r.onDoubleClick,f=r.onKeyPress,m=r.localizer,g=r.continuesPrior,A=r.continuesAfter,b=r.accessors,S=r.getters,_=r.children,T=r.components,D=T.event,O=T.eventWrapper,L=r.slotStart,z=r.slotEnd,I=Bi(r,Cte);delete I.resizable;var R=b.title(s),C=b.tooltip(s),P=b.end(s),V=b.start(s),$=b.allDay(s),N=l||$||m.diff(V,m.ceil(P,"day"),"day")>1,me=S.eventProp(s,V,P,o),be=B.createElement("div",{className:"rbc-event-content",title:C||void 0},D?B.createElement(D,{event:s,continuesPrior:g,continuesAfter:A,title:R,isAllDay:$,localizer:m,slotStart:L,slotEnd:z}):R);return B.createElement(O,Object.assign({},this.props,{type:"date"}),B.createElement("div",Object.assign({},I,{style:mt(mt({},me.style),i),className:Wt("rbc-event",a,me.className,{"rbc-selected":o,"rbc-event-allday":N,"rbc-event-continues-prior":g,"rbc-event-continues-after":A}),onClick:function(j){return u&&u(s,j)},onDoubleClick:function(j){return d&&d(s,j)},onKeyDown:function(j){return f&&f(s,j)}}),typeof _=="function"?_(be):be))}}])}(B.Component);function Mv(t,e){return!t||e==null?!1:Wq(t,e)}function DP(t,e){var n=t.right-t.left,r=n/e;return r}function RP(t,e,n,r){var i=DP(t,r);return n?r-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function Pte(t,e){var n=e.x,r=e.y;return r>=t.top&&r<=t.bottom&&n>=t.left&&n<=t.right}function Nte(t,e,n,r,i){var a=-1,s=-1,o=r-1,l=DP(e,r),u=RP(e,n.x,i,r),d=e.top<n.y&&e.bottom>n.y,f=e.top<t.y&&e.bottom>t.y,m=t.y>e.bottom,g=e.top>t.y,A=n.top<e.top&&n.bottom>e.bottom;return A&&(a=0,s=o),d&&(g?(a=0,s=u):m&&(a=u,s=o)),f&&(a=s=i?o-Math.floor((t.x-e.left)/l):Math.floor((t.x-e.left)/l),d?u<a?a=u:s=u:t.y<n.y?s=o:a=0),{startIdx:a,endIdx:s}}function kte(t){var e=t.target,n=t.offset,r=t.container,i=t.box,a=vl(e),s=a.top,o=a.left,l=a.width,u=a.height,d=vl(r),f=d.top,m=d.left,g=d.width,A=d.height,b=vl(i),S=b.width,_=b.height,T=f+A,D=m+g,O=s+_,L=o+S,z=n.x,I=n.y,R=O>T?s-_-I:s+I+u,C=L>D?o+z-S+l:o+z;return{topOffset:R,leftOffset:C}}function Vte(t){var e=t.containerRef,n=t.accessors,r=t.getters,i=t.selected,a=t.components,s=t.localizer,o=t.position,l=t.show,u=t.events,d=t.slotStart,f=t.slotEnd,m=t.onSelect,g=t.onDoubleClick,A=t.onKeyPress,b=t.handleDragStart,S=t.popperRef,_=t.target,T=t.offset;Ote({ref:S,callback:l}),F.useLayoutEffect(function(){var L=kte({target:_,offset:T,container:e.current,box:S.current}),z=L.topOffset,I=L.leftOffset;S.current.style.top="".concat(z,"px"),S.current.style.left="".concat(I,"px")},[T.x,T.y,_]);var D=o.width,O={minWidth:D+D/2};return B.createElement("div",{style:O,className:"rbc-overlay",ref:S},B.createElement("div",{className:"rbc-overlay-header"},s.format(d,"dayHeaderFormat")),u.map(function(L,z){return B.createElement(AP,{key:z,type:"popup",localizer:s,event:L,getters:r,onSelect:m,accessors:n,components:a,onDoubleClick:g,onKeyPress:A,continuesPrior:s.lt(n.end(L),d,"day"),continuesAfter:s.gte(n.start(L),f,"day"),slotStart:d,slotEnd:f,selected:Mv(L,i),draggable:!0,onDragStart:function(){return b(L)},onDragEnd:function(){return l()}})}))}var IP=B.forwardRef(function(t,e){return B.createElement(Vte,Object.assign({},t,{popperRef:e}))});IP.propTypes={accessors:ce.object.isRequired,getters:ce.object.isRequired,selected:ce.object,components:ce.object.isRequired,localizer:ce.object.isRequired,position:ce.object.isRequired,show:ce.func.isRequired,events:ce.array.isRequired,slotStart:ce.instanceOf(Date).isRequired,slotEnd:ce.instanceOf(Date),onSelect:ce.func,onDoubleClick:ce.func,onKeyPress:ce.func,handleDragStart:ce.func,style:ce.object,offset:ce.shape({x:ce.number,y:ce.number})};function Lte(t){var e=t.containerRef,n=t.popupOffset,r=n===void 0?5:n,i=t.overlay,a=t.accessors,s=t.localizer,o=t.components,l=t.getters,u=t.selected,d=t.handleSelectEvent,f=t.handleDoubleClickEvent,m=t.handleKeyPressEvent,g=t.handleDragStart,A=t.onHide,b=t.overlayDisplay,S=F.useRef(null);if(!i.position)return null;var _=r;isNaN(r)||(_={x:r,y:r});var T=i.position,D=i.events,O=i.date,L=i.end;return B.createElement(wB,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:A,target:i.target},function(z){var I=z.props;return B.createElement(IP,Object.assign({},I,{containerRef:e,ref:S,target:i.target,offset:_,accessors:a,getters:l,selected:u,components:o,localizer:s,position:T,show:b,events:D,slotStart:O,slotEnd:L,onSelect:d,onDoubleClick:f,onKeyPress:m,handleDragStart:g}))})}var zS=B.forwardRef(function(t,e){return B.createElement(Lte,Object.assign({},t,{containerRef:e}))});zS.propTypes={popupOffset:ce.oneOfType([ce.number,ce.shape({x:ce.number,y:ce.number})]),overlay:ce.shape({position:ce.object,events:ce.array,date:ce.instanceOf(Date),end:ce.instanceOf(Date)}),accessors:ce.object.isRequired,localizer:ce.object.isRequired,components:ce.object.isRequired,getters:ce.object.isRequired,selected:ce.object,handleSelectEvent:ce.func,handleDoubleClickEvent:ce.func,handleKeyPressEvent:ce.func,handleDragStart:ce.func,onHide:ce.func,overlayDisplay:ce.func};function Pn(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return dd(n,t,e,{passive:!1})}function jte(t,e,n){return!t||gf(t,document.elementFromPoint(e,n))}function $te(t,e){var n=e.clientX,r=e.clientY,i=document.elementFromPoint(n,r);return tP(i,".rbc-event",t)}function Ute(t,e){var n=e.clientX,r=e.clientY,i=document.elementFromPoint(n,r);return tP(i,".rbc-show-more",t)}function wy(t,e){return!!$te(t,e)}function zte(t,e){return!!Ute(t,e)}function ed(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var QD=5,Fte=250,MP=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,i=r===void 0?!1:r,a=n.longPressThreshold,s=a===void 0?250:a,o=n.validContainers,l=o===void 0?[]:o;mn(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=s,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Pn("touchmove",function(){},window),this._removeKeyDownListener=Pn("keydown",this._keyListener),this._removeKeyUpListener=Pn("keyup",this._keyListener),this._removeDropFromOutsideListener=Pn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Pn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return pn(t,[{key:"on",value:function(n,r){var i=this._listeners[n]||(this._listeners[n]=[]);return i.push(r),{remove:function(){var s=i.indexOf(r);s!==-1&&i.splice(s,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var s,o=this._listeners[n]||[];return o.forEach(function(l){s===void 0&&(s=l.apply(void 0,i))}),s}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:XD(r,Nl(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var i=this,a=null,s=null,o=null,l=function(m){a=setTimeout(function(){d(),n(m)},i.longPressThreshold),s=Pn("touchmove",function(){return d()}),o=Pn("touchend",function(){return d()})},u=Pn("touchstart",l),d=function(){a&&clearTimeout(a),s&&s(),o&&o(),a=null,s=null,o=null};return r&&l(r),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=Pn("mousedown",function(a){n._removeInitialEventListener(),n._handleInitialEvent(a),n._removeInitialEventListener=Pn("mousedown",n._handleInitialEvent)}),i=Pn("touchstart",function(a){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,a)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(n){var r=ed(n),i=r.pageX,a=r.pageY,s=r.clientX,o=r.clientY;this.emit("dropFromOutside",{x:i,y:a,clientX:s,clientY:o}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=ed(n),i=r.pageX,a=r.pageY,s=r.clientX,o=r.clientY;this.emit("dragOverFromOutside",{x:i,y:a,clientX:s,clientY:o}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=ed(n),i=r.clientX,a=r.clientY,s=r.pageX,o=r.pageY,l=this.container(),u,d;if(!(n.which===3||n.button===2||!jte(l,i,a))){if(!this.globalMouse&&l&&!gf(l,n.target)){var f=Bte(0),m=f.top,g=f.left,A=f.bottom,b=f.right;if(d=Nl(l),u=XD({top:d.top-m,left:d.left-g,bottom:d.bottom+A,right:d.right+b},{top:o,left:s}),!u)return}var S=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:s,y:o,clientX:i,clientY:a});if(S!==!1)switch(n.type){case"mousedown":this._removeEndListener=Pn("mouseup",this._handleTerminatingEvent),this._onEscListener=Pn("keydown",this._handleTerminatingEvent),this._removeMoveListener=Pn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=Pn("touchend",this._handleTerminatingEvent),this._removeMoveListener=Pn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(a){return!!r.closest(a)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,i=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var a=!this.container||gf(this.container(),n.target),s=this._isWithinValidContainer(n);return n.key==="Escape"||!s?this.emit("reset"):!r&&a?this._handleClickEvent(n):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=ed(n),i=r.pageX,a=r.pageY,s=r.clientX,o=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<Fte?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:a,clientX:s,clientY:o})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:a,clientX:s,clientY:o}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,a=r.y,s=ed(n),o=s.pageX,l=s.pageY,u=Math.abs(i-o),d=Math.abs(a-l),f=Math.min(o,i),m=Math.min(l,a),g=this.selecting,A=this.isClick(o,l);A&&!g&&!(u||d)||(!g&&!A&&this.emit("selectStart",this._initialEventData),A||(this.selecting=!0,this._selectRect={top:m,left:f,x:o,y:l,right:f+u,bottom:m+d},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var i=this._initialEventData,a=i.x,s=i.y,o=i.isTouch;return!o&&Math.abs(n-a)<=QD&&Math.abs(r-s)<=QD}}])}();function Bte(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return $a(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function XD(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Nl(t),i=r.top,a=r.left,s=r.right,o=s===void 0?a:s,l=r.bottom,u=l===void 0?i:l,d=Nl(e),f=d.top,m=d.left,g=d.right,A=g===void 0?m:g,b=d.bottom,S=b===void 0?f:b;return!(u-n<f||i+n>S||o-n<m||a+n>A)}function Nl(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),n=e.left+ZD("left"),r=e.top+ZD("top");return{top:r,left:n,right:(t.offsetWidth||0)+n,bottom:(t.offsetHeight||0)+r}}function ZD(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var Yte=function(t){function e(n,r){var i;return mn(this,e),i=zn(this,e,[n,r]),i.state={selecting:!1},i.containerRef=F.createRef(),i}return Fn(e,t),pn(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,a=r.getNow,s=r.getters,o=r.date,l=r.components.dateCellWrapper,u=r.localizer,d=this.state,f=d.selecting,m=d.startIdx,g=d.endIdx,A=a();return B.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(b,S){var _=f&&S>=m&&S<=g,T=s.dayProp(b),D=T.className,O=T.style;return B.createElement(l,{key:S,value:b,range:i},B.createElement("div",{style:O,className:Wt("rbc-day-bg",D,_&&"rbc-selected-cell",u.isSameDate(b,A)&&"rbc-today",o&&u.neq(o,b,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,a=this._selector=new MP(this.props.container,{longPressThreshold:this.props.longPressThreshold}),s=function(l,u){if(!wy(i,l)&&!zte(i,l)){var d=Nl(i),f=r.props,m=f.range,g=f.rtl;if(Pte(d,l)){var A=RP(d,l.x,g,m.length);r._selectSlot({startIdx:A,endIdx:A,action:u,box:l})}}r._initial={},r.setState({selecting:!1})};a.on("selecting",function(o){var l=r.props,u=l.range,d=l.rtl,f=-1,m=-1;if(r.state.selecting||(Tt(r.props.onSelectStart,[o]),r._initial={x:o.x,y:o.y}),a.isSelected(i)){var g=Nl(i),A=Nte(r._initial,g,o,u.length,d);f=A.startIdx,m=A.endIdx}r.setState({selecting:!0,startIdx:f,endIdx:m})}),a.on("beforeSelect",function(o){if(r.props.selectable==="ignoreEvents")return!wy(r.containerRef.current,o)}),a.on("click",function(o){return s(o,"click")}),a.on("doubleClick",function(o){return s(o,"doubleClick")}),a.on("select",function(o){r._selectSlot(mt(mt({},r.state),{},{action:"select",bounds:o})),r._initial={},r.setState({selecting:!1}),Tt(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,a=r.startIdx,s=r.action,o=r.bounds,l=r.box;i!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:i,action:s,bounds:o,box:l,resourceId:this.props.resourceId})}}])}(B.Component),Cr={propTypes:{slotMetrics:ce.object.isRequired,selected:ce.object,isAllDay:ce.bool,accessors:ce.object.isRequired,localizer:ce.object.isRequired,components:ce.object.isRequired,getters:ce.object.isRequired,onSelect:ce.func,onDoubleClick:ce.func,onKeyPress:ce.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,n){var r=e.selected;e.isAllDay;var i=e.accessors,a=e.getters,s=e.onSelect,o=e.onDoubleClick,l=e.onKeyPress,u=e.localizer,d=e.slotMetrics,f=e.components,m=e.resizable,g=d.continuesPrior(n),A=d.continuesAfter(n);return B.createElement(AP,{event:n,getters:a,localizer:u,accessors:i,components:f,onSelect:s,onDoubleClick:o,onKeyPress:l,continuesPrior:g,continuesAfter:A,slotStart:d.first,slotEnd:d.last,selected:Mv(n,r),resizable:m})},renderSpan:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(n)/e*100+"%";return B.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},i)}},OP=function(t){function e(){return mn(this,e),zn(this,e,arguments)}return Fn(e,t),pn(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.segments,s=i.slotMetrics.slots,o=i.className,l=1;return B.createElement("div",{className:Wt(o,"rbc-row")},a.reduce(function(u,d,f){var m=d.event,g=d.left,A=d.right,b=d.span,S="_lvl_"+f,_=g-l,T=Cr.renderEvent(r.props,m);return _&&u.push(Cr.renderSpan(s,_,"".concat(S,"_gap"))),u.push(Cr.renderSpan(s,b,S,T)),l=A+1,u},[]))}}])}(B.Component);OP.defaultProps=mt({},Cr.defaultProps);function CP(t){var e=t.dateRange,n=t.unit,r=n===void 0?"day":n,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,r)}}function Hte(t,e,n,r){var i=CP({dateRange:e,localizer:r}),a=i.first,s=i.last,o=r.diff(a,s,"day"),l=r.max(r.startOf(n.start(t),"day"),a),u=r.min(r.ceil(n.end(t),"day"),s),d=KW(e,function(m){return r.isSameDate(m,l)}),f=r.diff(l,u,"day");return f=Math.min(f,o),f=Math.max(f-r.segmentOffset,1),{event:t,span:f,left:d+1,right:Math.max(d+f,1)}}function f1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,i,a=[],s=[];for(n=0;n<t.length;n++){for(i=t[n],r=0;r<a.length&&qte(i,a[r]);r++);r>=e?s.push(i):(a[r]||(a[r]=[])).push(i)}for(n=0;n<a.length;n++)a[n].sort(function(o,l){return o.left-l.left});return{levels:a,extra:s}}function _f(t,e,n,r,i){var a={start:r.start(t),end:r.end(t)},s={start:e,end:n};return i.inEventRange({event:a,range:s})}function qte(t,e){return e.some(function(n){return n.left<=t.right&&n.right>=t.left})}function Gte(t,e,n){var r=gg(t),i=[],a=[];r.forEach(function(l){var u=e.start(l),d=e.end(l);n.daySpan(u,d)>1?i.push(l):a.push(l)});var s=i.sort(function(l,u){return m1(l,u,e,n)}),o=a.sort(function(l,u){return m1(l,u,e,n)});return[].concat(gg(s),gg(o))}function m1(t,e,n,r){var i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)},a={start:n.start(e),end:n.end(e),allDay:n.allDay(e)};return r.sortEvents({evtA:i,evtB:a})}var p1=function(e,n){return e.left<=n&&e.right>=n},P0=function(e,n){return e.filter(function(r){return p1(r,n)}).map(function(r){return r.event})},PP=function(t){function e(){return mn(this,e),zn(this,e,arguments)}return Fn(e,t),pn(e,[{key:"render",value:function(){for(var r=this.props,i=r.segments,a=r.slotMetrics.slots,s=f1(i).levels[0],o=1,l=1,u=[];o<=a;){var d="_lvl_"+o,f=s.filter(function(O){return p1(O,o)})[0]||{},m=f.event,g=f.left,A=f.right,b=f.span;if(!m){var S=this.getHiddenEventsForSlot(i,o);if(S.length>0){var _=o-l;_&&u.push(Cr.renderSpan(a,_,d+"_gap")),u.push(Cr.renderSpan(a,1,d,this.renderShowMore(i,o))),l=o=o+1;continue}o++;continue}var T=Math.max(0,g-l);if(this.canRenderSlotEvent(g,b)){var D=Cr.renderEvent(this.props,m);T&&u.push(Cr.renderSpan(a,T,d+"_gap")),u.push(Cr.renderSpan(a,b,d,D)),l=o=A+1}else T&&u.push(Cr.renderSpan(a,T,d+"_gap")),u.push(Cr.renderSpan(a,1,d,this.renderShowMore(i,o))),l=o=o+1}return B.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(r,i){var a=P0(r,i),s=f1(r).levels[0],o=s.filter(function(l){return p1(l,i)}).map(function(l){return l.event});return a.filter(function(l){return!o.some(function(u){return u===l})})}},{key:"canRenderSlotEvent",value:function(r,i){var a=this.props.segments;return oK(r,r+i).every(function(s){var o=P0(a,s).length;return o===1})}},{key:"renderShowMore",value:function(r,i){var a=this,s=this.props,o=s.localizer,l=s.slotMetrics,u=s.components,d=l.getEventsForSlot(i),f=P0(r,i),m=f.length;if(u!=null&&u.showMore){var g=u.showMore,A=l.getDateForSlot(i-1);return m?B.createElement(g,{localizer:o,slotDate:A,slot:i,count:m,events:d,remainingEvents:f}):!1}return m?B.createElement("button",{type:"button",key:"sm_"+i,className:Wt("rbc-button-link","rbc-show-more"),onClick:function(S){return a.showMore(i,S)}},o.messages.showMore(m,f,d)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])}(B.Component);PP.defaultProps=mt({},Cr.defaultProps);var Wte=function(e){var n=e.children;return B.createElement("div",{className:"rbc-row-content-scroll-container"},n)},Kte=function(e,n){return e.left<=n&&e.right>=n},Qte=function(e,n){return e[0].range===n[0].range&&e[0].events===n[0].events};function NP(){return sP(function(t){for(var e=t.range,n=t.events,r=t.maxRows,i=t.minRows,a=t.accessors,s=t.localizer,o=CP({dateRange:e,localizer:s}),l=o.first,u=o.last,d=n.map(function(b){return Hte(b,e,a,s)}),f=f1(d,Math.max(r-1,1)),m=f.levels,g=f.extra,A=g.length>0?i-1:i;m.length<A;)m.push([]);return{first:l,last:u,levels:m,extra:g,range:e,slots:e.length,clone:function(S){var _=NP();return _(mt(mt({},t),S))},getDateForSlot:function(S){return e[S]},getSlotForDate:function(S){return e.find(function(_){return s.isSameDate(_,S)})},getEventsForSlot:function(S){return d.filter(function(_){return Kte(_,S)}).map(function(_){return _.event})},continuesPrior:function(S){return s.continuesPrior(a.start(S),l)},continuesAfter:function(S){var _=a.start(S),T=a.end(S);return s.continuesAfter(_,T,u)}}},Qte)}var bf=function(t){function e(){var n;mn(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=zn(this,e,[].concat(i)),n.handleSelectSlot=function(s){var o=n.props,l=o.range,u=o.onSelectSlot;u(l.slice(s.start,s.end+1),s)},n.handleShowMore=function(s,o){var l=n.props,u=l.range,d=l.onShowMore,f=n.slotMetrics(n.props),m=qF(n.containerRef.current,".rbc-row-bg")[0],g;m&&(g=m.children[s-1]);var A=f.getEventsForSlot(s);d(A,u[s-1],g,s,o)},n.getContainer=function(){var s=n.props.container;return s?s():n.containerRef.current},n.renderHeadingCell=function(s,o){var l=n.props,u=l.renderHeader,d=l.getNow,f=l.localizer;return u({date:s,key:"header_".concat(o),className:Wt("rbc-date-cell",f.isSameDate(s,d())&&"rbc-now")})},n.renderDummy=function(){var s=n.props,o=s.className,l=s.range,u=s.renderHeader,d=s.showAllEvents;return B.createElement("div",{className:o,ref:n.containerRef},B.createElement("div",{className:Wt("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&B.createElement("div",{className:"rbc-row",ref:n.headingRowRef},l.map(n.renderHeadingCell)),B.createElement("div",{className:"rbc-row",ref:n.eventRowRef},B.createElement("div",{className:"rbc-row-segment"},B.createElement("div",{className:"rbc-event"},B.createElement("div",{className:"rbc-event-content"},""))))))},n.containerRef=F.createRef(),n.headingRowRef=F.createRef(),n.eventRowRef=F.createRef(),n.slotMetrics=NP(),n}return Fn(e,t),pn(e,[{key:"getRowLimit",value:function(){var r,i=M0(this.eventRowRef.current),a=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?M0(this.headingRowRef.current):0,s=M0(this.containerRef.current)-a;return Math.max(Math.floor(s/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,a=r.rtl,s=r.range,o=r.className,l=r.selected,u=r.selectable,d=r.renderForMeasure,f=r.accessors,m=r.getters,g=r.components,A=r.getNow,b=r.renderHeader,S=r.onSelect,_=r.localizer,T=r.onSelectStart,D=r.onSelectEnd,O=r.onDoubleClick,L=r.onKeyPress,z=r.resourceId,I=r.longPressThreshold,R=r.isAllDay,C=r.resizable,P=r.showAllEvents;if(d)return this.renderDummy();var V=this.slotMetrics(this.props),$=V.levels,N=V.extra,me=P?Wte:xi,be=g.weekWrapper,X={selected:l,accessors:f,getters:m,localizer:_,components:g,onSelect:S,onDoubleClick:O,onKeyPress:L,resourceId:z,slotMetrics:V,resizable:C};return B.createElement("div",{className:o,role:"rowgroup",ref:this.containerRef},B.createElement(Yte,{localizer:_,date:i,getNow:A,rtl:a,range:s,selectable:u,container:this.getContainer,getters:m,onSelectStart:T,onSelectEnd:D,onSelectSlot:this.handleSelectSlot,components:g,longPressThreshold:I,resourceId:z}),B.createElement("div",{className:Wt("rbc-row-content",P&&"rbc-row-content-scrollable"),role:"row"},b&&B.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},s.map(this.renderHeadingCell)),B.createElement(me,null,B.createElement(be,Object.assign({isAllDay:R},X,{rtl:this.props.rtl}),$.map(function(j,J){return B.createElement(OP,Object.assign({key:J,segments:j},X))}),!!N.length&&B.createElement(PP,Object.assign({segments:N,onShowMore:this.handleShowMore},X))))))}}])}(B.Component);bf.defaultProps={minRows:0,maxRows:1/0};var FS=function(e){var n=e.label;return B.createElement("span",{role:"columnheader","aria-sort":"none"},n)},Xte=function(e){var n=e.label,r=e.drilldownView,i=e.onDrillDown;return r?B.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},n):B.createElement("span",null,n)},Zte=["date","className"],Jte=function(e,n,r,i,a){return e.filter(function(s){return _f(s,n,r,i,a)})},Ov=function(t){function e(){var n;mn(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=zn(this,e,[].concat(i)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(s,o){var l=n.props,u=l.events,d=l.components,f=l.selectable,m=l.getNow,g=l.selected,A=l.date,b=l.localizer,S=l.longPressThreshold,_=l.accessors,T=l.getters,D=l.showAllEvents,O=n.state,L=O.needLimitMeasure,z=O.rowLimit,I=Jte(gg(u),s[0],s[s.length-1],_,b),R=Gte(I,_,b);return B.createElement(bf,{key:o,ref:o===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:m,date:A,range:s,events:R,maxRows:D?1/0:z,selected:g,selectable:f,components:d,accessors:_,getters:T,localizer:b,renderHeader:n.readerDateHeading,renderForMeasure:L,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:S,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:D})},n.readerDateHeading=function(s){var o=s.date,l=s.className,u=Bi(s,Zte),d=n.props,f=d.date,m=d.getDrilldownView,g=d.localizer,A=g.neq(f,o,"month"),b=g.isSameDate(o,f),S=m(o),_=g.format(o,"dateFormat"),T=n.props.components.dateHeader||Xte;return B.createElement("div",Object.assign({},u,{className:Wt(l,A&&"rbc-off-range",b&&"rbc-current"),role:"cell"}),B.createElement(T,{label:_,date:o,drilldownView:S,isOffRange:A,onDrillDown:function(O){return n.handleHeadingClick(o,S,O)}}))},n.handleSelectSlot=function(s,o){n._pendingSelection=n._pendingSelection.concat(s),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(o)})},n.handleHeadingClick=function(s,o,l){l.preventDefault(),n.clearSelection(),Tt(n.props.onDrillDown,[s,o])},n.handleSelectEvent=function(){n.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Tt(n.props.onSelectEvent,o)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Tt(n.props.onDoubleClickEvent,o)},n.handleKeyPressEvent=function(){n.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Tt(n.props.onKeyPressEvent,o)},n.handleShowMore=function(s,o,l,u,d){var f=n.props,m=f.popup,g=f.onDrillDown,A=f.onShowMore,b=f.getDrilldownView,S=f.doShowMoreDrillDown;if(n.clearSelection(),m){var _=N2(l,n.containerRef.current);n.setState({overlay:{date:o,events:s,position:_,target:d}})}else S&&Tt(g,[o,b(o)||Hn.DAY]);Tt(A,[s,o,u])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=F.createRef(),n.slotRowRef=F.createRef(),n._bgRows=[],n._pendingSelection=[],n}return Fn(e,t),pn(e,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||k2(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,s=r.className,o=a.visibleDays(i,a),l=MF(o,7);return this._weekCount=l.length,B.createElement("div",{className:Wt("rbc-month-view",s),role:"table","aria-label":"Month View",ref:this.containerRef},B.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,a=i.localizer,s=i.components,o=r[0],l=r[r.length-1],u=s.header||FS;return a.range(o,l,"day").map(function(d,f){return B.createElement("div",{key:"header_"+f,className:"rbc-header"},B.createElement(u,{date:d,localizer:a,label:a.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,a=this,s=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},o=this.props,l=o.accessors,u=o.localizer,d=o.components,f=o.getters,m=o.selected,g=o.popupOffset,A=o.handleDragStart,b=function(){return a.setState({overlay:null})};return B.createElement(zS,{overlay:s,accessors:l,localizer:u,components:d,getters:f,selected:m,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:A,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:b})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(o,l){return+o-+l});var a=new Date(i[0]),s=new Date(i[i.length-1]);s.setDate(i[i.length-1].getDate()+1),Tt(this.props.onSelectSlot,{slots:i,start:a,end:s,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var a=r.date,s=r.localizer;return{date:a,needLimitMeasure:s.neq(a,i.date,"month")}}}])}(B.Component);Ov.range=function(t,e){var n=e.localizer,r=n.firstVisibleDay(t,n),i=n.lastVisibleDay(t,n);return{start:r,end:i}};Ov.navigate=function(t,e,n){var r=n.localizer;switch(e){case or.PREVIOUS:return r.add(t,-1,"month");case or.NEXT:return r.add(t,1,"month");default:return t}};Ov.title=function(t,e){var n=e.localizer;return n.format(t,"monthHeaderFormat")};var JD=function(e){var n=e.min,r=e.max,i=e.step,a=e.slots,s=e.localizer;return"".concat(+s.startOf(n,"minutes"))+"".concat(+s.startOf(r,"minutes"))+"".concat(i,"-").concat(a)};function BS(t){for(var e=t.min,n=t.max,r=t.step,i=t.timeslots,a=t.localizer,s=JD({start:e,end:n,step:r,timeslots:i,localizer:a}),o=1+a.getTotalMin(e,n),l=a.getMinutesFromMidnight(e),u=Math.ceil((o-1)/(r*i)),d=u*i,f=new Array(u),m=new Array(d),g=0;g<u;g++){f[g]=new Array(i);for(var A=0;A<i;A++){var b=g*i+A,S=b*r;m[b]=f[g][A]=a.getSlotDate(e,l,S)}}var _=m.length*r;m.push(a.getSlotDate(e,l,_));function T(D){var O=a.diff(e,D,"minutes")+a.getDstOffset(e,D);return Math.min(O,o)}return{groups:f,update:function(O){return JD(O)!==s?BS(O):this},dateIsInGroup:function(O,L){var z=f[L+1];return a.inRange(O,f[L][0],z?z[0]:n,"minutes")},nextSlot:function(O){var L=m[Math.min(m.findIndex(function(z){return z===O||a.eq(z,O)})+1,m.length-1)];return a.eq(L,O)&&(L=a.add(O,r,"minutes")),L},closestSlotToPosition:function(O){var L=Math.min(m.length-1,Math.max(0,Math.floor(O*d)));return m[L]},closestSlotFromPoint:function(O,L){var z=Math.abs(L.top-L.bottom);return this.closestSlotToPosition((O.y-L.top)/z)},closestSlotFromDate:function(O){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(O,e,"minutes"))return m[0];if(a.gt(O,n,"minutes"))return m[m.length-1];var z=a.diff(e,O,"minutes");return m[(z-z%r)/r+L]},startsBeforeDay:function(O){return a.lt(O,e,"day")},startsAfterDay:function(O){return a.gt(O,n,"day")},startsBefore:function(O){return a.lt(a.merge(e,O),e,"minutes")},startsAfter:function(O){return a.gt(a.merge(n,O),n,"minutes")},getRange:function(O,L,z,I){z||(O=a.min(n,a.max(e,O))),I||(L=a.min(n,a.max(e,L)));var R=T(O),C=T(L),P=C>r*d&&!a.eq(n,L)?(R-r)/(r*d)*100:R/(r*d)*100;return{top:P,height:C/(r*d)*100-P,start:T(O),startDate:O,end:T(L),endDate:L}},getCurrentTimePosition:function(O){var L=T(O),z=L/(r*d)*100;return z}}}var ene=function(){function t(e,n){var r=n.accessors,i=n.slotMetrics;mn(this,t);var a=i.getRange(r.start(e),r.end(e)),s=a.start,o=a.startDate,l=a.end,u=a.endDate,d=a.top,f=a.height;this.start=s,this.end=l,this.startMs=+o,this.endMs=+u,this.top=d,this.height=f,this.data=e}return pn(t,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(i,a){return Math.max(i,a.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var i=this.row.leaves,a=i.indexOf(this);return a===i.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,i=n.xOffset,a=n._width,s=r.indexOf(this)+1;return i+s*a}}])}();function tne(t,e,n){return Math.abs(e.start-t.start)<n||e.start>t.start&&e.start<t.end}function nne(t){for(var e=DQ(t,["startMs",function(o){return-o.endMs}]),n=[];e.length>0;){var r=e.shift();n.push(r);for(var i=0;i<e.length;i++){var a=e[i];if(!(r.endMs>a.startMs)){if(i>0){var s=e.splice(i,1)[0];n.push(s)}break}}}return n}function kP(t){for(var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,i=t.accessors,a=e.map(function(d){return new ene(d,{slotMetrics:r,accessors:i})}),s=nne(a),o=[],l=function(){var f=s[u],m=o.find(function(b){return b.end>f.start||Math.abs(f.start-b.start)<n});if(!m)return f.rows=[],o.push(f),1;f.container=m;for(var g=null,A=m.rows.length-1;!g&&A>=0;A--)tne(m.rows[A],f,n)&&(g=m.rows[A]);g?(g.leaves.push(f),f.row=g):(f.leaves=[],m.rows.push(f))},u=0;u<s.length;u++)l();return s.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function VP(t,e,n){for(var r=0;r<t.friends.length;++r)if(!(n.indexOf(t.friends[r])>-1)){e=e>t.friends[r].idx?e:t.friends[r].idx,n.push(t.friends[r]);var i=VP(t.friends[r],e,n);e=e>i?e:i}return e}function rne(t){var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,i=t.accessors,a=kP({events:e,minimumStartDifference:n,slotMetrics:r,accessors:i});a.sort(function(be,X){return be=be.style,X=X.style,be.top!==X.top?be.top>X.top?1:-1:be.height!==X.height?be.top+be.height<X.top+X.height?1:-1:0});for(var s=0;s<a.length;++s)a[s].friends=[],delete a[s].style.left,delete a[s].style.left,delete a[s].idx,delete a[s].size;for(var o=0;o<a.length-1;++o)for(var l=a[o],u=l.style.top,d=l.style.top+l.style.height,f=o+1;f<a.length;++f){var m=a[f],g=m.style.top,A=m.style.top+m.style.height;(g>=u&&A<=d||A>u&&A<=d||g>=u&&g<d)&&(l.friends.push(m),m.friends.push(l))}for(var b=0;b<a.length;++b){for(var S=a[b],_=[],T=0;T<100;++T)_.push(1);for(var D=0;D<S.friends.length;++D)S.friends[D].idx!==void 0&&(_[S.friends[D].idx]=0);S.idx=_.indexOf(1)}for(var O=0;O<a.length;++O){var L=0;if(!a[O].size){var z=[],I=VP(a[O],0,z);L=100/(I+1),a[O].size=L;for(var R=0;R<z.length;++R)z[R].size=L}}for(var C=0;C<a.length;++C){var P=a[C];P.style.left=P.idx*P.size;for(var V=0,$=0;$<P.friends.length;++$){var N=P.friends[$].idx;V=V>N?V:N}V<=P.idx&&(P.size=100-P.idx*P.size);var me=P.idx===0?0:3;P.style.width="calc(".concat(P.size,"% - ").concat(me,"px)"),P.style.height="calc(".concat(P.style.height,"% - 2px)"),P.style.xOffset="calc(".concat(P.style.left,"% + ").concat(me,"px)")}return a}var eR={overlap:kP,"no-overlap":rne};function ine(t){return!!(t&&t.constructor&&t.call&&t.apply)}function ane(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,n=e;return e in eR&&(n=eR[e]),ine(n)?n.apply(this,arguments):[]}var LP=function(t){function e(){return mn(this,e),zn(this,e,arguments)}return Fn(e,t),pn(e,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,a=r.resource,s=r.group,o=r.getters,l=r.components,u=l===void 0?{}:l,d=u.timeSlotWrapper,f=d===void 0?xi:d,m=o?o.slotGroupProp(s):{};return B.createElement("div",Object.assign({className:"rbc-timeslot-group"},m),s.map(function(g,A){var b=o?o.slotProp(g,a):{};return B.createElement(f,{key:A,value:g,resource:a},B.createElement("div",Object.assign({},b,{className:Wt("rbc-time-slot",b.className)}),i&&i(g,A)))}))}}])}(F.Component);function Bp(t){return typeof t=="string"?t:t+"%"}function sne(t){var e=t.style,n=t.className,r=t.event,i=t.accessors,a=t.rtl,s=t.selected,o=t.label,l=t.continuesPrior,u=t.continuesAfter,d=t.getters,f=t.onClick,m=t.onDoubleClick,g=t.isBackgroundEvent,A=t.onKeyPress,b=t.components,S=b.event,_=b.eventWrapper,T=i.title(r),D=i.tooltip(r),O=i.end(r),L=i.start(r),z=d.eventProp(r,L,O,s),I=[B.createElement("div",{key:"1",className:"rbc-event-label"},o),B.createElement("div",{key:"2",className:"rbc-event-content"},S?B.createElement(S,{event:r,title:T}):T)],R=e.height,C=e.top,P=e.width,V=e.xOffset,$=mt(mt({},z.style),{},il({top:Bp(C),height:Bp(R),width:Bp(P)},a?"right":"left",Bp(V)));return B.createElement(_,Object.assign({type:"time"},t),B.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:m,style:$,onKeyDown:A,title:D?(typeof o=="string"?o+": ":"")+D:void 0,className:Wt(g?"rbc-background-event":"rbc-event",n,z.className,{"rbc-selected":s,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},I))}var one=function(e){var n=e.children,r=e.className,i=e.style,a=e.innerRef;return B.createElement("div",{className:r,style:i,ref:a},n)},lne=B.forwardRef(function(t,e){return B.createElement(one,Object.assign({},t,{innerRef:e}))}),une=["dayProp"],cne=["eventContainerWrapper","timeIndicatorWrapper"],jP=function(t){function e(){var n;mn(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=zn(this,e,[].concat(i)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(s){var o=s.events,l=s.isBackgroundEvent,u=n.props,d=u.rtl,f=u.selected,m=u.accessors,g=u.localizer,A=u.getters,b=u.components,S=u.step,_=u.timeslots,T=u.dayLayoutAlgorithm,D=u.resizable,O=n,L=O.slotMetrics,z=g.messages,I=ane({events:o,accessors:m,slotMetrics:L,minimumStartDifference:Math.ceil(S*_/2),dayLayoutAlgorithm:T});return I.map(function(R,C){var P,V=R.event,$=R.style,N=m.end(V),me=m.start(V),be=(P=m.eventId(V))!==null&&P!==void 0?P:"evt_"+C,X="eventTimeRangeFormat",j,J=L.startsBeforeDay(me),se=L.startsAfterDay(N);J?X="eventTimeRangeEndFormat":se&&(X="eventTimeRangeStartFormat"),J&&se?j=z.allDay:j=g.format({start:me,end:N},X);var ue=J||L.startsBefore(me),Q=se||L.startsAfter(N);return B.createElement(sne,{style:$,event:V,label:j,key:be,getters:A,rtl:d,components:b,continuesPrior:ue,continuesAfter:Q,accessors:m,resource:n.props.resource,selected:Mv(V,f),onClick:function(re){return n._select(mt(mt(mt({},V),n.props.resource&&{sourceResource:n.props.resource}),l&&{isBackgroundEvent:!0}),re)},onDoubleClick:function(re){return n._doubleClick(V,re)},isBackgroundEvent:l,onKeyPress:function(re){return n._keyPress(V,re)},resizable:D})})},n._selectable=function(){var s=n.containerRef.current,o=n.props,l=o.longPressThreshold,u=o.localizer,d=n._selector=new MP(function(){return s},{longPressThreshold:l}),f=function(b){var S=n.props.onSelecting,_=n.state||{},T=m(b),D=T.startDate,O=T.endDate;S&&(u.eq(_.startDate,D,"minutes")&&u.eq(_.endDate,O,"minutes")||S({start:D,end:O,resourceId:n.props.resource})===!1)||(n.state.start!==T.start||n.state.end!==T.end||n.state.selecting!==T.selecting)&&n.setState(T)},m=function(b){var S=n.slotMetrics.closestSlotFromPoint(b,Nl(s));n.state.selecting||(n._initialSlot=S);var _=n._initialSlot;u.lte(_,S)?S=n.slotMetrics.nextSlot(S):u.gt(_,S)&&(_=n.slotMetrics.nextSlot(_));var T=n.slotMetrics.getRange(u.min(_,S),u.max(_,S));return mt(mt({},T),{},{selecting:!0,top:"".concat(T.top,"%"),height:"".concat(T.height,"%")})},g=function(b,S){if(!wy(n.containerRef.current,b)){var _=m(b),T=_.startDate,D=_.endDate;n._selectSlot({startDate:T,endDate:D,action:S,box:b})}n.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(A){if(n.props.selectable==="ignoreEvents")return!wy(n.containerRef.current,A)}),d.on("click",function(A){return g(A,"click")}),d.on("doubleClick",function(A){return g(A,"doubleClick")}),d.on("select",function(A){n.state.selecting&&(n._selectSlot(mt(mt({},n.state),{},{action:"select",bounds:A})),n.setState({selecting:!1}))}),d.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(s){for(var o=s.startDate,l=s.endDate,u=s.action,d=s.bounds,f=s.box,m=o,g=[];n.props.localizer.lte(m,l);)g.push(m),m=new Date(+m+n.props.step*60*1e3);Tt(n.props.onSelectSlot,{slots:g,start:o,end:l,resourceId:n.props.resource,action:u,bounds:d,box:f})},n._select=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Tt(n.props.onSelectEvent,o)},n._doubleClick=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Tt(n.props.onDoubleClickEvent,o)},n._keyPress=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Tt(n.props.onKeyPressEvent,o)},n.slotMetrics=BS(n.props),n.containerRef=F.createRef(),n}return Fn(e,t),pn(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var a=this.props,s=a.getNow,o=a.isNow,l=a.localizer,u=a.date,d=a.min,f=a.max,m=l.neq(r.getNow(),s(),"minutes");if(r.isNow!==o||m){if(this.clearTimeIndicatorInterval(),o){var g=!m&&l.eq(r.date,u,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(g)}}else o&&(l.neq(r.min,d,"minutes")||l.neq(r.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,a=r.max,s=r.getNow,o=s();if(o>=i&&o<=a){var l=this.slotMetrics.getCurrentTimePosition(o);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,a=r.max,s=r.rtl,o=r.isNow,l=r.resource,u=r.accessors,d=r.localizer,f=r.getters,m=f.dayProp,g=Bi(f,une),A=r.components,b=A.eventContainerWrapper,S=A.timeIndicatorWrapper,_=Bi(A,cne);this.slotMetrics=this.slotMetrics.update(this.props);var T=this.slotMetrics,D=this.state,O=D.selecting,L=D.top,z=D.height,I=D.startDate,R=D.endDate,C={start:I,end:R},P=m(a,l),V=P.className,$=P.style,N={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},me=_.dayColumnWrapper||lne;return B.createElement(me,{ref:this.containerRef,date:i,style:$,className:Wt(V,"rbc-day-slot","rbc-time-column",o&&"rbc-now",o&&"rbc-today",O&&"rbc-slot-selecting"),slotMetrics:T,resource:l},T.groups.map(function(be,X){return B.createElement(LP,{key:X,group:be,resource:l,getters:g,components:_})}),B.createElement(b,{localizer:d,resource:l,accessors:u,getters:g,components:_,slotMetrics:T},B.createElement("div",{className:Wt("rbc-events-container",s&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),O&&B.createElement("div",{className:"rbc-slot-selection",style:{top:L,height:z}},B.createElement("span",null,d.format(C,"selectRangeFormat"))),o&&this.intervalTriggered&&B.createElement(S,N,B.createElement("div",N)))}}])}(B.Component);jP.defaultProps={dragThroughEvents:!0,timeslots:2};var $P=function(e){var n=e.label;return B.createElement(B.Fragment,null,n)},hne=function(t){function e(){var n;mn(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=zn(this,e,[].concat(i)),n.handleHeaderClick=function(s,o,l){l.preventDefault(),Tt(n.props.onDrillDown,[s,o])},n.renderRow=function(s){var o=n.props,l=o.events,u=o.rtl,d=o.selectable,f=o.getNow,m=o.range,g=o.getters,A=o.localizer,b=o.accessors,S=o.components,_=o.resizable,T=b.resourceId(s),D=s?l.filter(function(O){return b.resource(O)===T}):l;return B.createElement(bf,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:n.props.allDayMaxRows+1,range:m,events:D,resourceId:T,className:"rbc-allday-cell",selectable:d,selected:n.props.selected,components:S,accessors:b,getters:g,localizer:A,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:_})},n}return Fn(e,t),pn(e,[{key:"renderHeaderCells",value:function(r){var i=this,a=this.props,s=a.localizer,o=a.getDrilldownView,l=a.getNow,u=a.getters.dayProp,d=a.components.header,f=d===void 0?FS:d,m=l();return r.map(function(g,A){var b=o(g),S=s.format(g,"dayFormat"),_=u(g),T=_.className,D=_.style,O=B.createElement(f,{date:g,label:S,localizer:s});return B.createElement("div",{key:A,style:D,className:Wt("rbc-header",T,s.isSameDate(g,m)&&"rbc-today")},b?B.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(z){return i.handleHeaderClick(g,b,z)}},O):B.createElement("span",null,O))})}},{key:"render",value:function(){var r=this,i=this.props,a=i.width,s=i.rtl,o=i.resources,l=i.range,u=i.events,d=i.getNow,f=i.accessors,m=i.selectable,g=i.components,A=i.getters,b=i.scrollRef,S=i.localizer,_=i.isOverflowing,T=i.components,D=T.timeGutterHeader,O=T.resourceHeader,L=O===void 0?$P:O,z=i.resizable,I={};_&&(I[s?"marginLeft":"marginRight"]="".concat(wS()-1,"px"));var R=o.groupEvents(u);return B.createElement("div",{style:I,ref:b,className:Wt("rbc-time-header",_&&"rbc-overflowing")},B.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},D&&B.createElement(D,null)),o.map(function(C,P){var V=$r(C,2),$=V[0],N=V[1];return B.createElement("div",{className:"rbc-time-header-content",key:$||P},N&&B.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(P)},B.createElement("div",{className:"rbc-header"},B.createElement(L,{index:P,label:f.resourceTitle(N),resource:N}))),B.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),B.createElement(bf,{isAllDay:!0,rtl:s,getNow:d,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:R.get($)||[],resourceId:N&&$,className:"rbc-allday-cell",selectable:m,selected:r.props.selected,components:g,accessors:f,getters:A,localizer:S,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:z}))}))}}])}(B.Component),dne=function(t){function e(){var n;mn(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=zn(this,e,[].concat(i)),n.handleHeaderClick=function(s,o,l){l.preventDefault(),Tt(n.props.onDrillDown,[s,o])},n}return Fn(e,t),pn(e,[{key:"renderHeaderCells",value:function(r){var i=this,a=this.props,s=a.localizer,o=a.getDrilldownView,l=a.getNow,u=a.getters.dayProp,d=a.components,f=d.header,m=f===void 0?FS:f,g=d.resourceHeader,A=g===void 0?$P:g,b=a.resources,S=a.accessors,_=a.events,T=a.rtl,D=a.selectable,O=a.components,L=a.getters,z=a.resizable,I=l(),R=b.groupEvents(_);return r.map(function(C,P){var V=o(C),$=s.format(C,"dayFormat"),N=u(C),me=N.className,be=N.style,X=B.createElement(m,{date:C,label:$,localizer:s});return B.createElement("div",{key:P,className:"rbc-time-header-content rbc-resource-grouping"},B.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},B.createElement("div",{style:be,className:Wt("rbc-header",me,s.isSameDate(C,I)&&"rbc-today")},V?B.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(J){return i.handleHeaderClick(C,V,J)}},X):B.createElement("span",null,X))),B.createElement("div",{className:"rbc-row"},b.map(function(j,J){var se=$r(j,2),ue=se[0],Q=se[1];return B.createElement("div",{key:"resource_".concat(ue,"_").concat(J),className:Wt("rbc-header",me,s.isSameDate(C,I)&&"rbc-today")},B.createElement(A,{index:J,label:S.resourceTitle(Q),resource:Q}))})),B.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},b.map(function(j,J){var se=$r(j,2),ue=se[0],Q=se[1],Z=(R.get(ue)||[]).filter(function(re){return s.isSameDate(re.start,C)||s.isSameDate(re.end,C)});return B.createElement(bf,{key:"resource_".concat(ue,"_").concat(J),isAllDay:!0,rtl:T,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[C],events:Z,resourceId:Q&&ue,className:"rbc-allday-cell",selectable:D,selected:i.props.selected,components:O,accessors:S,getters:L,localizer:s,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:z})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,a=r.rtl,s=r.range,o=r.scrollRef,l=r.isOverflowing,u=r.components.timeGutterHeader,d={};return l&&(d[a?"marginLeft":"marginRight"]="".concat(wS()-1,"px")),B.createElement("div",{style:d,ref:o,className:Wt("rbc-time-header",l&&"rbc-overflowing")},B.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},u&&B.createElement(u,null)),this.renderHeaderCells(s))}}])}(B.Component);function fne(t){var e=t.min,n=t.max,r=t.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(n)?{start:r.add(e,-1,"day"),end:r.add(n,-1,"day")}:{start:e,end:n}}var mne=function(e){var n=e.min,r=e.max,i=e.timeslots,a=e.step,s=e.localizer,o=e.getNow,l=e.resource,u=e.components,d=e.getters,f=e.gutterRef,m=u.timeGutterWrapper,g=F.useMemo(function(){return fne({min:n,max:r,localizer:s})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),s]),A=g.start,b=g.end,S=F.useState(BS({min:A,max:b,timeslots:i,step:a,localizer:s})),_=$r(S,2),T=_[0],D=_[1];F.useEffect(function(){T&&D(T.update({min:A,max:b,timeslots:i,step:a,localizer:s}))},[A==null?void 0:A.toISOString(),b==null?void 0:b.toISOString(),i,a]);var O=F.useCallback(function(L,z){if(z)return null;var I=T.dateIsInGroup(o(),z);return B.createElement("span",{className:Wt("rbc-label",I&&"rbc-now")},s.format(L,"timeGutterFormat"))},[T,s,o]);return B.createElement(m,{slotMetrics:T},B.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},T.groups.map(function(L,z){return B.createElement(LP,{key:z,group:L,resource:l,components:u,renderSlot:O,getters:d})})))},pne=B.forwardRef(function(t,e){return B.createElement(mne,Object.assign({gutterRef:e},t))}),N0={};function gne(t,e){return{map:function(r){return t?t.map(function(i,a){return r([e.resourceId(i),i],a)}):[r([N0,null],0)]},groupEvents:function(r){var i=new Map;return t?(r.forEach(function(a){var s=e.resource(a)||N0;if(Array.isArray(s))s.forEach(function(l){var u=i.get(l)||[];u.push(a),i.set(l,u)});else{var o=i.get(s)||[];o.push(a),i.set(s,o)}}),i):(i.set(N0,r),i)}}}var ph=function(t){function e(n){var r;return mn(this,e),r=zn(this,e,[n]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){UA(r.rafHandle),r.rafHandle=k2(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];Tt(r.props.onKeyPressEvent,a)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];Tt(r.props.onSelectEvent,a)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];Tt(r.props.onDoubleClickEvent,a)},r.handleShowMore=function(i,a,s,o,l){var u=r.props,d=u.popup,f=u.onDrillDown,m=u.onShowMore,g=u.getDrilldownView,A=u.doShowMoreDrillDown;if(r.clearSelection(),d){var b=N2(s,r.containerRef.current);r.setState({overlay:{date:a,events:i,position:mt(mt({},b),{},{width:"200px"}),target:l}})}else A&&Tt(f,[a,g(a)||Hn.DAY]);Tt(m,[i,a,o])},r.handleSelectAllDaySlot=function(i,a){var s=r.props.onSelectSlot,o=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),Tt(s,{slots:i,start:o,end:l,action:a.action,resourceId:a.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var a=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==a&&(r._updatingOverflow=!0,r.setState({isOverflowing:a},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=sP(function(i,a){return gne(i,a)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=B.createRef(),r.contentRef=B.createRef(),r.containerRef=B.createRef(),r._scrollRatio=null,r.gutterRef=F.createRef(),r}return Fn(e,t),pn(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),UA(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,a,s,o,l,u,d,f,m){var g=this.props,A=g.min,b=g.max,S=(s.get(i)||[]).filter(function(T){return l.inRange(r,u.start(T),u.end(T),"day")}),_=(o.get(i)||[]).filter(function(T){return l.inRange(r,u.start(T),u.end(T),"day")});return B.createElement(jP,Object.assign({},this.props,{localizer:l,min:l.merge(r,A),max:l.merge(r,b),resource:a&&i,components:d,isNow:l.isSameDate(r,m),key:"".concat(i,"-").concat(r),date:r,events:S,backgroundEvents:_,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(r,i,a,s,o,l,u,d,f){var m=this;return i.map(function(g){var A=$r(g,2),b=A[0],S=A[1];return r.map(function(_){return m.renderDayColumn(_,b,S,a,s,o,l,d,f,u)})})}},{key:"renderRangeFirst",value:function(r,i,a,s,o,l,u,d,f){var m=this;return r.map(function(g){return B.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:g},i.map(function(A){var b=$r(A,2),S=b[0],_=b[1];return B.createElement("div",{style:{flex:1},key:l.resourceId(_)},m.renderDayColumn(g,S,_,a,s,o,l,d,f,u))}))})}},{key:"renderEvents",value:function(r,i,a,s){var o=this.props,l=o.accessors,u=o.localizer,d=o.resourceGroupingLayout,f=o.components,m=o.dayLayoutAlgorithm,g=this.memoizedResources(this.props.resources,l),A=g.groupEvents(i),b=g.groupEvents(a);return d?this.renderRangeFirst(r,g,A,b,u,l,s,f,m):this.renderResourcesFirst(r,g,A,b,u,l,s,f,m)}},{key:"render",value:function(){var r,i=this.props,a=i.events,s=i.backgroundEvents,o=i.range,l=i.width,u=i.rtl,d=i.selected,f=i.getNow,m=i.resources,g=i.components,A=i.accessors,b=i.getters,S=i.localizer,_=i.min,T=i.max,D=i.showMultiDayTimes,O=i.longPressThreshold,L=i.resizable,z=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var I=o[0],R=o[o.length-1];this.slots=o.length;var C=[],P=[],V=[];a.forEach(function(N){if(_f(N,I,R,A,S)){var me=A.start(N),be=A.end(N);A.allDay(N)||S.startAndEndAreDateOnly(me,be)||!D&&!S.isSameDate(me,be)?C.push(N):P.push(N)}}),s.forEach(function(N){_f(N,I,R,A,S)&&V.push(N)}),C.sort(function(N,me){return m1(N,me,A,S)});var $={range:o,events:C,width:l,rtl:u,getNow:f,localizer:S,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(m,A),selectable:this.props.selectable,accessors:A,getters:b,components:g,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:O,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:L};return B.createElement("div",{className:Wt("rbc-time-view",m&&"rbc-time-view-resources"),ref:this.containerRef},m&&m.length>1&&z?B.createElement(dne,$):B.createElement(hne,$),this.props.popup&&this.renderOverlay(),B.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},B.createElement(pne,{date:I,ref:this.gutterRef,localizer:S,min:S.merge(I,_),max:S.merge(I,T),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:g,className:"rbc-time-gutter",getters:b}),this.renderEvents(o,P,V,f())))}},{key:"renderOverlay",value:function(){var r,i,a=this,s=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},o=this.props,l=o.accessors,u=o.localizer,d=o.components,f=o.getters,m=o.selected,g=o.popupOffset,A=o.handleDragStart,b=function(){return a.setState({overlay:null})};return B.createElement(zS,{overlay:s,accessors:l,localizer:u,components:d,getters:f,selected:m,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:A,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:b})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,a=(i=r.gutterRef)!==null&&i!==void 0&&i.current?h1(r.gutterRef.current):void 0;a&&r.state.gutterWidth!==a&&r.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,a=r.max,s=r.scrollToTime,o=r.localizer,l=o.diff(o.merge(s,i),s,"milliseconds"),u=o.diff(i,a,"milliseconds");this._scrollRatio=l/u}}])}(F.Component);ph.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var yne=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Cv=function(t){function e(){return mn(this,e),zn(this,e,arguments)}return Fn(e,t),pn(e,[{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,s=r.min,o=s===void 0?a.startOf(new Date,"day"):s,l=r.max,u=l===void 0?a.endOf(new Date,"day"):l,d=r.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,m=r.enableAutoScroll,g=m===void 0?!0:m,A=Bi(r,yne),b=e.range(i,{localizer:a});return B.createElement(ph,Object.assign({},A,{range:b,eventOffset:10,localizer:a,min:o,max:u,scrollToTime:f,enableAutoScroll:g}))}}])}(B.Component);Cv.range=function(t,e){var n=e.localizer;return[n.startOf(t,"day")]};Cv.navigate=function(t,e,n){var r=n.localizer;switch(e){case or.PREVIOUS:return r.add(t,-1,"day");case or.NEXT:return r.add(t,1,"day");default:return t}};Cv.title=function(t,e){var n=e.localizer;return n.format(t,"dayHeaderFormat")};var vne=["date","localizer","min","max","scrollToTime","enableAutoScroll"],lo=function(t){function e(){return mn(this,e),zn(this,e,arguments)}return Fn(e,t),pn(e,[{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,s=r.min,o=s===void 0?a.startOf(new Date,"day"):s,l=r.max,u=l===void 0?a.endOf(new Date,"day"):l,d=r.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,m=r.enableAutoScroll,g=m===void 0?!0:m,A=Bi(r,vne),b=e.range(i,this.props);return B.createElement(ph,Object.assign({},A,{range:b,eventOffset:15,localizer:a,min:o,max:u,scrollToTime:f,enableAutoScroll:g}))}}])}(B.Component);lo.defaultProps=ph.defaultProps;lo.navigate=function(t,e,n){var r=n.localizer;switch(e){case or.PREVIOUS:return r.add(t,-1,"week");case or.NEXT:return r.add(t,1,"week");default:return t}};lo.range=function(t,e){var n=e.localizer,r=n.startOfWeek(),i=n.startOf(t,"week",r),a=n.endOf(t,"week",r);return n.range(i,a)};lo.title=function(t,e){var n=e.localizer,r=lo.range(t,{localizer:n}),i=fP(r),a=i[0],s=i.slice(1);return n.format({start:a,end:s.pop()},"dayRangeHeaderFormat")};var _ne=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function YS(t,e){return lo.range(t,e).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var _m=function(t){function e(){return mn(this,e),zn(this,e,arguments)}return Fn(e,t),pn(e,[{key:"render",value:function(){var r=this.props,i=r.date,a=r.localizer,s=r.min,o=s===void 0?a.startOf(new Date,"day"):s,l=r.max,u=l===void 0?a.endOf(new Date,"day"):l,d=r.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,m=r.enableAutoScroll,g=m===void 0?!0:m,A=Bi(r,_ne),b=YS(i,this.props);return B.createElement(ph,Object.assign({},A,{range:b,eventOffset:15,localizer:a,min:o,max:u,scrollToTime:f,enableAutoScroll:g}))}}])}(B.Component);_m.defaultProps=ph.defaultProps;_m.range=YS;_m.navigate=lo.navigate;_m.title=function(t,e){var n=e.localizer,r=YS(t,{localizer:n}),i=fP(r),a=i[0],s=i.slice(1);return n.format({start:a,end:s.pop()},"dayRangeHeaderFormat")};var Pv=30;function Nv(t){var e=t.accessors,n=t.components,r=t.date,i=t.events,a=t.getters,s=t.length,o=s===void 0?Pv:s,l=t.localizer,u=t.onDoubleClickEvent,d=t.onSelectEvent,f=t.selected,m=F.useRef(null),g=F.useRef(null),A=F.useRef(null),b=F.useRef(null),S=F.useRef(null);F.useEffect(function(){D()});var _=function(R,C,P){var V=n.event,$=n.date;return C=C.filter(function(N){return _f(N,l.startOf(R,"day"),l.endOf(R,"day"),e,l)}),C.map(function(N,me){var be=e.title(N),X=e.end(N),j=e.start(N),J=a.eventProp(N,j,X,Mv(N,f)),se=me===0&&l.format(R,"agendaDateFormat"),ue=me===0?B.createElement("td",{rowSpan:C.length,className:"rbc-agenda-date-cell"},$?B.createElement($,{day:R,label:se}):se):!1;return B.createElement("tr",{key:P+"_"+me,className:J.className,style:J.style},ue,B.createElement("td",{className:"rbc-agenda-time-cell"},T(R,N)),B.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Z){return d&&d(N,Z)},onDoubleClick:function(Z){return u&&u(N,Z)}},V?B.createElement(V,{event:N,title:be}):be))},[])},T=function(R,C){var P="",V=n.time,$=l.messages.allDay,N=e.end(C),me=e.start(C);return e.allDay(C)||(l.eq(me,N)?$=l.format(me,"agendaTimeFormat"):l.isSameDate(me,N)?$=l.format({start:me,end:N},"agendaTimeRangeFormat"):l.isSameDate(R,me)?$=l.format(me,"agendaTimeFormat"):l.isSameDate(R,N)&&($=l.format(N,"agendaTimeFormat"))),l.gt(R,me,"day")&&(P="rbc-continues-prior"),l.lt(R,N,"day")&&(P+=" rbc-continues-after"),B.createElement("span",{className:P.trim()},V?B.createElement(V,{event:C,day:R,label:$}):$)},D=function(){if(S.current){var R=m.current,C=S.current.firstChild;if(C){var P=b.current.scrollHeight>b.current.clientHeight,V=[],$=V;V=[h1(C.children[0]),h1(C.children[1])],($[0]!==V[0]||$[1]!==V[1])&&(g.current.style.width=V[0]+"px",A.current.style.width=V[1]+"px"),P?(yB(R,"rbc-header-overflowing"),R.style.marginRight=wS()+"px"):vB(R,"rbc-header-overflowing")}}},O=l.messages,L=l.add(r,o,"day"),z=l.range(r,L,"day");return i=i.filter(function(I){return _f(I,l.startOf(r,"day"),l.endOf(L,"day"),e,l)}),i.sort(function(I,R){return+e.start(I)-+e.start(R)}),B.createElement("div",{className:"rbc-agenda-view"},i.length!==0?B.createElement(B.Fragment,null,B.createElement("table",{ref:m,className:"rbc-agenda-table"},B.createElement("thead",null,B.createElement("tr",null,B.createElement("th",{className:"rbc-header",ref:g},O.date),B.createElement("th",{className:"rbc-header",ref:A},O.time),B.createElement("th",{className:"rbc-header"},O.event)))),B.createElement("div",{className:"rbc-agenda-content",ref:b},B.createElement("table",{className:"rbc-agenda-table"},B.createElement("tbody",{ref:S},z.map(function(I,R){return _(I,i,R)}))))):B.createElement("span",{className:"rbc-agenda-empty"},O.noEventsInRange))}Nv.range=function(t,e){var n=e.length,r=n===void 0?Pv:n,i=e.localizer,a=i.add(t,r,"day");return{start:t,end:a}};Nv.navigate=function(t,e,n){var r=n.length,i=r===void 0?Pv:r,a=n.localizer;switch(e){case or.PREVIOUS:return a.add(t,-i,"day");case or.NEXT:return a.add(t,i,"day");default:return t}};Nv.title=function(t,e){var n=e.length,r=n===void 0?Pv:n,i=e.localizer,a=i.add(t,r,"day");return i.format({start:t,end:a},"agendaHeaderFormat")};var _g=il(il(il(il(il({},Hn.MONTH,Ov),Hn.WEEK,lo),Hn.WORK_WEEK,_m),Hn.DAY,Cv),Hn.AGENDA,Nv),bne=["action","date","today"];function wne(t,e){var n=e.action,r=e.date,i=e.today,a=Bi(e,bne);switch(t=typeof t=="string"?_g[t]:t,n){case or.TODAY:r=i||new Date;break;case or.DATE:break;default:of(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=t.navigate(r,n,a)}return r}function Sne(t,e){var n=null;return typeof e=="function"?n=e(t):typeof e=="string"&&$a(t)==="object"&&t!=null&&e in t&&(n=t[e]),n}var ya=function(e){return function(n){return Sne(n,e)}},Tne=["view","date","getNow","onNavigate"],Ene=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function UP(t){if(Array.isArray(t))return t;for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=$r(r[n],2),a=i[0],s=i[1];s&&e.push(a)}return e}function xne(t,e){var n=e.views,r=UP(n);return r.indexOf(t)!==-1}var zP=function(t){function e(){var n;mn(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=zn(this,e,[].concat(i)),n.getViews=function(){var s=n.props.views;return Array.isArray(s)?tte(s,function(o,l){return o[l]=_g[l]},{}):$a(s)==="object"?tX(s,function(o,l){return o===!0?_g[l]:o}):_g},n.getView=function(){var s=n.getViews();return s[n.props.view]},n.getDrilldownView=function(s){var o=n.props,l=o.view,u=o.drilldownView,d=o.getDrilldownView;return d?d(s,l,Object.keys(n.getViews())):u},n.handleRangeChange=function(s,o,l){var u=n.props,d=u.onRangeChange,f=u.localizer;d&&o.range&&d(o.range(s,{localizer:f}),l)},n.handleNavigate=function(s,o){var l=n.props,u=l.view,d=l.date,f=l.getNow,m=l.onNavigate,g=Bi(l,Tne),A=n.getView(),b=f();d=wne(A,mt(mt({},g),{},{action:s,date:o||d||b,today:b})),m(d,u,s),n.handleRangeChange(d,A)},n.handleViewChange=function(s){s!==n.props.view&&xne(s,n.props)&&n.props.onView(s);var o=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),o[s],s)},n.handleSelectEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Tt(n.props.onSelectEvent,o)},n.handleDoubleClickEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Tt(n.props.onDoubleClickEvent,o)},n.handleKeyPressEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Tt(n.props.onKeyPressEvent,o)},n.handleSelectSlot=function(s){Tt(n.props.onSelectSlot,s)},n.handleDrillDown=function(s,o){var l=n.props.onDrillDown;if(l){l(s,o,n.drilldownView);return}o&&n.handleViewChange(o),n.handleNavigate(or.DATE,s)},n.state={context:e.getContext(n.props)},n}return Fn(e,t),pn(e,[{key:"render",value:function(){var r=this.props,i=r.view,a=r.toolbar,s=r.events,o=r.backgroundEvents,l=r.resourceGroupingLayout,u=r.style,d=r.className,f=r.elementProps,m=r.date,g=r.getNow,A=r.length,b=r.showMultiDayTimes,S=r.onShowMore,_=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var T=Bi(r,Ene);m=m||g();var D=this.getView(),O=this.state.context,L=O.accessors,z=O.components,I=O.getters,R=O.localizer,C=O.viewNames,P=z.toolbar||Rte,V=D.title(m,{localizer:R,length:A});return B.createElement("div",Object.assign({},f,{className:Wt(d,"rbc-calendar",T.rtl&&"rbc-rtl"),style:u}),a&&B.createElement(P,{date:m,view:i,views:C,label:V,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:R}),B.createElement(D,Object.assign({},T,{events:s,backgroundEvents:o,date:m,getNow:g,length:A,localizer:R,getters:I,components:z,accessors:L,showMultiDayTimes:b,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:S,doShowMoreDrillDown:_,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,a=r.endAccessor,s=r.allDayAccessor,o=r.tooltipAccessor,l=r.titleAccessor,u=r.resourceAccessor,d=r.resourceIdAccessor,f=r.resourceTitleAccessor,m=r.eventIdAccessor,g=r.eventPropGetter,A=r.backgroundEventPropGetter,b=r.slotPropGetter,S=r.slotGroupPropGetter,_=r.dayPropGetter,T=r.view,D=r.views,O=r.localizer,L=r.culture,z=r.messages,I=z===void 0?{}:z,R=r.components,C=R===void 0?{}:R,P=r.formats,V=P===void 0?{}:P,$=UP(D),N=Mte(I);return{viewNames:$,localizer:Dte(O,L,V,N),getters:{eventProp:function(){return g&&g.apply(void 0,arguments)||{}},backgroundEventProp:function(){return A&&A.apply(void 0,arguments)||{}},slotProp:function(){return b&&b.apply(void 0,arguments)||{}},slotGroupProp:function(){return S&&S.apply(void 0,arguments)||{}},dayProp:function(){return _&&_.apply(void 0,arguments)||{}}},components:WQ(C[T]||{},Fee(C,$),{eventWrapper:xi,backgroundEventWrapper:xi,eventContainerWrapper:xi,dateCellWrapper:xi,weekWrapper:xi,timeSlotWrapper:xi,timeGutterWrapper:xi,timeIndicatorWrapper:xi}),accessors:{start:ya(i),end:ya(a),allDay:ya(s),tooltip:ya(o),title:ya(l),resource:ya(u),resourceId:ya(d),resourceTitle:ya(f),eventId:ya(m)}}}}])}(B.Component);zP.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Hn.MONTH,views:[Hn.MONTH,Hn.WEEK,Hn.DAY,Hn.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Hn.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var HS=m2(zP,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Ane=function(e,n,r){var i=e.start,a=e.end;return r.format(i,"MMMM DD",n)+"  "+r.format(a,r.eq(i,a,"month")?"DD":"MMMM DD",n)},Dne=function(e,n,r){var i=e.start,a=e.end;return r.format(i,"L",n)+"  "+r.format(a,"L",n)},k0=function(e,n,r){var i=e.start,a=e.end;return r.format(i,"LT",n)+"  "+r.format(a,"LT",n)},Rne=function(e,n,r){var i=e.start;return r.format(i,"LT",n)+"  "},Ine=function(e,n,r){var i=e.end;return"  "+r.format(i,"LT",n)},Mne={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:k0,eventTimeRangeFormat:k0,eventTimeRangeStartFormat:Rne,eventTimeRangeEndFormat:Ine,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:Ane,agendaHeaderFormat:Dne,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:k0};function ws(t){var e=t&&t.toLowerCase();return e==="FullYear"?e="year":e||(e=void 0),e}function qS(t){var e=function(Z,re){return re?Z.locale(re):Z};function n(Q){return t(Q).toDate().getTimezoneOffset()}function r(Q,Z){var re,ae,W=t(Q).local(),xe=t(Z).local();if(!t.tz)return W.toDate().getTimezoneOffset()-xe.toDate().getTimezoneOffset();var Pe=(re=W==null||(ae=W._z)===null||ae===void 0?void 0:ae.name)!==null&&re!==void 0?re:t.tz.guess(),Re=t.tz.zone(Pe).utcOffset(+W),Lt=t.tz.zone(Pe).utcOffset(+xe);return Re-Lt}function i(Q){var Z=t(Q).startOf("day");return r(Z,Q)}function a(Q,Z,re){var ae=ws(re),W=ae?t(Q).startOf(ae):t(Q),xe=ae?t(Z).startOf(ae):t(Z);return[W,xe,ae]}function s(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Z=arguments.length>1?arguments[1]:void 0,re=ws(Z);return re?t(Q).startOf(re).toDate():t(Q).toDate()}function o(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Z=arguments.length>1?arguments[1]:void 0,re=ws(Z);return re?t(Q).endOf(re).toDate():t(Q).toDate()}function l(Q,Z,re){var ae=a(Q,Z,re),W=$r(ae,3),xe=W[0],Pe=W[1],Re=W[2];return xe.isSame(Pe,Re)}function u(Q,Z,re){return!l(Q,Z,re)}function d(Q,Z,re){var ae=a(Q,Z,re),W=$r(ae,3),xe=W[0],Pe=W[1],Re=W[2];return xe.isAfter(Pe,Re)}function f(Q,Z,re){var ae=a(Q,Z,re),W=$r(ae,3),xe=W[0],Pe=W[1],Re=W[2];return xe.isBefore(Pe,Re)}function m(Q,Z,re){var ae=a(Q,Z,re),W=$r(ae,3),xe=W[0],Pe=W[1],Re=W[2];return xe.isSameOrBefore(Pe,Re)}function g(Q,Z,re){var ae=a(Q,Z,re),W=$r(ae,3),xe=W[0],Pe=W[1],Re=W[2];return xe.isSameOrBefore(Pe,Re)}function A(Q,Z,re){var ae=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",W=ws(ae),xe=t(Q),Pe=t(Z),Re=t(re);return xe.isBetween(Pe,Re,W,"[]")}function b(Q,Z){var re=t(Q),ae=t(Z),W=t.min(re,ae);return W.toDate()}function S(Q,Z){var re=t(Q),ae=t(Z),W=t.max(re,ae);return W.toDate()}function _(Q,Z){if(!Q&&!Z)return null;var re=t(Z).format("HH:mm:ss"),ae=t(Q).startOf("day").format("MM/DD/YYYY");return t("".concat(ae," ").concat(re),"MM/DD/YYYY HH:mm:ss").toDate()}function T(Q,Z,re){var ae=ws(re);return t(Q).add(Z,ae).toDate()}function D(Q,Z){for(var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",ae=ws(re),W=t(Q).toDate(),xe=[];g(W,Z);)xe.push(W),W=T(W,1,ae);return xe}function O(Q,Z){var re=ws(Z),ae=s(Q,re);return l(ae,Q)?ae:T(ae,1,re)}function L(Q,Z){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",ae=ws(re),W=t(Q),xe=t(Z);return xe.diff(W,ae)}function z(Q){var Z=t(Q);return Z.minutes()}function I(Q){var Z=Q?t.localeData(Q):t.localeData();return Z?Z.firstDayOfWeek():0}function R(Q){return t(Q).startOf("month").startOf("week").toDate()}function C(Q){return t(Q).endOf("month").endOf("week").toDate()}function P(Q){for(var Z=R(Q),re=C(Q),ae=[];g(Z,re);)ae.push(Z),Z=T(Z,1,"d");return ae}function V(Q,Z,re){return t(Q).startOf("day").minute(Z+re).toDate()}function $(Q,Z){return L(Q,Z,"minutes")}function N(Q){var Z=t(Q).startOf("day"),re=t(Q);return re.diff(Z,"minutes")+i(Q)}function me(Q,Z){var re=t(Q),ae=t(Z);return re.isBefore(ae,"day")}function be(Q,Z,re){var ae=t(Z),W=t(re);return ae.isSameOrAfter(W,"minutes")}function X(Q,Z){var re=t(Q),ae=t(Z),W=t.duration(ae.diff(re));return W.days()}function j(Q){var Z=Q.evtA,re=Z.start,ae=Z.end,W=Z.allDay,xe=Q.evtB,Pe=xe.start,Re=xe.end,Lt=xe.allDay,Bn=+s(re,"day")-+s(Pe,"day"),Qr=X(re,ae),gi=X(Pe,Re);return Bn||gi-Qr||!!Lt-!!W||+re-+Pe||+ae-+Re}function J(Q){var Z=Q.event,re=Z.start,ae=Z.end,W=Q.range,xe=W.start,Pe=W.end,Re=t(re).startOf("day"),Lt=t(ae),Bn=t(xe),Qr=t(Pe),gi=Re.isSameOrBefore(Qr,"day"),Zi=!Re.isSame(Lt,"minutes"),Ji=Zi?Lt.isAfter(Bn,"minutes"):Lt.isSameOrAfter(Bn,"minutes");return gi&&Ji}function se(Q,Z){var re=t(Q),ae=t(Z);return re.isSame(ae,"day")}function ue(){var Q=new Date,Z=/-/.test(Q.toString())?"-":"",re=Q.getTimezoneOffset(),ae=Number("".concat(Z).concat(Math.abs(re))),W=t().utcOffset();return W>ae?1:0}return new Ate({formats:Mne,firstOfWeek:I,firstVisibleDay:R,lastVisibleDay:C,visibleDays:P,format:function(Z,re,ae){return e(t(Z),ae).format(re)},lt:f,lte:g,gt:d,gte:m,eq:l,neq:u,merge:_,inRange:A,startOf:s,endOf:o,range:D,add:T,diff:L,ceil:O,min:b,max:S,minutes:z,getSlotDate:V,getTimezoneOffset:n,getDstOffset:r,getTotalMin:$,getMinutesFromMidnight:N,continuesPrior:me,continuesAfter:be,sortEvents:j,inEventRange:J,isSameDate:se,daySpan:X,browserTZOffset:ue})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var FP;function ie(){return FP.apply(null,arguments)}function One(t){FP=t}function di(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function bl(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Qe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function GS(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Qe(t,e))return!1;return!0}function Xn(t){return t===void 0}function za(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function bm(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function BP(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function $s(t,e){for(var n in e)Qe(e,n)&&(t[n]=e[n]);return Qe(e,"toString")&&(t.toString=e.toString),Qe(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Qi(t,e,n,r){return dN(t,e,n,r,!0).utc()}function Cne(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Me(t){return t._pf==null&&(t._pf=Cne()),t._pf}var g1;Array.prototype.some?g1=Array.prototype.some:g1=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function WS(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=Me(t),n=g1.call(e.parsedDateParts,function(i){return i!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function kv(t){var e=Qi(NaN);return t!=null?$s(Me(e),t):Me(e).userInvalidated=!0,e}var tR=ie.momentProperties=[],V0=!1;function KS(t,e){var n,r,i,a=tR.length;if(Xn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Xn(e._i)||(t._i=e._i),Xn(e._f)||(t._f=e._f),Xn(e._l)||(t._l=e._l),Xn(e._strict)||(t._strict=e._strict),Xn(e._tzm)||(t._tzm=e._tzm),Xn(e._isUTC)||(t._isUTC=e._isUTC),Xn(e._offset)||(t._offset=e._offset),Xn(e._pf)||(t._pf=Me(e)),Xn(e._locale)||(t._locale=e._locale),a>0)for(n=0;n<a;n++)r=tR[n],i=e[r],Xn(i)||(t[r]=i);return t}function wm(t){KS(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),V0===!1&&(V0=!0,ie.updateOffset(this),V0=!1)}function fi(t){return t instanceof wm||t!=null&&t._isAMomentObject!=null}function YP(t){ie.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Wr(t,e){var n=!0;return $s(function(){if(ie.deprecationHandler!=null&&ie.deprecationHandler(null,t),n){var r=[],i,a,s,o=arguments.length;for(a=0;a<o;a++){if(i="",typeof arguments[a]=="object"){i+=`
[`+a+"] ";for(s in arguments[0])Qe(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[a];r.push(i)}YP(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var nR={};function HP(t,e){ie.deprecationHandler!=null&&ie.deprecationHandler(t,e),nR[t]||(YP(e),nR[t]=!0)}ie.suppressDeprecationWarnings=!1;ie.deprecationHandler=null;function Xi(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Pne(t){var e,n;for(n in t)Qe(t,n)&&(e=t[n],Xi(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function y1(t,e){var n=$s({},t),r;for(r in e)Qe(e,r)&&(bl(t[r])&&bl(e[r])?(n[r]={},$s(n[r],t[r]),$s(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Qe(t,r)&&!Qe(e,r)&&bl(t[r])&&(n[r]=$s({},n[r]));return n}function QS(t){t!=null&&this.set(t)}var v1;Object.keys?v1=Object.keys:v1=function(t){var e,n=[];for(e in t)Qe(t,e)&&n.push(e);return n};var Nne={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function kne(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Xi(r)?r.call(e,n):r}function Yi(t,e,n){var r=""+Math.abs(t),i=e-r.length,a=t>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var XS=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Yp=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,L0={},lc={};function Se(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(lc[t]=i),e&&(lc[e[0]]=function(){return Yi(i.apply(this,arguments),e[1],e[2])}),n&&(lc[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Vne(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Lne(t){var e=t.match(XS),n,r;for(n=0,r=e.length;n<r;n++)lc[e[n]]?e[n]=lc[e[n]]:e[n]=Vne(e[n]);return function(i){var a="",s;for(s=0;s<r;s++)a+=Xi(e[s])?e[s].call(i,t):e[s];return a}}function bg(t,e){return t.isValid()?(e=qP(e,t.localeData()),L0[e]=L0[e]||Lne(e),L0[e](t)):t.localeData().invalidDate()}function qP(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Yp.lastIndex=0;n>=0&&Yp.test(t);)t=t.replace(Yp,r),Yp.lastIndex=0,n-=1;return t}var jne={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function $ne(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(XS).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var Une="Invalid date";function zne(){return this._invalidDate}var Fne="%d",Bne=/\d{1,2}/;function Yne(t){return this._ordinal.replace("%d",t)}var Hne={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function qne(t,e,n,r){var i=this._relativeTime[n];return Xi(i)?i(t,e,n,r):i.replace(/%d/i,t)}function Gne(t,e){var n=this._relativeTime[t>0?"future":"past"];return Xi(n)?n(e):n.replace(/%s/i,e)}var rR={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Kr(t){return typeof t=="string"?rR[t]||rR[t.toLowerCase()]:void 0}function ZS(t){var e={},n,r;for(r in t)Qe(t,r)&&(n=Kr(r),n&&(e[n]=t[r]));return e}var Wne={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Kne(t){var e=[],n;for(n in t)Qe(t,n)&&e.push({unit:n,priority:Wne[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}var GP=/\d/,Ar=/\d\d/,WP=/\d{3}/,JS=/\d{4}/,Vv=/[+-]?\d{6}/,Dt=/\d\d?/,KP=/\d\d\d\d?/,QP=/\d\d\d\d\d\d?/,Lv=/\d{1,3}/,eT=/\d{1,4}/,jv=/[+-]?\d{1,6}/,gh=/\d+/,$v=/[+-]?\d+/,Qne=/Z|[+-]\d\d:?\d\d/gi,Uv=/Z|[+-]\d\d(?::?\d\d)?/gi,Xne=/[+-]?\d+(\.\d{1,3})?/,Sm=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,yh=/^[1-9]\d?/,tT=/^([1-9]\d|\d)/,Sy;Sy={};function ve(t,e,n){Sy[t]=Xi(e)?e:function(r,i){return r&&n?n:e}}function Zne(t,e){return Qe(Sy,t)?Sy[t](e._strict,e._locale):new RegExp(Jne(t))}function Jne(t){return Ca(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,a){return n||r||i||a}))}function Ca(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Vr(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function $e(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Vr(e)),n}var _1={};function ct(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),za(e)&&(r=function(a,s){s[e]=$e(a)}),i=t.length,n=0;n<i;n++)_1[t[n]]=r}function Tm(t,e){ct(t,function(n,r,i,a){i._w=i._w||{},e(n,i._w,i,a)})}function ere(t,e,n){e!=null&&Qe(_1,t)&&_1[t](e,n._a,n,t)}function zv(t){return t%4===0&&t%100!==0||t%400===0}var jn=0,Aa=1,Ii=2,hn=3,li=4,Da=5,ul=6,tre=7,nre=8;Se("Y",0,0,function(){var t=this.year();return t<=9999?Yi(t,4):"+"+t});Se(0,["YY",2],0,function(){return this.year()%100});Se(0,["YYYY",4],0,"year");Se(0,["YYYYY",5],0,"year");Se(0,["YYYYYY",6,!0],0,"year");ve("Y",$v);ve("YY",Dt,Ar);ve("YYYY",eT,JS);ve("YYYYY",jv,Vv);ve("YYYYYY",jv,Vv);ct(["YYYYY","YYYYYY"],jn);ct("YYYY",function(t,e){e[jn]=t.length===2?ie.parseTwoDigitYear(t):$e(t)});ct("YY",function(t,e){e[jn]=ie.parseTwoDigitYear(t)});ct("Y",function(t,e){e[jn]=parseInt(t,10)});function Nd(t){return zv(t)?366:365}ie.parseTwoDigitYear=function(t){return $e(t)+($e(t)>68?1900:2e3)};var XP=vh("FullYear",!0);function rre(){return zv(this.year())}function vh(t,e){return function(n){return n!=null?(ZP(this,t,n),ie.updateOffset(this,e),this):wf(this,t)}}function wf(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function ZP(t,e,n){var r,i,a,s,o;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}a=n,s=t.month(),o=t.date(),o=o===29&&s===1&&!zv(a)?28:o,i?r.setUTCFullYear(a,s,o):r.setFullYear(a,s,o)}}function ire(t){return t=Kr(t),Xi(this[t])?this[t]():this}function are(t,e){if(typeof t=="object"){t=ZS(t);var n=Kne(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=Kr(t),Xi(this[t]))return this[t](e);return this}function sre(t,e){return(t%e+e)%e}var Xt;Array.prototype.indexOf?Xt=Array.prototype.indexOf:Xt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function nT(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=sre(e,12);return t+=(e-n)/12,n===1?zv(t)?29:28:31-n%7%2}Se("M",["MM",2],"Mo",function(){return this.month()+1});Se("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Se("MMMM",0,0,function(t){return this.localeData().months(this,t)});ve("M",Dt,yh);ve("MM",Dt,Ar);ve("MMM",function(t,e){return e.monthsShortRegex(t)});ve("MMMM",function(t,e){return e.monthsRegex(t)});ct(["M","MM"],function(t,e){e[Aa]=$e(t)-1});ct(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Aa]=i:Me(n).invalidMonth=t});var ore="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),JP="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),eN=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,lre=Sm,ure=Sm;function cre(t,e){return t?di(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||eN).test(e)?"format":"standalone"][t.month()]:di(this._months)?this._months:this._months.standalone}function hre(t,e){return t?di(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[eN.test(e)?"format":"standalone"][t.month()]:di(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dre(t,e,n){var r,i,a,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=Qi([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?e==="MMM"?(i=Xt.call(this._shortMonthsParse,s),i!==-1?i:null):(i=Xt.call(this._longMonthsParse,s),i!==-1?i:null):e==="MMM"?(i=Xt.call(this._shortMonthsParse,s),i!==-1?i:(i=Xt.call(this._longMonthsParse,s),i!==-1?i:null)):(i=Xt.call(this._longMonthsParse,s),i!==-1?i:(i=Xt.call(this._shortMonthsParse,s),i!==-1?i:null))}function fre(t,e,n){var r,i,a;if(this._monthsParseExact)return dre.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Qi([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function tN(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=$e(e);else if(e=t.localeData().monthsParse(e),!za(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,nT(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function nN(t){return t!=null?(tN(this,t),ie.updateOffset(this,!0),this):wf(this,"Month")}function mre(){return nT(this.year(),this.month())}function pre(t){return this._monthsParseExact?(Qe(this,"_monthsRegex")||rN.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Qe(this,"_monthsShortRegex")||(this._monthsShortRegex=lre),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function gre(t){return this._monthsParseExact?(Qe(this,"_monthsRegex")||rN.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Qe(this,"_monthsRegex")||(this._monthsRegex=ure),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function rN(){function t(l,u){return u.length-l.length}var e=[],n=[],r=[],i,a,s,o;for(i=0;i<12;i++)a=Qi([2e3,i]),s=Ca(this.monthsShort(a,"")),o=Ca(this.months(a,"")),e.push(s),n.push(o),r.push(o),r.push(s);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function yre(t,e,n,r,i,a,s){var o;return t<100&&t>=0?(o=new Date(t+400,e,n,r,i,a,s),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,e,n,r,i,a,s),o}function Sf(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Ty(t,e,n){var r=7+e-n,i=(7+Sf(t,0,r).getUTCDay()-e)%7;return-i+r-1}function iN(t,e,n,r,i){var a=(7+n-r)%7,s=Ty(t,r,i),o=1+7*(e-1)+a+s,l,u;return o<=0?(l=t-1,u=Nd(l)+o):o>Nd(t)?(l=t+1,u=o-Nd(t)):(l=t,u=o),{year:l,dayOfYear:u}}function Tf(t,e,n){var r=Ty(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,a,s;return i<1?(s=t.year()-1,a=i+Pa(s,e,n)):i>Pa(t.year(),e,n)?(a=i-Pa(t.year(),e,n),s=t.year()+1):(s=t.year(),a=i),{week:a,year:s}}function Pa(t,e,n){var r=Ty(t,e,n),i=Ty(t+1,e,n);return(Nd(t)-r+i)/7}Se("w",["ww",2],"wo","week");Se("W",["WW",2],"Wo","isoWeek");ve("w",Dt,yh);ve("ww",Dt,Ar);ve("W",Dt,yh);ve("WW",Dt,Ar);Tm(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=$e(t)});function vre(t){return Tf(t,this._week.dow,this._week.doy).week}var _re={dow:0,doy:6};function bre(){return this._week.dow}function wre(){return this._week.doy}function Sre(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Tre(t){var e=Tf(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Se("d",0,"do","day");Se("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Se("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Se("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Se("e",0,0,"weekday");Se("E",0,0,"isoWeekday");ve("d",Dt);ve("e",Dt);ve("E",Dt);ve("dd",function(t,e){return e.weekdaysMinRegex(t)});ve("ddd",function(t,e){return e.weekdaysShortRegex(t)});ve("dddd",function(t,e){return e.weekdaysRegex(t)});Tm(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:Me(n).invalidWeekday=t});Tm(["d","e","E"],function(t,e,n,r){e[r]=$e(t)});function Ere(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function xre(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function rT(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Are="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),aN="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dre="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Rre=Sm,Ire=Sm,Mre=Sm;function Ore(t,e){var n=di(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?rT(n,this._week.dow):t?n[t.day()]:n}function Cre(t){return t===!0?rT(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Pre(t){return t===!0?rT(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Nre(t,e,n){var r,i,a,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=Qi([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?e==="dddd"?(i=Xt.call(this._weekdaysParse,s),i!==-1?i:null):e==="ddd"?(i=Xt.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=Xt.call(this._minWeekdaysParse,s),i!==-1?i:null):e==="dddd"?(i=Xt.call(this._weekdaysParse,s),i!==-1||(i=Xt.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=Xt.call(this._minWeekdaysParse,s),i!==-1?i:null)):e==="ddd"?(i=Xt.call(this._shortWeekdaysParse,s),i!==-1||(i=Xt.call(this._weekdaysParse,s),i!==-1)?i:(i=Xt.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=Xt.call(this._minWeekdaysParse,s),i!==-1||(i=Xt.call(this._weekdaysParse,s),i!==-1)?i:(i=Xt.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function kre(t,e,n){var r,i,a;if(this._weekdaysParseExact)return Nre.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Qi([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Vre(t){if(!this.isValid())return t!=null?this:NaN;var e=wf(this,"Day");return t!=null?(t=Ere(t,this.localeData()),this.add(t-e,"d")):e}function Lre(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function jre(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=xre(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function $re(t){return this._weekdaysParseExact?(Qe(this,"_weekdaysRegex")||iT.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Qe(this,"_weekdaysRegex")||(this._weekdaysRegex=Rre),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ure(t){return this._weekdaysParseExact?(Qe(this,"_weekdaysRegex")||iT.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Qe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ire),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function zre(t){return this._weekdaysParseExact?(Qe(this,"_weekdaysRegex")||iT.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Qe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Mre),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function iT(){function t(d,f){return f.length-d.length}var e=[],n=[],r=[],i=[],a,s,o,l,u;for(a=0;a<7;a++)s=Qi([2e3,1]).day(a),o=Ca(this.weekdaysMin(s,"")),l=Ca(this.weekdaysShort(s,"")),u=Ca(this.weekdays(s,"")),e.push(o),n.push(l),r.push(u),i.push(o),i.push(l),i.push(u);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function aT(){return this.hours()%12||12}function Fre(){return this.hours()||24}Se("H",["HH",2],0,"hour");Se("h",["hh",2],0,aT);Se("k",["kk",2],0,Fre);Se("hmm",0,0,function(){return""+aT.apply(this)+Yi(this.minutes(),2)});Se("hmmss",0,0,function(){return""+aT.apply(this)+Yi(this.minutes(),2)+Yi(this.seconds(),2)});Se("Hmm",0,0,function(){return""+this.hours()+Yi(this.minutes(),2)});Se("Hmmss",0,0,function(){return""+this.hours()+Yi(this.minutes(),2)+Yi(this.seconds(),2)});function sN(t,e){Se(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}sN("a",!0);sN("A",!1);function oN(t,e){return e._meridiemParse}ve("a",oN);ve("A",oN);ve("H",Dt,tT);ve("h",Dt,yh);ve("k",Dt,yh);ve("HH",Dt,Ar);ve("hh",Dt,Ar);ve("kk",Dt,Ar);ve("hmm",KP);ve("hmmss",QP);ve("Hmm",KP);ve("Hmmss",QP);ct(["H","HH"],hn);ct(["k","kk"],function(t,e,n){var r=$e(t);e[hn]=r===24?0:r});ct(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});ct(["h","hh"],function(t,e,n){e[hn]=$e(t),Me(n).bigHour=!0});ct("hmm",function(t,e,n){var r=t.length-2;e[hn]=$e(t.substr(0,r)),e[li]=$e(t.substr(r)),Me(n).bigHour=!0});ct("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[hn]=$e(t.substr(0,r)),e[li]=$e(t.substr(r,2)),e[Da]=$e(t.substr(i)),Me(n).bigHour=!0});ct("Hmm",function(t,e,n){var r=t.length-2;e[hn]=$e(t.substr(0,r)),e[li]=$e(t.substr(r))});ct("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[hn]=$e(t.substr(0,r)),e[li]=$e(t.substr(r,2)),e[Da]=$e(t.substr(i))});function Bre(t){return(t+"").toLowerCase().charAt(0)==="p"}var Yre=/[ap]\.?m?\.?/i,Hre=vh("Hours",!0);function qre(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var lN={calendar:Nne,longDateFormat:jne,invalidDate:Une,ordinal:Fne,dayOfMonthOrdinalParse:Bne,relativeTime:Hne,months:ore,monthsShort:JP,week:_re,weekdays:Are,weekdaysMin:Dre,weekdaysShort:aN,meridiemParse:Yre},Ot={},td={},Ef;function Gre(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function iR(t){return t&&t.toLowerCase().replace("_","-")}function Wre(t){for(var e=0,n,r,i,a;e<t.length;){for(a=iR(t[e]).split("-"),n=a.length,r=iR(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=Fv(a.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Gre(a,r)>=n-1)break;n--}e++}return Ef}function Kre(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Fv(t){var e=null,n;if(Ot[t]===void 0&&typeof module<"u"&&module&&module.exports&&Kre(t))try{e=Ef._abbr,n=require,n("./locale/"+t),Zs(e)}catch{Ot[t]=null}return Ot[t]}function Zs(t,e){var n;return t&&(Xn(e)?n=Wa(t):n=sT(t,e),n?Ef=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ef._abbr}function sT(t,e){if(e!==null){var n,r=lN;if(e.abbr=t,Ot[t]!=null)HP("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ot[t]._config;else if(e.parentLocale!=null)if(Ot[e.parentLocale]!=null)r=Ot[e.parentLocale]._config;else if(n=Fv(e.parentLocale),n!=null)r=n._config;else return td[e.parentLocale]||(td[e.parentLocale]=[]),td[e.parentLocale].push({name:t,config:e}),null;return Ot[t]=new QS(y1(r,e)),td[t]&&td[t].forEach(function(i){sT(i.name,i.config)}),Zs(t),Ot[t]}else return delete Ot[t],null}function Qre(t,e){if(e!=null){var n,r,i=lN;Ot[t]!=null&&Ot[t].parentLocale!=null?Ot[t].set(y1(Ot[t]._config,e)):(r=Fv(t),r!=null&&(i=r._config),e=y1(i,e),r==null&&(e.abbr=t),n=new QS(e),n.parentLocale=Ot[t],Ot[t]=n),Zs(t)}else Ot[t]!=null&&(Ot[t].parentLocale!=null?(Ot[t]=Ot[t].parentLocale,t===Zs()&&Zs(t)):Ot[t]!=null&&delete Ot[t]);return Ot[t]}function Wa(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ef;if(!di(t)){if(e=Fv(t),e)return e;t=[t]}return Wre(t)}function Xre(){return v1(Ot)}function oT(t){var e,n=t._a;return n&&Me(t).overflow===-2&&(e=n[Aa]<0||n[Aa]>11?Aa:n[Ii]<1||n[Ii]>nT(n[jn],n[Aa])?Ii:n[hn]<0||n[hn]>24||n[hn]===24&&(n[li]!==0||n[Da]!==0||n[ul]!==0)?hn:n[li]<0||n[li]>59?li:n[Da]<0||n[Da]>59?Da:n[ul]<0||n[ul]>999?ul:-1,Me(t)._overflowDayOfYear&&(e<jn||e>Ii)&&(e=Ii),Me(t)._overflowWeeks&&e===-1&&(e=tre),Me(t)._overflowWeekday&&e===-1&&(e=nre),Me(t).overflow=e),t}var Zre=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Jre=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eie=/Z|[+-]\d\d(?::?\d\d)?/,Hp=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],j0=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],tie=/^\/?Date\((-?\d+)/i,nie=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,rie={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function uN(t){var e,n,r=t._i,i=Zre.exec(r)||Jre.exec(r),a,s,o,l,u=Hp.length,d=j0.length;if(i){for(Me(t).iso=!0,e=0,n=u;e<n;e++)if(Hp[e][1].exec(i[1])){s=Hp[e][0],a=Hp[e][2]!==!1;break}if(s==null){t._isValid=!1;return}if(i[3]){for(e=0,n=d;e<n;e++)if(j0[e][1].exec(i[3])){o=(i[2]||" ")+j0[e][0];break}if(o==null){t._isValid=!1;return}}if(!a&&o!=null){t._isValid=!1;return}if(i[4])if(eie.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=s+(o||"")+(l||""),uT(t)}else t._isValid=!1}function iie(t,e,n,r,i,a){var s=[aie(t),JP.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&s.push(parseInt(a,10)),s}function aie(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function sie(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function oie(t,e,n){if(t){var r=aN.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return Me(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function lie(t,e,n){if(t)return rie[t];if(e)return 0;var r=parseInt(n,10),i=r%100,a=(r-i)/100;return a*60+i}function cN(t){var e=nie.exec(sie(t._i)),n;if(e){if(n=iie(e[4],e[3],e[2],e[5],e[6],e[7]),!oie(e[1],n,t))return;t._a=n,t._tzm=lie(e[8],e[9],e[10]),t._d=Sf.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Me(t).rfc2822=!0}else t._isValid=!1}function uie(t){var e=tie.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(uN(t),t._isValid===!1)delete t._isValid;else return;if(cN(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ie.createFromInputFallback(t)}ie.createFromInputFallback=Wr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function ku(t,e,n){return t??e??n}function cie(t){var e=new Date(ie.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function lT(t){var e,n,r=[],i,a,s;if(!t._d){for(i=cie(t),t._w&&t._a[Ii]==null&&t._a[Aa]==null&&hie(t),t._dayOfYear!=null&&(s=ku(t._a[jn],i[jn]),(t._dayOfYear>Nd(s)||t._dayOfYear===0)&&(Me(t)._overflowDayOfYear=!0),n=Sf(s,0,t._dayOfYear),t._a[Aa]=n.getUTCMonth(),t._a[Ii]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[hn]===24&&t._a[li]===0&&t._a[Da]===0&&t._a[ul]===0&&(t._nextDay=!0,t._a[hn]=0),t._d=(t._useUTC?Sf:yre).apply(null,r),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[hn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==a&&(Me(t).weekdayMismatch=!0)}}function hie(t){var e,n,r,i,a,s,o,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(a=1,s=4,n=ku(e.GG,t._a[jn],Tf(At(),1,4).year),r=ku(e.W,1),i=ku(e.E,1),(i<1||i>7)&&(l=!0)):(a=t._locale._week.dow,s=t._locale._week.doy,u=Tf(At(),a,s),n=ku(e.gg,t._a[jn],u.year),r=ku(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+a,(e.e<0||e.e>6)&&(l=!0)):i=a),r<1||r>Pa(n,a,s)?Me(t)._overflowWeeks=!0:l!=null?Me(t)._overflowWeekday=!0:(o=iN(n,r,i,a,s),t._a[jn]=o.year,t._dayOfYear=o.dayOfYear)}ie.ISO_8601=function(){};ie.RFC_2822=function(){};function uT(t){if(t._f===ie.ISO_8601){uN(t);return}if(t._f===ie.RFC_2822){cN(t);return}t._a=[],Me(t).empty=!0;var e=""+t._i,n,r,i,a,s,o=e.length,l=0,u,d;for(i=qP(t._f,t._locale).match(XS)||[],d=i.length,n=0;n<d;n++)a=i[n],r=(e.match(Zne(a,t))||[])[0],r&&(s=e.substr(0,e.indexOf(r)),s.length>0&&Me(t).unusedInput.push(s),e=e.slice(e.indexOf(r)+r.length),l+=r.length),lc[a]?(r?Me(t).empty=!1:Me(t).unusedTokens.push(a),ere(a,r,t)):t._strict&&!r&&Me(t).unusedTokens.push(a);Me(t).charsLeftOver=o-l,e.length>0&&Me(t).unusedInput.push(e),t._a[hn]<=12&&Me(t).bigHour===!0&&t._a[hn]>0&&(Me(t).bigHour=void 0),Me(t).parsedDateParts=t._a.slice(0),Me(t).meridiem=t._meridiem,t._a[hn]=die(t._locale,t._a[hn],t._meridiem),u=Me(t).era,u!==null&&(t._a[jn]=t._locale.erasConvertYear(u,t._a[jn])),lT(t),oT(t)}function die(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function fie(t){var e,n,r,i,a,s,o=!1,l=t._f.length;if(l===0){Me(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)a=0,s=!1,e=KS({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],uT(e),WS(e)&&(s=!0),a+=Me(e).charsLeftOver,a+=Me(e).unusedTokens.length*10,Me(e).score=a,o?a<r&&(r=a,n=e):(r==null||a<r||s)&&(r=a,n=e,s&&(o=!0));$s(t,n||e)}function mie(t){if(!t._d){var e=ZS(t._i),n=e.day===void 0?e.date:e.day;t._a=BP([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),lT(t)}}function pie(t){var e=new wm(oT(hN(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function hN(t){var e=t._i,n=t._f;return t._locale=t._locale||Wa(t._l),e===null||n===void 0&&e===""?kv({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),fi(e)?new wm(oT(e)):(bm(e)?t._d=e:di(n)?fie(t):n?uT(t):gie(t),WS(t)||(t._d=null),t))}function gie(t){var e=t._i;Xn(e)?t._d=new Date(ie.now()):bm(e)?t._d=new Date(e.valueOf()):typeof e=="string"?uie(t):di(e)?(t._a=BP(e.slice(0),function(n){return parseInt(n,10)}),lT(t)):bl(e)?mie(t):za(e)?t._d=new Date(e):ie.createFromInputFallback(t)}function dN(t,e,n,r,i){var a={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(bl(t)&&GS(t)||di(t)&&t.length===0)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=t,a._f=e,a._strict=r,pie(a)}function At(t,e,n,r){return dN(t,e,n,r,!1)}var yie=Wr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=At.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:kv()}),vie=Wr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=At.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:kv()});function fN(t,e){var n,r;if(e.length===1&&di(e[0])&&(e=e[0]),!e.length)return At();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function _ie(){var t=[].slice.call(arguments,0);return fN("isBefore",t)}function bie(){var t=[].slice.call(arguments,0);return fN("isAfter",t)}var wie=function(){return Date.now?Date.now():+new Date},nd=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Sie(t){var e,n=!1,r,i=nd.length;for(e in t)if(Qe(t,e)&&!(Xt.call(nd,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[nd[r]]){if(n)return!1;parseFloat(t[nd[r]])!==$e(t[nd[r]])&&(n=!0)}return!0}function Tie(){return this._isValid}function Eie(){return pi(NaN)}function Bv(t){var e=ZS(t),n=e.year||0,r=e.quarter||0,i=e.month||0,a=e.week||e.isoWeek||0,s=e.day||0,o=e.hour||0,l=e.minute||0,u=e.second||0,d=e.millisecond||0;this._isValid=Sie(e),this._milliseconds=+d+u*1e3+l*6e4+o*1e3*60*60,this._days=+s+a*7,this._months=+i+r*3+n*12,this._data={},this._locale=Wa(),this._bubble()}function wg(t){return t instanceof Bv}function b1(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function xie(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0,s;for(s=0;s<r;s++)(n&&t[s]!==e[s]||!n&&$e(t[s])!==$e(e[s]))&&a++;return a+i}function mN(t,e){Se(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Yi(~~(n/60),2)+e+Yi(~~n%60,2)})}mN("Z",":");mN("ZZ","");ve("Z",Uv);ve("ZZ",Uv);ct(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=cT(Uv,t)});var Aie=/([\+\-]|\d\d)/gi;function cT(t,e){var n=(e||"").match(t),r,i,a;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(Aie)||["-",0,0],a=+(i[1]*60)+$e(i[2]),a===0?0:i[0]==="+"?a:-a)}function hT(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(fi(t)||bm(t)?t.valueOf():At(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ie.updateOffset(n,!1),n):At(t).local()}function w1(t){return-Math.round(t._d.getTimezoneOffset())}ie.updateOffset=function(){};function Die(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=cT(Uv,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=w1(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?yN(this,pi(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ie.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:w1(this)}function Rie(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Iie(t){return this.utcOffset(0,t)}function Mie(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(w1(this),"m")),this}function Oie(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=cT(Qne,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Cie(t){return this.isValid()?(t=t?At(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Pie(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Nie(){if(!Xn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return KS(t,this),t=hN(t),t._a?(e=t._isUTC?Qi(t._a):At(t._a),this._isDSTShifted=this.isValid()&&xie(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function kie(){return this.isValid()?!this._isUTC:!1}function Vie(){return this.isValid()?this._isUTC:!1}function pN(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Lie=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,jie=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function pi(t,e){var n=t,r=null,i,a,s;return wg(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:za(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=Lie.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:$e(r[Ii])*i,h:$e(r[hn])*i,m:$e(r[li])*i,s:$e(r[Da])*i,ms:$e(b1(r[ul]*1e3))*i}):(r=jie.exec(t))?(i=r[1]==="-"?-1:1,n={y:Ko(r[2],i),M:Ko(r[3],i),w:Ko(r[4],i),d:Ko(r[5],i),h:Ko(r[6],i),m:Ko(r[7],i),s:Ko(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=$ie(At(n.from),At(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),a=new Bv(n),wg(t)&&Qe(t,"_locale")&&(a._locale=t._locale),wg(t)&&Qe(t,"_isValid")&&(a._isValid=t._isValid),a}pi.fn=Bv.prototype;pi.invalid=Eie;function Ko(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function aR(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function $ie(t,e){var n;return t.isValid()&&e.isValid()?(e=hT(e,t),t.isBefore(e)?n=aR(t,e):(n=aR(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function gN(t,e){return function(n,r){var i,a;return r!==null&&!isNaN(+r)&&(HP(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),i=pi(n,r),yN(this,i,t),this}}function yN(t,e,n,r){var i=e._milliseconds,a=b1(e._days),s=b1(e._months);t.isValid()&&(r=r??!0,s&&tN(t,wf(t,"Month")+s*n),a&&ZP(t,"Date",wf(t,"Date")+a*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&ie.updateOffset(t,a||s))}var Uie=gN(1,"add"),zie=gN(-1,"subtract");function vN(t){return typeof t=="string"||t instanceof String}function Fie(t){return fi(t)||bm(t)||vN(t)||za(t)||Yie(t)||Bie(t)||t===null||t===void 0}function Bie(t){var e=bl(t)&&!GS(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,s=r.length;for(i=0;i<s;i+=1)a=r[i],n=n||Qe(t,a);return e&&n}function Yie(t){var e=di(t),n=!1;return e&&(n=t.filter(function(r){return!za(r)&&vN(t)}).length===0),e&&n}function Hie(t){var e=bl(t)&&!GS(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<r.length;i+=1)a=r[i],n=n||Qe(t,a);return e&&n}function qie(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Gie(t,e){arguments.length===1&&(arguments[0]?Fie(arguments[0])?(t=arguments[0],e=void 0):Hie(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||At(),r=hT(n,this).startOf("day"),i=ie.calendarFormat(this,r)||"sameElse",a=e&&(Xi(e[i])?e[i].call(this,n):e[i]);return this.format(a||this.localeData().calendar(i,this,At(n)))}function Wie(){return new wm(this)}function Kie(t,e){var n=fi(t)?t:At(t);return this.isValid()&&n.isValid()?(e=Kr(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Qie(t,e){var n=fi(t)?t:At(t);return this.isValid()&&n.isValid()?(e=Kr(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Xie(t,e,n,r){var i=fi(t)?t:At(t),a=fi(e)?e:At(e);return this.isValid()&&i.isValid()&&a.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(a,n):!this.isAfter(a,n))):!1}function Zie(t,e){var n=fi(t)?t:At(t),r;return this.isValid()&&n.isValid()?(e=Kr(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function Jie(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function eae(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function tae(t,e,n){var r,i,a;if(!this.isValid())return NaN;if(r=hT(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=Kr(e),e){case"year":a=Sg(this,r)/12;break;case"month":a=Sg(this,r);break;case"quarter":a=Sg(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:Vr(a)}function Sg(t,e){if(t.date()<e.date())return-Sg(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,a;return e-r<0?(i=t.clone().add(n-1,"months"),a=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),a=(e-r)/(i-r)),-(n+a)||0}ie.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ie.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function nae(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rae(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?bg(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Xi(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",bg(n,"Z")):bg(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function iae(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,a;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=e+'[")]',this.format(n+r+i+a)}function aae(t){t||(t=this.isUtc()?ie.defaultFormatUtc:ie.defaultFormat);var e=bg(this,t);return this.localeData().postformat(e)}function sae(t,e){return this.isValid()&&(fi(t)&&t.isValid()||At(t).isValid())?pi({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function oae(t){return this.from(At(),t)}function lae(t,e){return this.isValid()&&(fi(t)&&t.isValid()||At(t).isValid())?pi({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function uae(t){return this.to(At(),t)}function _N(t){var e;return t===void 0?this._locale._abbr:(e=Wa(t),e!=null&&(this._locale=e),this)}var bN=Wr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function wN(){return this._locale}var Ey=1e3,uc=60*Ey,xy=60*uc,SN=(365*400+97)*24*xy;function cc(t,e){return(t%e+e)%e}function TN(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-SN:new Date(t,e,n).valueOf()}function EN(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-SN:Date.UTC(t,e,n)}function cae(t){var e,n;if(t=Kr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?EN:TN,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=cc(e+(this._isUTC?0:this.utcOffset()*uc),xy);break;case"minute":e=this._d.valueOf(),e-=cc(e,uc);break;case"second":e=this._d.valueOf(),e-=cc(e,Ey);break}return this._d.setTime(e),ie.updateOffset(this,!0),this}function hae(t){var e,n;if(t=Kr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?EN:TN,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=xy-cc(e+(this._isUTC?0:this.utcOffset()*uc),xy)-1;break;case"minute":e=this._d.valueOf(),e+=uc-cc(e,uc)-1;break;case"second":e=this._d.valueOf(),e+=Ey-cc(e,Ey)-1;break}return this._d.setTime(e),ie.updateOffset(this,!0),this}function dae(){return this._d.valueOf()-(this._offset||0)*6e4}function fae(){return Math.floor(this.valueOf()/1e3)}function mae(){return new Date(this.valueOf())}function pae(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function gae(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function yae(){return this.isValid()?this.toISOString():null}function vae(){return WS(this)}function _ae(){return $s({},Me(this))}function bae(){return Me(this).overflow}function wae(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Se("N",0,0,"eraAbbr");Se("NN",0,0,"eraAbbr");Se("NNN",0,0,"eraAbbr");Se("NNNN",0,0,"eraName");Se("NNNNN",0,0,"eraNarrow");Se("y",["y",1],"yo","eraYear");Se("y",["yy",2],0,"eraYear");Se("y",["yyy",3],0,"eraYear");Se("y",["yyyy",4],0,"eraYear");ve("N",dT);ve("NN",dT);ve("NNN",dT);ve("NNNN",Cae);ve("NNNNN",Pae);ct(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?Me(n).era=i:Me(n).invalidEra=t});ve("y",gh);ve("yy",gh);ve("yyy",gh);ve("yyyy",gh);ve("yo",Nae);ct(["y","yy","yyy","yyyy"],jn);ct(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[jn]=n._locale.eraYearOrdinalParse(t,i):e[jn]=parseInt(t,10)});function Sae(t,e){var n,r,i,a=this._eras||Wa("en")._eras;for(n=0,r=a.length;n<r;++n){switch(typeof a[n].since){case"string":i=ie(a[n].since).startOf("day"),a[n].since=i.valueOf();break}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":i=ie(a[n].until).startOf("day").valueOf(),a[n].until=i.valueOf();break}}return a}function Tae(t,e,n){var r,i,a=this.eras(),s,o,l;for(t=t.toUpperCase(),r=0,i=a.length;r<i;++r)if(s=a[r].name.toUpperCase(),o=a[r].abbr.toUpperCase(),l=a[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(o===t)return a[r];break;case"NNNN":if(s===t)return a[r];break;case"NNNNN":if(l===t)return a[r];break}else if([s,o,l].indexOf(t)>=0)return a[r]}function Eae(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ie(t.since).year():ie(t.since).year()+(e-t.offset)*n}function xae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function Aae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function Dae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function Rae(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-ie(i[t].since).year())*n+i[t].offset;return this.year()}function Iae(t){return Qe(this,"_erasNameRegex")||fT.call(this),t?this._erasNameRegex:this._erasRegex}function Mae(t){return Qe(this,"_erasAbbrRegex")||fT.call(this),t?this._erasAbbrRegex:this._erasRegex}function Oae(t){return Qe(this,"_erasNarrowRegex")||fT.call(this),t?this._erasNarrowRegex:this._erasRegex}function dT(t,e){return e.erasAbbrRegex(t)}function Cae(t,e){return e.erasNameRegex(t)}function Pae(t,e){return e.erasNarrowRegex(t)}function Nae(t,e){return e._eraYearOrdinalRegex||gh}function fT(){var t=[],e=[],n=[],r=[],i,a,s,o,l,u=this.eras();for(i=0,a=u.length;i<a;++i)s=Ca(u[i].name),o=Ca(u[i].abbr),l=Ca(u[i].narrow),e.push(s),t.push(o),n.push(l),r.push(s),r.push(o),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Se(0,["gg",2],0,function(){return this.weekYear()%100});Se(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Yv(t,e){Se(0,[t,t.length],0,e)}Yv("gggg","weekYear");Yv("ggggg","weekYear");Yv("GGGG","isoWeekYear");Yv("GGGGG","isoWeekYear");ve("G",$v);ve("g",$v);ve("GG",Dt,Ar);ve("gg",Dt,Ar);ve("GGGG",eT,JS);ve("gggg",eT,JS);ve("GGGGG",jv,Vv);ve("ggggg",jv,Vv);Tm(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=$e(t)});Tm(["gg","GG"],function(t,e,n,r){e[r]=ie.parseTwoDigitYear(t)});function kae(t){return xN.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Vae(t){return xN.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Lae(){return Pa(this.year(),1,4)}function jae(){return Pa(this.isoWeekYear(),1,4)}function $ae(){var t=this.localeData()._week;return Pa(this.year(),t.dow,t.doy)}function Uae(){var t=this.localeData()._week;return Pa(this.weekYear(),t.dow,t.doy)}function xN(t,e,n,r,i){var a;return t==null?Tf(this,r,i).year:(a=Pa(t,r,i),e>a&&(e=a),zae.call(this,t,e,n,r,i))}function zae(t,e,n,r,i){var a=iN(t,e,n,r,i),s=Sf(a.year,0,a.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}Se("Q",0,"Qo","quarter");ve("Q",GP);ct("Q",function(t,e){e[Aa]=($e(t)-1)*3});function Fae(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Se("D",["DD",2],"Do","date");ve("D",Dt,yh);ve("DD",Dt,Ar);ve("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});ct(["D","DD"],Ii);ct("Do",function(t,e){e[Ii]=$e(t.match(Dt)[0])});var AN=vh("Date",!0);Se("DDD",["DDDD",3],"DDDo","dayOfYear");ve("DDD",Lv);ve("DDDD",WP);ct(["DDD","DDDD"],function(t,e,n){n._dayOfYear=$e(t)});function Bae(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Se("m",["mm",2],0,"minute");ve("m",Dt,tT);ve("mm",Dt,Ar);ct(["m","mm"],li);var Yae=vh("Minutes",!1);Se("s",["ss",2],0,"second");ve("s",Dt,tT);ve("ss",Dt,Ar);ct(["s","ss"],Da);var Hae=vh("Seconds",!1);Se("S",0,0,function(){return~~(this.millisecond()/100)});Se(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Se(0,["SSS",3],0,"millisecond");Se(0,["SSSS",4],0,function(){return this.millisecond()*10});Se(0,["SSSSS",5],0,function(){return this.millisecond()*100});Se(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Se(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Se(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Se(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ve("S",Lv,GP);ve("SS",Lv,Ar);ve("SSS",Lv,WP);var Us,DN;for(Us="SSSS";Us.length<=9;Us+="S")ve(Us,gh);function qae(t,e){e[ul]=$e(("0."+t)*1e3)}for(Us="S";Us.length<=9;Us+="S")ct(Us,qae);DN=vh("Milliseconds",!1);Se("z",0,0,"zoneAbbr");Se("zz",0,0,"zoneName");function Gae(){return this._isUTC?"UTC":""}function Wae(){return this._isUTC?"Coordinated Universal Time":""}var le=wm.prototype;le.add=Uie;le.calendar=Gie;le.clone=Wie;le.diff=tae;le.endOf=hae;le.format=aae;le.from=sae;le.fromNow=oae;le.to=lae;le.toNow=uae;le.get=ire;le.invalidAt=bae;le.isAfter=Kie;le.isBefore=Qie;le.isBetween=Xie;le.isSame=Zie;le.isSameOrAfter=Jie;le.isSameOrBefore=eae;le.isValid=vae;le.lang=bN;le.locale=_N;le.localeData=wN;le.max=vie;le.min=yie;le.parsingFlags=_ae;le.set=are;le.startOf=cae;le.subtract=zie;le.toArray=pae;le.toObject=gae;le.toDate=mae;le.toISOString=rae;le.inspect=iae;typeof Symbol<"u"&&Symbol.for!=null&&(le[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});le.toJSON=yae;le.toString=nae;le.unix=fae;le.valueOf=dae;le.creationData=wae;le.eraName=xae;le.eraNarrow=Aae;le.eraAbbr=Dae;le.eraYear=Rae;le.year=XP;le.isLeapYear=rre;le.weekYear=kae;le.isoWeekYear=Vae;le.quarter=le.quarters=Fae;le.month=nN;le.daysInMonth=mre;le.week=le.weeks=Sre;le.isoWeek=le.isoWeeks=Tre;le.weeksInYear=$ae;le.weeksInWeekYear=Uae;le.isoWeeksInYear=Lae;le.isoWeeksInISOWeekYear=jae;le.date=AN;le.day=le.days=Vre;le.weekday=Lre;le.isoWeekday=jre;le.dayOfYear=Bae;le.hour=le.hours=Hre;le.minute=le.minutes=Yae;le.second=le.seconds=Hae;le.millisecond=le.milliseconds=DN;le.utcOffset=Die;le.utc=Iie;le.local=Mie;le.parseZone=Oie;le.hasAlignedHourOffset=Cie;le.isDST=Pie;le.isLocal=kie;le.isUtcOffset=Vie;le.isUtc=pN;le.isUTC=pN;le.zoneAbbr=Gae;le.zoneName=Wae;le.dates=Wr("dates accessor is deprecated. Use date instead.",AN);le.months=Wr("months accessor is deprecated. Use month instead",nN);le.years=Wr("years accessor is deprecated. Use year instead",XP);le.zone=Wr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Rie);le.isDSTShifted=Wr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Nie);function Kae(t){return At(t*1e3)}function Qae(){return At.apply(null,arguments).parseZone()}function RN(t){return t}var Xe=QS.prototype;Xe.calendar=kne;Xe.longDateFormat=$ne;Xe.invalidDate=zne;Xe.ordinal=Yne;Xe.preparse=RN;Xe.postformat=RN;Xe.relativeTime=qne;Xe.pastFuture=Gne;Xe.set=Pne;Xe.eras=Sae;Xe.erasParse=Tae;Xe.erasConvertYear=Eae;Xe.erasAbbrRegex=Mae;Xe.erasNameRegex=Iae;Xe.erasNarrowRegex=Oae;Xe.months=cre;Xe.monthsShort=hre;Xe.monthsParse=fre;Xe.monthsRegex=gre;Xe.monthsShortRegex=pre;Xe.week=vre;Xe.firstDayOfYear=wre;Xe.firstDayOfWeek=bre;Xe.weekdays=Ore;Xe.weekdaysMin=Pre;Xe.weekdaysShort=Cre;Xe.weekdaysParse=kre;Xe.weekdaysRegex=$re;Xe.weekdaysShortRegex=Ure;Xe.weekdaysMinRegex=zre;Xe.isPM=Bre;Xe.meridiem=qre;function Ay(t,e,n,r){var i=Wa(),a=Qi().set(r,e);return i[n](a,t)}function IN(t,e,n){if(za(t)&&(e=t,t=void 0),t=t||"",e!=null)return Ay(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Ay(t,r,n,"month");return i}function mT(t,e,n,r){typeof t=="boolean"?(za(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,za(e)&&(n=e,e=void 0),e=e||"");var i=Wa(),a=t?i._week.dow:0,s,o=[];if(n!=null)return Ay(e,(n+a)%7,r,"day");for(s=0;s<7;s++)o[s]=Ay(e,(s+a)%7,r,"day");return o}function Xae(t,e){return IN(t,e,"months")}function Zae(t,e){return IN(t,e,"monthsShort")}function Jae(t,e,n){return mT(t,e,n,"weekdays")}function ese(t,e,n){return mT(t,e,n,"weekdaysShort")}function tse(t,e,n){return mT(t,e,n,"weekdaysMin")}Zs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=$e(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ie.lang=Wr("moment.lang is deprecated. Use moment.locale instead.",Zs);ie.langData=Wr("moment.langData is deprecated. Use moment.localeData instead.",Wa);var va=Math.abs;function nse(){var t=this._data;return this._milliseconds=va(this._milliseconds),this._days=va(this._days),this._months=va(this._months),t.milliseconds=va(t.milliseconds),t.seconds=va(t.seconds),t.minutes=va(t.minutes),t.hours=va(t.hours),t.months=va(t.months),t.years=va(t.years),this}function MN(t,e,n,r){var i=pi(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function rse(t,e){return MN(this,t,e,1)}function ise(t,e){return MN(this,t,e,-1)}function sR(t){return t<0?Math.floor(t):Math.ceil(t)}function ase(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,a,s,o,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=sR(S1(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Vr(t/1e3),r.seconds=i%60,a=Vr(i/60),r.minutes=a%60,s=Vr(a/60),r.hours=s%24,e+=Vr(s/24),l=Vr(ON(e)),n+=l,e-=sR(S1(l)),o=Vr(n/12),n%=12,r.days=e,r.months=n,r.years=o,this}function ON(t){return t*4800/146097}function S1(t){return t*146097/4800}function sse(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Kr(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+ON(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(S1(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function Ka(t){return function(){return this.as(t)}}var CN=Ka("ms"),ose=Ka("s"),lse=Ka("m"),use=Ka("h"),cse=Ka("d"),hse=Ka("w"),dse=Ka("M"),fse=Ka("Q"),mse=Ka("y"),pse=CN;function gse(){return pi(this)}function yse(t){return t=Kr(t),this.isValid()?this[t+"s"]():NaN}function Xl(t){return function(){return this.isValid()?this._data[t]:NaN}}var vse=Xl("milliseconds"),_se=Xl("seconds"),bse=Xl("minutes"),wse=Xl("hours"),Sse=Xl("days"),Tse=Xl("months"),Ese=Xl("years");function xse(){return Vr(this.days()/7)}var _a=Math.round,Zu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ase(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function Dse(t,e,n,r){var i=pi(t).abs(),a=_a(i.as("s")),s=_a(i.as("m")),o=_a(i.as("h")),l=_a(i.as("d")),u=_a(i.as("M")),d=_a(i.as("w")),f=_a(i.as("y")),m=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||s<=1&&["m"]||s<n.m&&["mm",s]||o<=1&&["h"]||o<n.h&&["hh",o]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(m=m||d<=1&&["w"]||d<n.w&&["ww",d]),m=m||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],m[2]=e,m[3]=+t>0,m[4]=r,Ase.apply(null,m)}function Rse(t){return t===void 0?_a:typeof t=="function"?(_a=t,!0):!1}function Ise(t,e){return Zu[t]===void 0?!1:e===void 0?Zu[t]:(Zu[t]=e,t==="s"&&(Zu.ss=e-1),!0)}function Mse(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Zu,i,a;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Zu,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),a=Dse(this,!n,r,i),n&&(a=i.pastFuture(+this,a)),i.postformat(a)}var $0=Math.abs;function Tu(t){return(t>0)-(t<0)||+t}function Hv(){if(!this.isValid())return this.localeData().invalidDate();var t=$0(this._milliseconds)/1e3,e=$0(this._days),n=$0(this._months),r,i,a,s,o=this.asSeconds(),l,u,d,f;return o?(r=Vr(t/60),i=Vr(r/60),t%=60,r%=60,a=Vr(n/12),n%=12,s=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=o<0?"-":"",u=Tu(this._months)!==Tu(o)?"-":"",d=Tu(this._days)!==Tu(o)?"-":"",f=Tu(this._milliseconds)!==Tu(o)?"-":"",l+"P"+(a?u+a+"Y":"")+(n?u+n+"M":"")+(e?d+e+"D":"")+(i||r||t?"T":"")+(i?f+i+"H":"")+(r?f+r+"M":"")+(t?f+s+"S":"")):"P0D"}var qe=Bv.prototype;qe.isValid=Tie;qe.abs=nse;qe.add=rse;qe.subtract=ise;qe.as=sse;qe.asMilliseconds=CN;qe.asSeconds=ose;qe.asMinutes=lse;qe.asHours=use;qe.asDays=cse;qe.asWeeks=hse;qe.asMonths=dse;qe.asQuarters=fse;qe.asYears=mse;qe.valueOf=pse;qe._bubble=ase;qe.clone=gse;qe.get=yse;qe.milliseconds=vse;qe.seconds=_se;qe.minutes=bse;qe.hours=wse;qe.days=Sse;qe.weeks=xse;qe.months=Tse;qe.years=Ese;qe.humanize=Mse;qe.toISOString=Hv;qe.toString=Hv;qe.toJSON=Hv;qe.locale=_N;qe.localeData=wN;qe.toIsoString=Wr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hv);qe.lang=bN;Se("X",0,0,"unix");Se("x",0,0,"valueOf");ve("x",$v);ve("X",Xne);ct("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});ct("x",function(t,e,n){n._d=new Date($e(t))});//! moment.js
ie.version="2.30.1";One(At);ie.fn=le;ie.min=_ie;ie.max=bie;ie.now=wie;ie.utc=Qi;ie.unix=Kae;ie.months=Xae;ie.isDate=bm;ie.locale=Zs;ie.invalid=kv;ie.duration=pi;ie.isMoment=fi;ie.weekdays=Jae;ie.parseZone=Qae;ie.localeData=Wa;ie.isDuration=wg;ie.monthsShort=Zae;ie.weekdaysMin=tse;ie.defineLocale=sT;ie.updateLocale=Qre;ie.locales=Xre;ie.weekdaysShort=ese;ie.normalizeUnits=Kr;ie.relativeTimeRounding=Rse;ie.relativeTimeThreshold=Ise;ie.calendarFormat=qie;ie.prototype=le;ie.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function PN(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var U0={exports:{}},oR;function Ose(){return oR||(oR=1,function(t,e){(function(n,r){t.exports=r()})(tr,function(){var n;function r(){return n.apply(null,arguments)}function i(c){n=c}function a(c){return c instanceof Array||Object.prototype.toString.call(c)==="[object Array]"}function s(c){return c!=null&&Object.prototype.toString.call(c)==="[object Object]"}function o(c,p){return Object.prototype.hasOwnProperty.call(c,p)}function l(c){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(c).length===0;var p;for(p in c)if(o(c,p))return!1;return!0}function u(c){return c===void 0}function d(c){return typeof c=="number"||Object.prototype.toString.call(c)==="[object Number]"}function f(c){return c instanceof Date||Object.prototype.toString.call(c)==="[object Date]"}function m(c,p){var v=[],w,M=c.length;for(w=0;w<M;++w)v.push(p(c[w],w));return v}function g(c,p){for(var v in p)o(p,v)&&(c[v]=p[v]);return o(p,"toString")&&(c.toString=p.toString),o(p,"valueOf")&&(c.valueOf=p.valueOf),c}function A(c,p,v,w){return RE(c,p,v,w,!0).utc()}function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function S(c){return c._pf==null&&(c._pf=b()),c._pf}var _;Array.prototype.some?_=Array.prototype.some:_=function(c){var p=Object(this),v=p.length>>>0,w;for(w=0;w<v;w++)if(w in p&&c.call(this,p[w],w,p))return!0;return!1};function T(c){var p=null,v=!1,w=c._d&&!isNaN(c._d.getTime());if(w&&(p=S(c),v=_.call(p.parsedDateParts,function(M){return M!=null}),w=p.overflow<0&&!p.empty&&!p.invalidEra&&!p.invalidMonth&&!p.invalidWeekday&&!p.weekdayMismatch&&!p.nullInput&&!p.invalidFormat&&!p.userInvalidated&&(!p.meridiem||p.meridiem&&v),c._strict&&(w=w&&p.charsLeftOver===0&&p.unusedTokens.length===0&&p.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(c))c._isValid=w;else return w;return c._isValid}function D(c){var p=A(NaN);return c!=null?g(S(p),c):S(p).userInvalidated=!0,p}var O=r.momentProperties=[],L=!1;function z(c,p){var v,w,M,U=O.length;if(u(p._isAMomentObject)||(c._isAMomentObject=p._isAMomentObject),u(p._i)||(c._i=p._i),u(p._f)||(c._f=p._f),u(p._l)||(c._l=p._l),u(p._strict)||(c._strict=p._strict),u(p._tzm)||(c._tzm=p._tzm),u(p._isUTC)||(c._isUTC=p._isUTC),u(p._offset)||(c._offset=p._offset),u(p._pf)||(c._pf=S(p)),u(p._locale)||(c._locale=p._locale),U>0)for(v=0;v<U;v++)w=O[v],M=p[w],u(M)||(c[w]=M);return c}function I(c){z(this,c),this._d=new Date(c._d!=null?c._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),L===!1&&(L=!0,r.updateOffset(this),L=!1)}function R(c){return c instanceof I||c!=null&&c._isAMomentObject!=null}function C(c){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+c)}function P(c,p){var v=!0;return g(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,c),v){var w=[],M,U,K,ye=arguments.length;for(U=0;U<ye;U++){if(M="",typeof arguments[U]=="object"){M+=`
[`+U+"] ";for(K in arguments[0])o(arguments[0],K)&&(M+=K+": "+arguments[0][K]+", ");M=M.slice(0,-2)}else M=arguments[U];w.push(M)}C(c+`
Arguments: `+Array.prototype.slice.call(w).join("")+`
`+new Error().stack),v=!1}return p.apply(this,arguments)},p)}var V={};function $(c,p){r.deprecationHandler!=null&&r.deprecationHandler(c,p),V[c]||(C(p),V[c]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function N(c){return typeof Function<"u"&&c instanceof Function||Object.prototype.toString.call(c)==="[object Function]"}function me(c){var p,v;for(v in c)o(c,v)&&(p=c[v],N(p)?this[v]=p:this["_"+v]=p);this._config=c,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function be(c,p){var v=g({},c),w;for(w in p)o(p,w)&&(s(c[w])&&s(p[w])?(v[w]={},g(v[w],c[w]),g(v[w],p[w])):p[w]!=null?v[w]=p[w]:delete v[w]);for(w in c)o(c,w)&&!o(p,w)&&s(c[w])&&(v[w]=g({},v[w]));return v}function X(c){c!=null&&this.set(c)}var j;Object.keys?j=Object.keys:j=function(c){var p,v=[];for(p in c)o(c,p)&&v.push(p);return v};var J={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function se(c,p,v){var w=this._calendar[c]||this._calendar.sameElse;return N(w)?w.call(p,v):w}function ue(c,p,v){var w=""+Math.abs(c),M=p-w.length,U=c>=0;return(U?v?"+":"":"-")+Math.pow(10,Math.max(0,M)).toString().substr(1)+w}var Q=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Z=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,re={},ae={};function W(c,p,v,w){var M=w;typeof w=="string"&&(M=function(){return this[w]()}),c&&(ae[c]=M),p&&(ae[p[0]]=function(){return ue(M.apply(this,arguments),p[1],p[2])}),v&&(ae[v]=function(){return this.localeData().ordinal(M.apply(this,arguments),c)})}function xe(c){return c.match(/\[[\s\S]/)?c.replace(/^\[|\]$/g,""):c.replace(/\\/g,"")}function Pe(c){var p=c.match(Q),v,w;for(v=0,w=p.length;v<w;v++)ae[p[v]]?p[v]=ae[p[v]]:p[v]=xe(p[v]);return function(M){var U="",K;for(K=0;K<w;K++)U+=N(p[K])?p[K].call(M,c):p[K];return U}}function Re(c,p){return c.isValid()?(p=Lt(p,c.localeData()),re[p]=re[p]||Pe(p),re[p](c)):c.localeData().invalidDate()}function Lt(c,p){var v=5;function w(M){return p.longDateFormat(M)||M}for(Z.lastIndex=0;v>=0&&Z.test(c);)c=c.replace(Z,w),Z.lastIndex=0,v-=1;return c}var Bn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Qr(c){var p=this._longDateFormat[c],v=this._longDateFormat[c.toUpperCase()];return p||!v?p:(this._longDateFormat[c]=v.match(Q).map(function(w){return w==="MMMM"||w==="MM"||w==="DD"||w==="dddd"?w.slice(1):w}).join(""),this._longDateFormat[c])}var gi="Invalid date";function Zi(){return this._invalidDate}var Ji="%d",iu=/\d{1,2}/;function au(c){return this._ordinal.replace("%d",c)}var es={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Mo(c,p,v,w){var M=this._relativeTime[v];return N(M)?M(c,p,v,w):M.replace(/%d/i,c)}function Oo(c,p){var v=this._relativeTime[c>0?"future":"past"];return N(v)?v(p):v.replace(/%s/i,p)}var ht={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ge(c){return typeof c=="string"?ht[c]||ht[c.toLowerCase()]:void 0}function Xr(c){var p={},v,w;for(w in c)o(c,w)&&(v=Ge(w),v&&(p[v]=c[w]));return p}var su={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ts(c){var p=[],v;for(v in c)o(c,v)&&p.push({unit:v,priority:su[v]});return p.sort(function(w,M){return w.priority-M.priority}),p}var Co=/\d/,zt=/\d\d/,ns=/\d{3}/,ea=/\d{4}/,rs=/[+-]?\d{6}/,dt=/\d\d?/,$m=/\d\d\d\d?/,Mh=/\d\d\d\d\d\d?/,Po=/\d{1,3}/,ta=/\d{1,4}/,is=/[+-]?\d{1,6}/,yi=/\d+/,Dr=/[+-]?\d+/,Um=/Z|[+-]\d\d:?\d\d/gi,na=/Z|[+-]\d\d(?::?\d\d)?/gi,zm=/[+-]?\d+(\.\d{1,3})?/,Zr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ra=/^[1-9]\d?/,sn=/^([1-9]\d|\d)/,No;No={};function pe(c,p,v){No[c]=N(p)?p:function(w,M){return w&&v?v:p}}function ko(c,p){return o(No,c)?No[c](p._strict,p._locale):new RegExp(S_(c))}function S_(c){return Jr(c.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(p,v,w,M,U){return v||w||M||U}))}function Jr(c){return c.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function on(c){return c<0?Math.ceil(c)||0:Math.floor(c)}function Ne(c){var p=+c,v=0;return p!==0&&isFinite(p)&&(v=on(p)),v}var Oh={};function We(c,p){var v,w=p,M;for(typeof c=="string"&&(c=[c]),d(p)&&(w=function(U,K){K[p]=Ne(U)}),M=c.length,v=0;v<M;v++)Oh[c[v]]=w}function as(c,p){We(c,function(v,w,M,U){M._w=M._w||{},p(v,M._w,M,U)})}function Fm(c,p,v){p!=null&&o(Oh,c)&&Oh[c](p,v._a,v,c)}function ss(c){return c%4===0&&c%100!==0||c%400===0}var Ft=0,ei=1,ln=2,Bt=3,Qn=4,cr=5,ti=6,Bm=7,T_=8;W("Y",0,0,function(){var c=this.year();return c<=9999?ue(c,4):"+"+c}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),pe("Y",Dr),pe("YY",dt,zt),pe("YYYY",ta,ea),pe("YYYYY",is,rs),pe("YYYYYY",is,rs),We(["YYYYY","YYYYYY"],Ft),We("YYYY",function(c,p){p[Ft]=c.length===2?r.parseTwoDigitYear(c):Ne(c)}),We("YY",function(c,p){p[Ft]=r.parseTwoDigitYear(c)}),We("Y",function(c,p){p[Ft]=parseInt(c,10)});function os(c){return ss(c)?366:365}r.parseTwoDigitYear=function(c){return Ne(c)+(Ne(c)>68?1900:2e3)};var Ym=ia("FullYear",!0);function ou(){return ss(this.year())}function ia(c,p){return function(v){return v!=null?(ls(this,c,v),r.updateOffset(this,p),this):aa(this,c)}}function aa(c,p){if(!c.isValid())return NaN;var v=c._d,w=c._isUTC;switch(p){case"Milliseconds":return w?v.getUTCMilliseconds():v.getMilliseconds();case"Seconds":return w?v.getUTCSeconds():v.getSeconds();case"Minutes":return w?v.getUTCMinutes():v.getMinutes();case"Hours":return w?v.getUTCHours():v.getHours();case"Date":return w?v.getUTCDate():v.getDate();case"Day":return w?v.getUTCDay():v.getDay();case"Month":return w?v.getUTCMonth():v.getMonth();case"FullYear":return w?v.getUTCFullYear():v.getFullYear();default:return NaN}}function ls(c,p,v){var w,M,U,K,ye;if(!(!c.isValid()||isNaN(v))){switch(w=c._d,M=c._isUTC,p){case"Milliseconds":return void(M?w.setUTCMilliseconds(v):w.setMilliseconds(v));case"Seconds":return void(M?w.setUTCSeconds(v):w.setSeconds(v));case"Minutes":return void(M?w.setUTCMinutes(v):w.setMinutes(v));case"Hours":return void(M?w.setUTCHours(v):w.setHours(v));case"Date":return void(M?w.setUTCDate(v):w.setDate(v));case"FullYear":break;default:return}U=v,K=c.month(),ye=c.date(),ye=ye===29&&K===1&&!ss(U)?28:ye,M?w.setUTCFullYear(U,K,ye):w.setFullYear(U,K,ye)}}function sa(c){return c=Ge(c),N(this[c])?this[c]():this}function Ch(c,p){if(typeof c=="object"){c=Xr(c);var v=ts(c),w,M=v.length;for(w=0;w<M;w++)this[v[w].unit](c[v[w].unit])}else if(c=Ge(c),N(this[c]))return this[c](p);return this}function E_(c,p){return(c%p+p)%p}var Rt;Array.prototype.indexOf?Rt=Array.prototype.indexOf:Rt=function(c){var p;for(p=0;p<this.length;++p)if(this[p]===c)return p;return-1};function lu(c,p){if(isNaN(c)||isNaN(p))return NaN;var v=E_(p,12);return c+=(p-v)/12,v===1?ss(c)?29:28:31-v%7%2}W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(c){return this.localeData().monthsShort(this,c)}),W("MMMM",0,0,function(c){return this.localeData().months(this,c)}),pe("M",dt,ra),pe("MM",dt,zt),pe("MMM",function(c,p){return p.monthsShortRegex(c)}),pe("MMMM",function(c,p){return p.monthsRegex(c)}),We(["M","MM"],function(c,p){p[ei]=Ne(c)-1}),We(["MMM","MMMM"],function(c,p,v,w){var M=v._locale.monthsParse(c,w,v._strict);M!=null?p[ei]=M:S(v).invalidMonth=c});var Hm="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),uu="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),cu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,qm=Zr,Gm=Zr;function Wm(c,p){return c?a(this._months)?this._months[c.month()]:this._months[(this._months.isFormat||cu).test(p)?"format":"standalone"][c.month()]:a(this._months)?this._months:this._months.standalone}function x_(c,p){return c?a(this._monthsShort)?this._monthsShort[c.month()]:this._monthsShort[cu.test(p)?"format":"standalone"][c.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function vi(c,p,v){var w,M,U,K=c.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],w=0;w<12;++w)U=A([2e3,w]),this._shortMonthsParse[w]=this.monthsShort(U,"").toLocaleLowerCase(),this._longMonthsParse[w]=this.months(U,"").toLocaleLowerCase();return v?p==="MMM"?(M=Rt.call(this._shortMonthsParse,K),M!==-1?M:null):(M=Rt.call(this._longMonthsParse,K),M!==-1?M:null):p==="MMM"?(M=Rt.call(this._shortMonthsParse,K),M!==-1?M:(M=Rt.call(this._longMonthsParse,K),M!==-1?M:null)):(M=Rt.call(this._longMonthsParse,K),M!==-1?M:(M=Rt.call(this._shortMonthsParse,K),M!==-1?M:null))}function Rr(c,p,v){var w,M,U;if(this._monthsParseExact)return vi.call(this,c,p,v);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),w=0;w<12;w++){if(M=A([2e3,w]),v&&!this._longMonthsParse[w]&&(this._longMonthsParse[w]=new RegExp("^"+this.months(M,"").replace(".","")+"$","i"),this._shortMonthsParse[w]=new RegExp("^"+this.monthsShort(M,"").replace(".","")+"$","i")),!v&&!this._monthsParse[w]&&(U="^"+this.months(M,"")+"|^"+this.monthsShort(M,""),this._monthsParse[w]=new RegExp(U.replace(".",""),"i")),v&&p==="MMMM"&&this._longMonthsParse[w].test(c))return w;if(v&&p==="MMM"&&this._shortMonthsParse[w].test(c))return w;if(!v&&this._monthsParse[w].test(c))return w}}function us(c,p){if(!c.isValid())return c;if(typeof p=="string"){if(/^\d+$/.test(p))p=Ne(p);else if(p=c.localeData().monthsParse(p),!d(p))return c}var v=p,w=c.date();return w=w<29?w:Math.min(w,lu(c.year(),v)),c._isUTC?c._d.setUTCMonth(v,w):c._d.setMonth(v,w),c}function cs(c){return c!=null?(us(this,c),r.updateOffset(this,!0),this):aa(this,"Month")}function Ph(){return lu(this.year(),this.month())}function ft(c){return this._monthsParseExact?(o(this,"_monthsRegex")||hs.call(this),c?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=qm),this._monthsShortStrictRegex&&c?this._monthsShortStrictRegex:this._monthsShortRegex)}function hu(c){return this._monthsParseExact?(o(this,"_monthsRegex")||hs.call(this),c?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Gm),this._monthsStrictRegex&&c?this._monthsStrictRegex:this._monthsRegex)}function hs(){function c(Ae,ze){return ze.length-Ae.length}var p=[],v=[],w=[],M,U,K,ye;for(M=0;M<12;M++)U=A([2e3,M]),K=Jr(this.monthsShort(U,"")),ye=Jr(this.months(U,"")),p.push(K),v.push(ye),w.push(ye),w.push(K);p.sort(c),v.sort(c),w.sort(c),this._monthsRegex=new RegExp("^("+w.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+v.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+p.join("|")+")","i")}function Vo(c,p,v,w,M,U,K){var ye;return c<100&&c>=0?(ye=new Date(c+400,p,v,w,M,U,K),isFinite(ye.getFullYear())&&ye.setFullYear(c)):ye=new Date(c,p,v,w,M,U,K),ye}function Lo(c){var p,v;return c<100&&c>=0?(v=Array.prototype.slice.call(arguments),v[0]=c+400,p=new Date(Date.UTC.apply(null,v)),isFinite(p.getUTCFullYear())&&p.setUTCFullYear(c)):p=new Date(Date.UTC.apply(null,arguments)),p}function jo(c,p,v){var w=7+p-v,M=(7+Lo(c,0,w).getUTCDay()-p)%7;return-M+w-1}function Km(c,p,v,w,M){var U=(7+v-w)%7,K=jo(c,w,M),ye=1+7*(p-1)+U+K,Ae,ze;return ye<=0?(Ae=c-1,ze=os(Ae)+ye):ye>os(c)?(Ae=c+1,ze=ye-os(c)):(Ae=c,ze=ye),{year:Ae,dayOfYear:ze}}function $o(c,p,v){var w=jo(c.year(),p,v),M=Math.floor((c.dayOfYear()-w-1)/7)+1,U,K;return M<1?(K=c.year()-1,U=M+ni(K,p,v)):M>ni(c.year(),p,v)?(U=M-ni(c.year(),p,v),K=c.year()+1):(K=c.year(),U=M),{week:U,year:K}}function ni(c,p,v){var w=jo(c,p,v),M=jo(c+1,p,v);return(os(c)-w+M)/7}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),pe("w",dt,ra),pe("ww",dt,zt),pe("W",dt,ra),pe("WW",dt,zt),as(["w","ww","W","WW"],function(c,p,v,w){p[w.substr(0,1)]=Ne(c)});function A_(c){return $o(c,this._week.dow,this._week.doy).week}var Uo={dow:0,doy:6};function oa(){return this._week.dow}function Qm(){return this._week.doy}function Xm(c){var p=this.localeData().week(this);return c==null?p:this.add((c-p)*7,"d")}function Zm(c){var p=$o(this,1,4).week;return c==null?p:this.add((c-p)*7,"d")}W("d",0,"do","day"),W("dd",0,0,function(c){return this.localeData().weekdaysMin(this,c)}),W("ddd",0,0,function(c){return this.localeData().weekdaysShort(this,c)}),W("dddd",0,0,function(c){return this.localeData().weekdays(this,c)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),pe("d",dt),pe("e",dt),pe("E",dt),pe("dd",function(c,p){return p.weekdaysMinRegex(c)}),pe("ddd",function(c,p){return p.weekdaysShortRegex(c)}),pe("dddd",function(c,p){return p.weekdaysRegex(c)}),as(["dd","ddd","dddd"],function(c,p,v,w){var M=v._locale.weekdaysParse(c,w,v._strict);M!=null?p.d=M:S(v).invalidWeekday=c}),as(["d","e","E"],function(c,p,v,w){p[w]=Ne(c)});function Jm(c,p){return typeof c!="string"?c:isNaN(c)?(c=p.weekdaysParse(c),typeof c=="number"?c:null):parseInt(c,10)}function ep(c,p){return typeof c=="string"?p.weekdaysParse(c)%7||7:isNaN(c)?null:c}function _i(c,p){return c.slice(p,7).concat(c.slice(0,p))}var D_="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),tp="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),R_="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),bi=Zr,I_=Zr,Nh=Zr;function du(c,p){var v=a(this._weekdays)?this._weekdays:this._weekdays[c&&c!==!0&&this._weekdays.isFormat.test(p)?"format":"standalone"];return c===!0?_i(v,this._week.dow):c?v[c.day()]:v}function np(c){return c===!0?_i(this._weekdaysShort,this._week.dow):c?this._weekdaysShort[c.day()]:this._weekdaysShort}function zo(c){return c===!0?_i(this._weekdaysMin,this._week.dow):c?this._weekdaysMin[c.day()]:this._weekdaysMin}function Fo(c,p,v){var w,M,U,K=c.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],w=0;w<7;++w)U=A([2e3,1]).day(w),this._minWeekdaysParse[w]=this.weekdaysMin(U,"").toLocaleLowerCase(),this._shortWeekdaysParse[w]=this.weekdaysShort(U,"").toLocaleLowerCase(),this._weekdaysParse[w]=this.weekdays(U,"").toLocaleLowerCase();return v?p==="dddd"?(M=Rt.call(this._weekdaysParse,K),M!==-1?M:null):p==="ddd"?(M=Rt.call(this._shortWeekdaysParse,K),M!==-1?M:null):(M=Rt.call(this._minWeekdaysParse,K),M!==-1?M:null):p==="dddd"?(M=Rt.call(this._weekdaysParse,K),M!==-1||(M=Rt.call(this._shortWeekdaysParse,K),M!==-1)?M:(M=Rt.call(this._minWeekdaysParse,K),M!==-1?M:null)):p==="ddd"?(M=Rt.call(this._shortWeekdaysParse,K),M!==-1||(M=Rt.call(this._weekdaysParse,K),M!==-1)?M:(M=Rt.call(this._minWeekdaysParse,K),M!==-1?M:null)):(M=Rt.call(this._minWeekdaysParse,K),M!==-1||(M=Rt.call(this._weekdaysParse,K),M!==-1)?M:(M=Rt.call(this._shortWeekdaysParse,K),M!==-1?M:null))}function rp(c,p,v){var w,M,U;if(this._weekdaysParseExact)return Fo.call(this,c,p,v);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),w=0;w<7;w++){if(M=A([2e3,1]).day(w),v&&!this._fullWeekdaysParse[w]&&(this._fullWeekdaysParse[w]=new RegExp("^"+this.weekdays(M,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[w]=new RegExp("^"+this.weekdaysShort(M,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[w]=new RegExp("^"+this.weekdaysMin(M,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[w]||(U="^"+this.weekdays(M,"")+"|^"+this.weekdaysShort(M,"")+"|^"+this.weekdaysMin(M,""),this._weekdaysParse[w]=new RegExp(U.replace(".",""),"i")),v&&p==="dddd"&&this._fullWeekdaysParse[w].test(c))return w;if(v&&p==="ddd"&&this._shortWeekdaysParse[w].test(c))return w;if(v&&p==="dd"&&this._minWeekdaysParse[w].test(c))return w;if(!v&&this._weekdaysParse[w].test(c))return w}}function kh(c){if(!this.isValid())return c!=null?this:NaN;var p=aa(this,"Day");return c!=null?(c=Jm(c,this.localeData()),this.add(c-p,"d")):p}function It(c){if(!this.isValid())return c!=null?this:NaN;var p=(this.day()+7-this.localeData()._week.dow)%7;return c==null?p:this.add(c-p,"d")}function M_(c){if(!this.isValid())return c!=null?this:NaN;if(c!=null){var p=ep(c,this.localeData());return this.day(this.day()%7?p:p-7)}else return this.day()||7}function O_(c){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||fu.call(this),c?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=bi),this._weekdaysStrictRegex&&c?this._weekdaysStrictRegex:this._weekdaysRegex)}function ip(c){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||fu.call(this),c?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=I_),this._weekdaysShortStrictRegex&&c?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function ap(c){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||fu.call(this),c?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Nh),this._weekdaysMinStrictRegex&&c?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function fu(){function c(Yn,fa){return fa.length-Yn.length}var p=[],v=[],w=[],M=[],U,K,ye,Ae,ze;for(U=0;U<7;U++)K=A([2e3,1]).day(U),ye=Jr(this.weekdaysMin(K,"")),Ae=Jr(this.weekdaysShort(K,"")),ze=Jr(this.weekdays(K,"")),p.push(ye),v.push(Ae),w.push(ze),M.push(ye),M.push(Ae),M.push(ze);p.sort(c),v.sort(c),w.sort(c),M.sort(c),this._weekdaysRegex=new RegExp("^("+M.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+w.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+v.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+p.join("|")+")","i")}function ds(){return this.hours()%12||12}function wi(){return this.hours()||24}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,ds),W("k",["kk",2],0,wi),W("hmm",0,0,function(){return""+ds.apply(this)+ue(this.minutes(),2)}),W("hmmss",0,0,function(){return""+ds.apply(this)+ue(this.minutes(),2)+ue(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+ue(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+ue(this.minutes(),2)+ue(this.seconds(),2)});function Vh(c,p){W(c,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),p)})}Vh("a",!0),Vh("A",!1);function sp(c,p){return p._meridiemParse}pe("a",sp),pe("A",sp),pe("H",dt,sn),pe("h",dt,ra),pe("k",dt,ra),pe("HH",dt,zt),pe("hh",dt,zt),pe("kk",dt,zt),pe("hmm",$m),pe("hmmss",Mh),pe("Hmm",$m),pe("Hmmss",Mh),We(["H","HH"],Bt),We(["k","kk"],function(c,p,v){var w=Ne(c);p[Bt]=w===24?0:w}),We(["a","A"],function(c,p,v){v._isPm=v._locale.isPM(c),v._meridiem=c}),We(["h","hh"],function(c,p,v){p[Bt]=Ne(c),S(v).bigHour=!0}),We("hmm",function(c,p,v){var w=c.length-2;p[Bt]=Ne(c.substr(0,w)),p[Qn]=Ne(c.substr(w)),S(v).bigHour=!0}),We("hmmss",function(c,p,v){var w=c.length-4,M=c.length-2;p[Bt]=Ne(c.substr(0,w)),p[Qn]=Ne(c.substr(w,2)),p[cr]=Ne(c.substr(M)),S(v).bigHour=!0}),We("Hmm",function(c,p,v){var w=c.length-2;p[Bt]=Ne(c.substr(0,w)),p[Qn]=Ne(c.substr(w))}),We("Hmmss",function(c,p,v){var w=c.length-4,M=c.length-2;p[Bt]=Ne(c.substr(0,w)),p[Qn]=Ne(c.substr(w,2)),p[cr]=Ne(c.substr(M))});function Bo(c){return(c+"").toLowerCase().charAt(0)==="p"}var op=/[ap]\.?m?\.?/i,Lh=ia("Hours",!0);function mu(c,p,v){return c>11?v?"pm":"PM":v?"am":"AM"}var jh={calendar:J,longDateFormat:Bn,invalidDate:gi,ordinal:Ji,dayOfMonthOrdinalParse:iu,relativeTime:es,months:Hm,monthsShort:uu,week:Uo,weekdays:D_,weekdaysMin:R_,weekdaysShort:tp,meridiemParse:op},et={},Yo={},fs;function Ho(c,p){var v,w=Math.min(c.length,p.length);for(v=0;v<w;v+=1)if(c[v]!==p[v])return v;return w}function $h(c){return c&&c.toLowerCase().replace("_","-")}function lp(c){for(var p=0,v,w,M,U;p<c.length;){for(U=$h(c[p]).split("-"),v=U.length,w=$h(c[p+1]),w=w?w.split("-"):null;v>0;){if(M=ms(U.slice(0,v).join("-")),M)return M;if(w&&w.length>=v&&Ho(U,w)>=v-1)break;v--}p++}return fs}function Uh(c){return!!(c&&c.match("^[^/\\\\]*$"))}function ms(c){var p=null,v;if(et[c]===void 0&&t&&t.exports&&Uh(c))try{p=fs._abbr,v=PN,v("./locale/"+c),ri(p)}catch{et[c]=null}return et[c]}function ri(c,p){var v;return c&&(u(p)?v=Ir(c):v=ps(c,p),v?fs=v:typeof console<"u"&&console.warn&&console.warn("Locale "+c+" not found. Did you forget to load it?")),fs._abbr}function ps(c,p){if(p!==null){var v,w=jh;if(p.abbr=c,et[c]!=null)$("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),w=et[c]._config;else if(p.parentLocale!=null)if(et[p.parentLocale]!=null)w=et[p.parentLocale]._config;else if(v=ms(p.parentLocale),v!=null)w=v._config;else return Yo[p.parentLocale]||(Yo[p.parentLocale]=[]),Yo[p.parentLocale].push({name:c,config:p}),null;return et[c]=new X(be(w,p)),Yo[c]&&Yo[c].forEach(function(M){ps(M.name,M.config)}),ri(c),et[c]}else return delete et[c],null}function up(c,p){if(p!=null){var v,w,M=jh;et[c]!=null&&et[c].parentLocale!=null?et[c].set(be(et[c]._config,p)):(w=ms(c),w!=null&&(M=w._config),p=be(M,p),w==null&&(p.abbr=c),v=new X(p),v.parentLocale=et[c],et[c]=v),ri(c)}else et[c]!=null&&(et[c].parentLocale!=null?(et[c]=et[c].parentLocale,c===ri()&&ri(c)):et[c]!=null&&delete et[c]);return et[c]}function Ir(c){var p;if(c&&c._locale&&c._locale._abbr&&(c=c._locale._abbr),!c)return fs;if(!a(c)){if(p=ms(c),p)return p;c=[c]}return lp(c)}function la(){return j(et)}function pu(c){var p,v=c._a;return v&&S(c).overflow===-2&&(p=v[ei]<0||v[ei]>11?ei:v[ln]<1||v[ln]>lu(v[Ft],v[ei])?ln:v[Bt]<0||v[Bt]>24||v[Bt]===24&&(v[Qn]!==0||v[cr]!==0||v[ti]!==0)?Bt:v[Qn]<0||v[Qn]>59?Qn:v[cr]<0||v[cr]>59?cr:v[ti]<0||v[ti]>999?ti:-1,S(c)._overflowDayOfYear&&(p<Ft||p>ln)&&(p=ln),S(c)._overflowWeeks&&p===-1&&(p=Bm),S(c)._overflowWeekday&&p===-1&&(p=T_),S(c).overflow=p),c}var cp=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hp=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dp=/Z|[+-]\d\d(?::?\d\d)?/,ua=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],xn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],fp=/^\/?Date\((-?\d+)/i,mp=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gs={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function h(c){var p,v,w=c._i,M=cp.exec(w)||hp.exec(w),U,K,ye,Ae,ze=ua.length,Yn=xn.length;if(M){for(S(c).iso=!0,p=0,v=ze;p<v;p++)if(ua[p][1].exec(M[1])){K=ua[p][0],U=ua[p][2]!==!1;break}if(K==null){c._isValid=!1;return}if(M[3]){for(p=0,v=Yn;p<v;p++)if(xn[p][1].exec(M[3])){ye=(M[2]||" ")+xn[p][0];break}if(ye==null){c._isValid=!1;return}}if(!U&&ye!=null){c._isValid=!1;return}if(M[4])if(dp.exec(M[4]))Ae="Z";else{c._isValid=!1;return}c._f=K+(ye||"")+(Ae||""),ii(c)}else c._isValid=!1}function y(c,p,v,w,M,U){var K=[x(c),uu.indexOf(p),parseInt(v,10),parseInt(w,10),parseInt(M,10)];return U&&K.push(parseInt(U,10)),K}function x(c){var p=parseInt(c,10);return p<=49?2e3+p:p<=999?1900+p:p}function k(c){return c.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Y(c,p,v){if(c){var w=tp.indexOf(c),M=new Date(p[0],p[1],p[2]).getDay();if(w!==M)return S(v).weekdayMismatch=!0,v._isValid=!1,!1}return!0}function G(c,p,v){if(c)return gs[c];if(p)return 0;var w=parseInt(v,10),M=w%100,U=(w-M)/100;return U*60+M}function he(c){var p=mp.exec(k(c._i)),v;if(p){if(v=y(p[4],p[3],p[2],p[5],p[6],p[7]),!Y(p[1],v,c))return;c._a=v,c._tzm=G(p[8],p[9],p[10]),c._d=Lo.apply(null,c._a),c._d.setUTCMinutes(c._d.getUTCMinutes()-c._tzm),S(c).rfc2822=!0}else c._isValid=!1}function Ie(c){var p=fp.exec(c._i);if(p!==null){c._d=new Date(+p[1]);return}if(h(c),c._isValid===!1)delete c._isValid;else return;if(he(c),c._isValid===!1)delete c._isValid;else return;c._strict?c._isValid=!1:r.createFromInputFallback(c)}r.createFromInputFallback=P("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(c){c._d=new Date(c._i+(c._useUTC?" UTC":""))});function yt(c,p,v){return c??p??v}function tt(c){var p=new Date(r.now());return c._useUTC?[p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()]:[p.getFullYear(),p.getMonth(),p.getDate()]}function Yt(c){var p,v,w=[],M,U,K;if(!c._d){for(M=tt(c),c._w&&c._a[ln]==null&&c._a[ei]==null&&Mr(c),c._dayOfYear!=null&&(K=yt(c._a[Ft],M[Ft]),(c._dayOfYear>os(K)||c._dayOfYear===0)&&(S(c)._overflowDayOfYear=!0),v=Lo(K,0,c._dayOfYear),c._a[ei]=v.getUTCMonth(),c._a[ln]=v.getUTCDate()),p=0;p<3&&c._a[p]==null;++p)c._a[p]=w[p]=M[p];for(;p<7;p++)c._a[p]=w[p]=c._a[p]==null?p===2?1:0:c._a[p];c._a[Bt]===24&&c._a[Qn]===0&&c._a[cr]===0&&c._a[ti]===0&&(c._nextDay=!0,c._a[Bt]=0),c._d=(c._useUTC?Lo:Vo).apply(null,w),U=c._useUTC?c._d.getUTCDay():c._d.getDay(),c._tzm!=null&&c._d.setUTCMinutes(c._d.getUTCMinutes()-c._tzm),c._nextDay&&(c._a[Bt]=24),c._w&&typeof c._w.d<"u"&&c._w.d!==U&&(S(c).weekdayMismatch=!0)}}function Mr(c){var p,v,w,M,U,K,ye,Ae,ze;p=c._w,p.GG!=null||p.W!=null||p.E!=null?(U=1,K=4,v=yt(p.GG,c._a[Ft],$o(wt(),1,4).year),w=yt(p.W,1),M=yt(p.E,1),(M<1||M>7)&&(Ae=!0)):(U=c._locale._week.dow,K=c._locale._week.doy,ze=$o(wt(),U,K),v=yt(p.gg,c._a[Ft],ze.year),w=yt(p.w,ze.week),p.d!=null?(M=p.d,(M<0||M>6)&&(Ae=!0)):p.e!=null?(M=p.e+U,(p.e<0||p.e>6)&&(Ae=!0)):M=U),w<1||w>ni(v,U,K)?S(c)._overflowWeeks=!0:Ae!=null?S(c)._overflowWeekday=!0:(ye=Km(v,w,M,U,K),c._a[Ft]=ye.year,c._dayOfYear=ye.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function ii(c){if(c._f===r.ISO_8601){h(c);return}if(c._f===r.RFC_2822){he(c);return}c._a=[],S(c).empty=!0;var p=""+c._i,v,w,M,U,K,ye=p.length,Ae=0,ze,Yn;for(M=Lt(c._f,c._locale).match(Q)||[],Yn=M.length,v=0;v<Yn;v++)U=M[v],w=(p.match(ko(U,c))||[])[0],w&&(K=p.substr(0,p.indexOf(w)),K.length>0&&S(c).unusedInput.push(K),p=p.slice(p.indexOf(w)+w.length),Ae+=w.length),ae[U]?(w?S(c).empty=!1:S(c).unusedTokens.push(U),Fm(U,w,c)):c._strict&&!w&&S(c).unusedTokens.push(U);S(c).charsLeftOver=ye-Ae,p.length>0&&S(c).unusedInput.push(p),c._a[Bt]<=12&&S(c).bigHour===!0&&c._a[Bt]>0&&(S(c).bigHour=void 0),S(c).parsedDateParts=c._a.slice(0),S(c).meridiem=c._meridiem,c._a[Bt]=Si(c._locale,c._a[Bt],c._meridiem),ze=S(c).era,ze!==null&&(c._a[Ft]=c._locale.erasConvertYear(ze,c._a[Ft])),Yt(c),pu(c)}function Si(c,p,v){var w;return v==null?p:c.meridiemHour!=null?c.meridiemHour(p,v):(c.isPM!=null&&(w=c.isPM(v),w&&p<12&&(p+=12),!w&&p===12&&(p=0)),p)}function Ti(c){var p,v,w,M,U,K,ye=!1,Ae=c._f.length;if(Ae===0){S(c).invalidFormat=!0,c._d=new Date(NaN);return}for(M=0;M<Ae;M++)U=0,K=!1,p=z({},c),c._useUTC!=null&&(p._useUTC=c._useUTC),p._f=c._f[M],ii(p),T(p)&&(K=!0),U+=S(p).charsLeftOver,U+=S(p).unusedTokens.length*10,S(p).score=U,ye?U<w&&(w=U,v=p):(w==null||U<w||K)&&(w=U,v=p,K&&(ye=!0));g(c,v||p)}function gu(c){if(!c._d){var p=Xr(c._i),v=p.day===void 0?p.date:p.day;c._a=m([p.year,p.month,v,p.hour,p.minute,p.second,p.millisecond],function(w){return w&&parseInt(w,10)}),Yt(c)}}function zh(c){var p=new I(pu(DE(c)));return p._nextDay&&(p.add(1,"d"),p._nextDay=void 0),p}function DE(c){var p=c._i,v=c._f;return c._locale=c._locale||Ir(c._l),p===null||v===void 0&&p===""?D({nullInput:!0}):(typeof p=="string"&&(c._i=p=c._locale.preparse(p)),R(p)?new I(pu(p)):(f(p)?c._d=p:a(v)?Ti(c):v?ii(c):GL(c),T(c)||(c._d=null),c))}function GL(c){var p=c._i;u(p)?c._d=new Date(r.now()):f(p)?c._d=new Date(p.valueOf()):typeof p=="string"?Ie(c):a(p)?(c._a=m(p.slice(0),function(v){return parseInt(v,10)}),Yt(c)):s(p)?gu(c):d(p)?c._d=new Date(p):r.createFromInputFallback(c)}function RE(c,p,v,w,M){var U={};return(p===!0||p===!1)&&(w=p,p=void 0),(v===!0||v===!1)&&(w=v,v=void 0),(s(c)&&l(c)||a(c)&&c.length===0)&&(c=void 0),U._isAMomentObject=!0,U._useUTC=U._isUTC=M,U._l=v,U._i=c,U._f=p,U._strict=w,zh(U)}function wt(c,p,v,w){return RE(c,p,v,w,!1)}var WL=P("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var c=wt.apply(null,arguments);return this.isValid()&&c.isValid()?c<this?this:c:D()}),KL=P("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var c=wt.apply(null,arguments);return this.isValid()&&c.isValid()?c>this?this:c:D()});function IE(c,p){var v,w;if(p.length===1&&a(p[0])&&(p=p[0]),!p.length)return wt();for(v=p[0],w=1;w<p.length;++w)(!p[w].isValid()||p[w][c](v))&&(v=p[w]);return v}function QL(){var c=[].slice.call(arguments,0);return IE("isBefore",c)}function XL(){var c=[].slice.call(arguments,0);return IE("isAfter",c)}var ZL=function(){return Date.now?Date.now():+new Date},Fh=["year","quarter","month","week","day","hour","minute","second","millisecond"];function JL(c){var p,v=!1,w,M=Fh.length;for(p in c)if(o(c,p)&&!(Rt.call(Fh,p)!==-1&&(c[p]==null||!isNaN(c[p]))))return!1;for(w=0;w<M;++w)if(c[Fh[w]]){if(v)return!1;parseFloat(c[Fh[w]])!==Ne(c[Fh[w]])&&(v=!0)}return!0}function e4(){return this._isValid}function t4(){return ai(NaN)}function pp(c){var p=Xr(c),v=p.year||0,w=p.quarter||0,M=p.month||0,U=p.week||p.isoWeek||0,K=p.day||0,ye=p.hour||0,Ae=p.minute||0,ze=p.second||0,Yn=p.millisecond||0;this._isValid=JL(p),this._milliseconds=+Yn+ze*1e3+Ae*6e4+ye*1e3*60*60,this._days=+K+U*7,this._months=+M+w*3+v*12,this._data={},this._locale=Ir(),this._bubble()}function gp(c){return c instanceof pp}function C_(c){return c<0?Math.round(-1*c)*-1:Math.round(c)}function n4(c,p,v){var w=Math.min(c.length,p.length),M=Math.abs(c.length-p.length),U=0,K;for(K=0;K<w;K++)(v&&c[K]!==p[K]||!v&&Ne(c[K])!==Ne(p[K]))&&U++;return U+M}function ME(c,p){W(c,0,0,function(){var v=this.utcOffset(),w="+";return v<0&&(v=-v,w="-"),w+ue(~~(v/60),2)+p+ue(~~v%60,2)})}ME("Z",":"),ME("ZZ",""),pe("Z",na),pe("ZZ",na),We(["Z","ZZ"],function(c,p,v){v._useUTC=!0,v._tzm=P_(na,c)});var r4=/([\+\-]|\d\d)/gi;function P_(c,p){var v=(p||"").match(c),w,M,U;return v===null?null:(w=v[v.length-1]||[],M=(w+"").match(r4)||["-",0,0],U=+(M[1]*60)+Ne(M[2]),U===0?0:M[0]==="+"?U:-U)}function N_(c,p){var v,w;return p._isUTC?(v=p.clone(),w=(R(c)||f(c)?c.valueOf():wt(c).valueOf())-v.valueOf(),v._d.setTime(v._d.valueOf()+w),r.updateOffset(v,!1),v):wt(c).local()}function k_(c){return-Math.round(c._d.getTimezoneOffset())}r.updateOffset=function(){};function i4(c,p,v){var w=this._offset||0,M;if(!this.isValid())return c!=null?this:NaN;if(c!=null){if(typeof c=="string"){if(c=P_(na,c),c===null)return this}else Math.abs(c)<16&&!v&&(c=c*60);return!this._isUTC&&p&&(M=k_(this)),this._offset=c,this._isUTC=!0,M!=null&&this.add(M,"m"),w!==c&&(!p||this._changeInProgress?NE(this,ai(c-w,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?w:k_(this)}function a4(c,p){return c!=null?(typeof c!="string"&&(c=-c),this.utcOffset(c,p),this):-this.utcOffset()}function s4(c){return this.utcOffset(0,c)}function o4(c){return this._isUTC&&(this.utcOffset(0,c),this._isUTC=!1,c&&this.subtract(k_(this),"m")),this}function l4(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var c=P_(Um,this._i);c!=null?this.utcOffset(c):this.utcOffset(0,!0)}return this}function u4(c){return this.isValid()?(c=c?wt(c).utcOffset():0,(this.utcOffset()-c)%60===0):!1}function c4(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function h4(){if(!u(this._isDSTShifted))return this._isDSTShifted;var c={},p;return z(c,this),c=DE(c),c._a?(p=c._isUTC?A(c._a):wt(c._a),this._isDSTShifted=this.isValid()&&n4(c._a,p.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function d4(){return this.isValid()?!this._isUTC:!1}function f4(){return this.isValid()?this._isUTC:!1}function OE(){return this.isValid()?this._isUTC&&this._offset===0:!1}var m4=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,p4=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ai(c,p){var v=c,w=null,M,U,K;return gp(c)?v={ms:c._milliseconds,d:c._days,M:c._months}:d(c)||!isNaN(+c)?(v={},p?v[p]=+c:v.milliseconds=+c):(w=m4.exec(c))?(M=w[1]==="-"?-1:1,v={y:0,d:Ne(w[ln])*M,h:Ne(w[Bt])*M,m:Ne(w[Qn])*M,s:Ne(w[cr])*M,ms:Ne(C_(w[ti]*1e3))*M}):(w=p4.exec(c))?(M=w[1]==="-"?-1:1,v={y:qo(w[2],M),M:qo(w[3],M),w:qo(w[4],M),d:qo(w[5],M),h:qo(w[6],M),m:qo(w[7],M),s:qo(w[8],M)}):v==null?v={}:typeof v=="object"&&("from"in v||"to"in v)&&(K=g4(wt(v.from),wt(v.to)),v={},v.ms=K.milliseconds,v.M=K.months),U=new pp(v),gp(c)&&o(c,"_locale")&&(U._locale=c._locale),gp(c)&&o(c,"_isValid")&&(U._isValid=c._isValid),U}ai.fn=pp.prototype,ai.invalid=t4;function qo(c,p){var v=c&&parseFloat(c.replace(",","."));return(isNaN(v)?0:v)*p}function CE(c,p){var v={};return v.months=p.month()-c.month()+(p.year()-c.year())*12,c.clone().add(v.months,"M").isAfter(p)&&--v.months,v.milliseconds=+p-+c.clone().add(v.months,"M"),v}function g4(c,p){var v;return c.isValid()&&p.isValid()?(p=N_(p,c),c.isBefore(p)?v=CE(c,p):(v=CE(p,c),v.milliseconds=-v.milliseconds,v.months=-v.months),v):{milliseconds:0,months:0}}function PE(c,p){return function(v,w){var M,U;return w!==null&&!isNaN(+w)&&($(p,"moment()."+p+"(period, number) is deprecated. Please use moment()."+p+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),U=v,v=w,w=U),M=ai(v,w),NE(this,M,c),this}}function NE(c,p,v,w){var M=p._milliseconds,U=C_(p._days),K=C_(p._months);c.isValid()&&(w=w??!0,K&&us(c,aa(c,"Month")+K*v),U&&ls(c,"Date",aa(c,"Date")+U*v),M&&c._d.setTime(c._d.valueOf()+M*v),w&&r.updateOffset(c,U||K))}var y4=PE(1,"add"),v4=PE(-1,"subtract");function kE(c){return typeof c=="string"||c instanceof String}function _4(c){return R(c)||f(c)||kE(c)||d(c)||w4(c)||b4(c)||c===null||c===void 0}function b4(c){var p=s(c)&&!l(c),v=!1,w=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],M,U,K=w.length;for(M=0;M<K;M+=1)U=w[M],v=v||o(c,U);return p&&v}function w4(c){var p=a(c),v=!1;return p&&(v=c.filter(function(w){return!d(w)&&kE(c)}).length===0),p&&v}function S4(c){var p=s(c)&&!l(c),v=!1,w=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],M,U;for(M=0;M<w.length;M+=1)U=w[M],v=v||o(c,U);return p&&v}function T4(c,p){var v=c.diff(p,"days",!0);return v<-6?"sameElse":v<-1?"lastWeek":v<0?"lastDay":v<1?"sameDay":v<2?"nextDay":v<7?"nextWeek":"sameElse"}function E4(c,p){arguments.length===1&&(arguments[0]?_4(arguments[0])?(c=arguments[0],p=void 0):S4(arguments[0])&&(p=arguments[0],c=void 0):(c=void 0,p=void 0));var v=c||wt(),w=N_(v,this).startOf("day"),M=r.calendarFormat(this,w)||"sameElse",U=p&&(N(p[M])?p[M].call(this,v):p[M]);return this.format(U||this.localeData().calendar(M,this,wt(v)))}function x4(){return new I(this)}function A4(c,p){var v=R(c)?c:wt(c);return this.isValid()&&v.isValid()?(p=Ge(p)||"millisecond",p==="millisecond"?this.valueOf()>v.valueOf():v.valueOf()<this.clone().startOf(p).valueOf()):!1}function D4(c,p){var v=R(c)?c:wt(c);return this.isValid()&&v.isValid()?(p=Ge(p)||"millisecond",p==="millisecond"?this.valueOf()<v.valueOf():this.clone().endOf(p).valueOf()<v.valueOf()):!1}function R4(c,p,v,w){var M=R(c)?c:wt(c),U=R(p)?p:wt(p);return this.isValid()&&M.isValid()&&U.isValid()?(w=w||"()",(w[0]==="("?this.isAfter(M,v):!this.isBefore(M,v))&&(w[1]===")"?this.isBefore(U,v):!this.isAfter(U,v))):!1}function I4(c,p){var v=R(c)?c:wt(c),w;return this.isValid()&&v.isValid()?(p=Ge(p)||"millisecond",p==="millisecond"?this.valueOf()===v.valueOf():(w=v.valueOf(),this.clone().startOf(p).valueOf()<=w&&w<=this.clone().endOf(p).valueOf())):!1}function M4(c,p){return this.isSame(c,p)||this.isAfter(c,p)}function O4(c,p){return this.isSame(c,p)||this.isBefore(c,p)}function C4(c,p,v){var w,M,U;if(!this.isValid())return NaN;if(w=N_(c,this),!w.isValid())return NaN;switch(M=(w.utcOffset()-this.utcOffset())*6e4,p=Ge(p),p){case"year":U=yp(this,w)/12;break;case"month":U=yp(this,w);break;case"quarter":U=yp(this,w)/3;break;case"second":U=(this-w)/1e3;break;case"minute":U=(this-w)/6e4;break;case"hour":U=(this-w)/36e5;break;case"day":U=(this-w-M)/864e5;break;case"week":U=(this-w-M)/6048e5;break;default:U=this-w}return v?U:on(U)}function yp(c,p){if(c.date()<p.date())return-yp(p,c);var v=(p.year()-c.year())*12+(p.month()-c.month()),w=c.clone().add(v,"months"),M,U;return p-w<0?(M=c.clone().add(v-1,"months"),U=(p-w)/(w-M)):(M=c.clone().add(v+1,"months"),U=(p-w)/(M-w)),-(v+U)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function P4(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function N4(c){if(!this.isValid())return null;var p=c!==!0,v=p?this.clone().utc():this;return v.year()<0||v.year()>9999?Re(v,p?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?p?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Re(v,"Z")):Re(v,p?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function k4(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var c="moment",p="",v,w,M,U;return this.isLocal()||(c=this.utcOffset()===0?"moment.utc":"moment.parseZone",p="Z"),v="["+c+'("]',w=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",M="-MM-DD[T]HH:mm:ss.SSS",U=p+'[")]',this.format(v+w+M+U)}function V4(c){c||(c=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var p=Re(this,c);return this.localeData().postformat(p)}function L4(c,p){return this.isValid()&&(R(c)&&c.isValid()||wt(c).isValid())?ai({to:this,from:c}).locale(this.locale()).humanize(!p):this.localeData().invalidDate()}function j4(c){return this.from(wt(),c)}function $4(c,p){return this.isValid()&&(R(c)&&c.isValid()||wt(c).isValid())?ai({from:this,to:c}).locale(this.locale()).humanize(!p):this.localeData().invalidDate()}function U4(c){return this.to(wt(),c)}function VE(c){var p;return c===void 0?this._locale._abbr:(p=Ir(c),p!=null&&(this._locale=p),this)}var LE=P("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(c){return c===void 0?this.localeData():this.locale(c)});function jE(){return this._locale}var vp=1e3,yu=60*vp,_p=60*yu,$E=(365*400+97)*24*_p;function vu(c,p){return(c%p+p)%p}function UE(c,p,v){return c<100&&c>=0?new Date(c+400,p,v)-$E:new Date(c,p,v).valueOf()}function zE(c,p,v){return c<100&&c>=0?Date.UTC(c+400,p,v)-$E:Date.UTC(c,p,v)}function z4(c){var p,v;if(c=Ge(c),c===void 0||c==="millisecond"||!this.isValid())return this;switch(v=this._isUTC?zE:UE,c){case"year":p=v(this.year(),0,1);break;case"quarter":p=v(this.year(),this.month()-this.month()%3,1);break;case"month":p=v(this.year(),this.month(),1);break;case"week":p=v(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":p=v(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":p=v(this.year(),this.month(),this.date());break;case"hour":p=this._d.valueOf(),p-=vu(p+(this._isUTC?0:this.utcOffset()*yu),_p);break;case"minute":p=this._d.valueOf(),p-=vu(p,yu);break;case"second":p=this._d.valueOf(),p-=vu(p,vp);break}return this._d.setTime(p),r.updateOffset(this,!0),this}function F4(c){var p,v;if(c=Ge(c),c===void 0||c==="millisecond"||!this.isValid())return this;switch(v=this._isUTC?zE:UE,c){case"year":p=v(this.year()+1,0,1)-1;break;case"quarter":p=v(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":p=v(this.year(),this.month()+1,1)-1;break;case"week":p=v(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":p=v(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":p=v(this.year(),this.month(),this.date()+1)-1;break;case"hour":p=this._d.valueOf(),p+=_p-vu(p+(this._isUTC?0:this.utcOffset()*yu),_p)-1;break;case"minute":p=this._d.valueOf(),p+=yu-vu(p,yu)-1;break;case"second":p=this._d.valueOf(),p+=vp-vu(p,vp)-1;break}return this._d.setTime(p),r.updateOffset(this,!0),this}function B4(){return this._d.valueOf()-(this._offset||0)*6e4}function Y4(){return Math.floor(this.valueOf()/1e3)}function H4(){return new Date(this.valueOf())}function q4(){var c=this;return[c.year(),c.month(),c.date(),c.hour(),c.minute(),c.second(),c.millisecond()]}function G4(){var c=this;return{years:c.year(),months:c.month(),date:c.date(),hours:c.hours(),minutes:c.minutes(),seconds:c.seconds(),milliseconds:c.milliseconds()}}function W4(){return this.isValid()?this.toISOString():null}function K4(){return T(this)}function Q4(){return g({},S(this))}function X4(){return S(this).overflow}function Z4(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}W("N",0,0,"eraAbbr"),W("NN",0,0,"eraAbbr"),W("NNN",0,0,"eraAbbr"),W("NNNN",0,0,"eraName"),W("NNNNN",0,0,"eraNarrow"),W("y",["y",1],"yo","eraYear"),W("y",["yy",2],0,"eraYear"),W("y",["yyy",3],0,"eraYear"),W("y",["yyyy",4],0,"eraYear"),pe("N",V_),pe("NN",V_),pe("NNN",V_),pe("NNNN",uj),pe("NNNNN",cj),We(["N","NN","NNN","NNNN","NNNNN"],function(c,p,v,w){var M=v._locale.erasParse(c,w,v._strict);M?S(v).era=M:S(v).invalidEra=c}),pe("y",yi),pe("yy",yi),pe("yyy",yi),pe("yyyy",yi),pe("yo",hj),We(["y","yy","yyy","yyyy"],Ft),We(["yo"],function(c,p,v,w){var M;v._locale._eraYearOrdinalRegex&&(M=c.match(v._locale._eraYearOrdinalRegex)),v._locale.eraYearOrdinalParse?p[Ft]=v._locale.eraYearOrdinalParse(c,M):p[Ft]=parseInt(c,10)});function J4(c,p){var v,w,M,U=this._eras||Ir("en")._eras;for(v=0,w=U.length;v<w;++v){switch(typeof U[v].since){case"string":M=r(U[v].since).startOf("day"),U[v].since=M.valueOf();break}switch(typeof U[v].until){case"undefined":U[v].until=1/0;break;case"string":M=r(U[v].until).startOf("day").valueOf(),U[v].until=M.valueOf();break}}return U}function ej(c,p,v){var w,M,U=this.eras(),K,ye,Ae;for(c=c.toUpperCase(),w=0,M=U.length;w<M;++w)if(K=U[w].name.toUpperCase(),ye=U[w].abbr.toUpperCase(),Ae=U[w].narrow.toUpperCase(),v)switch(p){case"N":case"NN":case"NNN":if(ye===c)return U[w];break;case"NNNN":if(K===c)return U[w];break;case"NNNNN":if(Ae===c)return U[w];break}else if([K,ye,Ae].indexOf(c)>=0)return U[w]}function tj(c,p){var v=c.since<=c.until?1:-1;return p===void 0?r(c.since).year():r(c.since).year()+(p-c.offset)*v}function nj(){var c,p,v,w=this.localeData().eras();for(c=0,p=w.length;c<p;++c)if(v=this.clone().startOf("day").valueOf(),w[c].since<=v&&v<=w[c].until||w[c].until<=v&&v<=w[c].since)return w[c].name;return""}function rj(){var c,p,v,w=this.localeData().eras();for(c=0,p=w.length;c<p;++c)if(v=this.clone().startOf("day").valueOf(),w[c].since<=v&&v<=w[c].until||w[c].until<=v&&v<=w[c].since)return w[c].narrow;return""}function ij(){var c,p,v,w=this.localeData().eras();for(c=0,p=w.length;c<p;++c)if(v=this.clone().startOf("day").valueOf(),w[c].since<=v&&v<=w[c].until||w[c].until<=v&&v<=w[c].since)return w[c].abbr;return""}function aj(){var c,p,v,w,M=this.localeData().eras();for(c=0,p=M.length;c<p;++c)if(v=M[c].since<=M[c].until?1:-1,w=this.clone().startOf("day").valueOf(),M[c].since<=w&&w<=M[c].until||M[c].until<=w&&w<=M[c].since)return(this.year()-r(M[c].since).year())*v+M[c].offset;return this.year()}function sj(c){return o(this,"_erasNameRegex")||L_.call(this),c?this._erasNameRegex:this._erasRegex}function oj(c){return o(this,"_erasAbbrRegex")||L_.call(this),c?this._erasAbbrRegex:this._erasRegex}function lj(c){return o(this,"_erasNarrowRegex")||L_.call(this),c?this._erasNarrowRegex:this._erasRegex}function V_(c,p){return p.erasAbbrRegex(c)}function uj(c,p){return p.erasNameRegex(c)}function cj(c,p){return p.erasNarrowRegex(c)}function hj(c,p){return p._eraYearOrdinalRegex||yi}function L_(){var c=[],p=[],v=[],w=[],M,U,K,ye,Ae,ze=this.eras();for(M=0,U=ze.length;M<U;++M)K=Jr(ze[M].name),ye=Jr(ze[M].abbr),Ae=Jr(ze[M].narrow),p.push(K),c.push(ye),v.push(Ae),w.push(K),w.push(ye),w.push(Ae);this._erasRegex=new RegExp("^("+w.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+p.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+c.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+v.join("|")+")","i")}W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100});function bp(c,p){W(0,[c,c.length],0,p)}bp("gggg","weekYear"),bp("ggggg","weekYear"),bp("GGGG","isoWeekYear"),bp("GGGGG","isoWeekYear"),pe("G",Dr),pe("g",Dr),pe("GG",dt,zt),pe("gg",dt,zt),pe("GGGG",ta,ea),pe("gggg",ta,ea),pe("GGGGG",is,rs),pe("ggggg",is,rs),as(["gggg","ggggg","GGGG","GGGGG"],function(c,p,v,w){p[w.substr(0,2)]=Ne(c)}),as(["gg","GG"],function(c,p,v,w){p[w]=r.parseTwoDigitYear(c)});function dj(c){return FE.call(this,c,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function fj(c){return FE.call(this,c,this.isoWeek(),this.isoWeekday(),1,4)}function mj(){return ni(this.year(),1,4)}function pj(){return ni(this.isoWeekYear(),1,4)}function gj(){var c=this.localeData()._week;return ni(this.year(),c.dow,c.doy)}function yj(){var c=this.localeData()._week;return ni(this.weekYear(),c.dow,c.doy)}function FE(c,p,v,w,M){var U;return c==null?$o(this,w,M).year:(U=ni(c,w,M),p>U&&(p=U),vj.call(this,c,p,v,w,M))}function vj(c,p,v,w,M){var U=Km(c,p,v,w,M),K=Lo(U.year,0,U.dayOfYear);return this.year(K.getUTCFullYear()),this.month(K.getUTCMonth()),this.date(K.getUTCDate()),this}W("Q",0,"Qo","quarter"),pe("Q",Co),We("Q",function(c,p){p[ei]=(Ne(c)-1)*3});function _j(c){return c==null?Math.ceil((this.month()+1)/3):this.month((c-1)*3+this.month()%3)}W("D",["DD",2],"Do","date"),pe("D",dt,ra),pe("DD",dt,zt),pe("Do",function(c,p){return c?p._dayOfMonthOrdinalParse||p._ordinalParse:p._dayOfMonthOrdinalParseLenient}),We(["D","DD"],ln),We("Do",function(c,p){p[ln]=Ne(c.match(dt)[0])});var BE=ia("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),pe("DDD",Po),pe("DDDD",ns),We(["DDD","DDDD"],function(c,p,v){v._dayOfYear=Ne(c)});function bj(c){var p=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return c==null?p:this.add(c-p,"d")}W("m",["mm",2],0,"minute"),pe("m",dt,sn),pe("mm",dt,zt),We(["m","mm"],Qn);var wj=ia("Minutes",!1);W("s",["ss",2],0,"second"),pe("s",dt,sn),pe("ss",dt,zt),We(["s","ss"],cr);var Sj=ia("Seconds",!1);W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return this.millisecond()*10}),W(0,["SSSSS",5],0,function(){return this.millisecond()*100}),W(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),W(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),W(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),W(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),pe("S",Po,Co),pe("SS",Po,zt),pe("SSS",Po,ns);var ys,YE;for(ys="SSSS";ys.length<=9;ys+="S")pe(ys,yi);function Tj(c,p){p[ti]=Ne(("0."+c)*1e3)}for(ys="S";ys.length<=9;ys+="S")We(ys,Tj);YE=ia("Milliseconds",!1),W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");function Ej(){return this._isUTC?"UTC":""}function xj(){return this._isUTC?"Coordinated Universal Time":""}var oe=I.prototype;oe.add=y4,oe.calendar=E4,oe.clone=x4,oe.diff=C4,oe.endOf=F4,oe.format=V4,oe.from=L4,oe.fromNow=j4,oe.to=$4,oe.toNow=U4,oe.get=sa,oe.invalidAt=X4,oe.isAfter=A4,oe.isBefore=D4,oe.isBetween=R4,oe.isSame=I4,oe.isSameOrAfter=M4,oe.isSameOrBefore=O4,oe.isValid=K4,oe.lang=LE,oe.locale=VE,oe.localeData=jE,oe.max=KL,oe.min=WL,oe.parsingFlags=Q4,oe.set=Ch,oe.startOf=z4,oe.subtract=v4,oe.toArray=q4,oe.toObject=G4,oe.toDate=H4,oe.toISOString=N4,oe.inspect=k4,typeof Symbol<"u"&&Symbol.for!=null&&(oe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),oe.toJSON=W4,oe.toString=P4,oe.unix=Y4,oe.valueOf=B4,oe.creationData=Z4,oe.eraName=nj,oe.eraNarrow=rj,oe.eraAbbr=ij,oe.eraYear=aj,oe.year=Ym,oe.isLeapYear=ou,oe.weekYear=dj,oe.isoWeekYear=fj,oe.quarter=oe.quarters=_j,oe.month=cs,oe.daysInMonth=Ph,oe.week=oe.weeks=Xm,oe.isoWeek=oe.isoWeeks=Zm,oe.weeksInYear=gj,oe.weeksInWeekYear=yj,oe.isoWeeksInYear=mj,oe.isoWeeksInISOWeekYear=pj,oe.date=BE,oe.day=oe.days=kh,oe.weekday=It,oe.isoWeekday=M_,oe.dayOfYear=bj,oe.hour=oe.hours=Lh,oe.minute=oe.minutes=wj,oe.second=oe.seconds=Sj,oe.millisecond=oe.milliseconds=YE,oe.utcOffset=i4,oe.utc=s4,oe.local=o4,oe.parseZone=l4,oe.hasAlignedHourOffset=u4,oe.isDST=c4,oe.isLocal=d4,oe.isUtcOffset=f4,oe.isUtc=OE,oe.isUTC=OE,oe.zoneAbbr=Ej,oe.zoneName=xj,oe.dates=P("dates accessor is deprecated. Use date instead.",BE),oe.months=P("months accessor is deprecated. Use month instead",cs),oe.years=P("years accessor is deprecated. Use year instead",Ym),oe.zone=P("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",a4),oe.isDSTShifted=P("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",h4);function Aj(c){return wt(c*1e3)}function Dj(){return wt.apply(null,arguments).parseZone()}function HE(c){return c}var Ke=X.prototype;Ke.calendar=se,Ke.longDateFormat=Qr,Ke.invalidDate=Zi,Ke.ordinal=au,Ke.preparse=HE,Ke.postformat=HE,Ke.relativeTime=Mo,Ke.pastFuture=Oo,Ke.set=me,Ke.eras=J4,Ke.erasParse=ej,Ke.erasConvertYear=tj,Ke.erasAbbrRegex=oj,Ke.erasNameRegex=sj,Ke.erasNarrowRegex=lj,Ke.months=Wm,Ke.monthsShort=x_,Ke.monthsParse=Rr,Ke.monthsRegex=hu,Ke.monthsShortRegex=ft,Ke.week=A_,Ke.firstDayOfYear=Qm,Ke.firstDayOfWeek=oa,Ke.weekdays=du,Ke.weekdaysMin=zo,Ke.weekdaysShort=np,Ke.weekdaysParse=rp,Ke.weekdaysRegex=O_,Ke.weekdaysShortRegex=ip,Ke.weekdaysMinRegex=ap,Ke.isPM=Bo,Ke.meridiem=mu;function wp(c,p,v,w){var M=Ir(),U=A().set(w,p);return M[v](U,c)}function qE(c,p,v){if(d(c)&&(p=c,c=void 0),c=c||"",p!=null)return wp(c,p,v,"month");var w,M=[];for(w=0;w<12;w++)M[w]=wp(c,w,v,"month");return M}function j_(c,p,v,w){typeof c=="boolean"?(d(p)&&(v=p,p=void 0),p=p||""):(p=c,v=p,c=!1,d(p)&&(v=p,p=void 0),p=p||"");var M=Ir(),U=c?M._week.dow:0,K,ye=[];if(v!=null)return wp(p,(v+U)%7,w,"day");for(K=0;K<7;K++)ye[K]=wp(p,(K+U)%7,w,"day");return ye}function Rj(c,p){return qE(c,p,"months")}function Ij(c,p){return qE(c,p,"monthsShort")}function Mj(c,p,v){return j_(c,p,v,"weekdays")}function Oj(c,p,v){return j_(c,p,v,"weekdaysShort")}function Cj(c,p,v){return j_(c,p,v,"weekdaysMin")}ri("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(c){var p=c%10,v=Ne(c%100/10)===1?"th":p===1?"st":p===2?"nd":p===3?"rd":"th";return c+v}}),r.lang=P("moment.lang is deprecated. Use moment.locale instead.",ri),r.langData=P("moment.langData is deprecated. Use moment.localeData instead.",Ir);var ca=Math.abs;function Pj(){var c=this._data;return this._milliseconds=ca(this._milliseconds),this._days=ca(this._days),this._months=ca(this._months),c.milliseconds=ca(c.milliseconds),c.seconds=ca(c.seconds),c.minutes=ca(c.minutes),c.hours=ca(c.hours),c.months=ca(c.months),c.years=ca(c.years),this}function GE(c,p,v,w){var M=ai(p,v);return c._milliseconds+=w*M._milliseconds,c._days+=w*M._days,c._months+=w*M._months,c._bubble()}function Nj(c,p){return GE(this,c,p,1)}function kj(c,p){return GE(this,c,p,-1)}function WE(c){return c<0?Math.floor(c):Math.ceil(c)}function Vj(){var c=this._milliseconds,p=this._days,v=this._months,w=this._data,M,U,K,ye,Ae;return c>=0&&p>=0&&v>=0||c<=0&&p<=0&&v<=0||(c+=WE($_(v)+p)*864e5,p=0,v=0),w.milliseconds=c%1e3,M=on(c/1e3),w.seconds=M%60,U=on(M/60),w.minutes=U%60,K=on(U/60),w.hours=K%24,p+=on(K/24),Ae=on(KE(p)),v+=Ae,p-=WE($_(Ae)),ye=on(v/12),v%=12,w.days=p,w.months=v,w.years=ye,this}function KE(c){return c*4800/146097}function $_(c){return c*146097/4800}function Lj(c){if(!this.isValid())return NaN;var p,v,w=this._milliseconds;if(c=Ge(c),c==="month"||c==="quarter"||c==="year")switch(p=this._days+w/864e5,v=this._months+KE(p),c){case"month":return v;case"quarter":return v/3;case"year":return v/12}else switch(p=this._days+Math.round($_(this._months)),c){case"week":return p/7+w/6048e5;case"day":return p+w/864e5;case"hour":return p*24+w/36e5;case"minute":return p*1440+w/6e4;case"second":return p*86400+w/1e3;case"millisecond":return Math.floor(p*864e5)+w;default:throw new Error("Unknown unit "+c)}}function ha(c){return function(){return this.as(c)}}var QE=ha("ms"),jj=ha("s"),$j=ha("m"),Uj=ha("h"),zj=ha("d"),Fj=ha("w"),Bj=ha("M"),Yj=ha("Q"),Hj=ha("y"),qj=QE;function Gj(){return ai(this)}function Wj(c){return c=Ge(c),this.isValid()?this[c+"s"]():NaN}function Go(c){return function(){return this.isValid()?this._data[c]:NaN}}var Kj=Go("milliseconds"),Qj=Go("seconds"),Xj=Go("minutes"),Zj=Go("hours"),Jj=Go("days"),e6=Go("months"),t6=Go("years");function n6(){return on(this.days()/7)}var da=Math.round,_u={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function r6(c,p,v,w,M){return M.relativeTime(p||1,!!v,c,w)}function i6(c,p,v,w){var M=ai(c).abs(),U=da(M.as("s")),K=da(M.as("m")),ye=da(M.as("h")),Ae=da(M.as("d")),ze=da(M.as("M")),Yn=da(M.as("w")),fa=da(M.as("y")),vs=U<=v.ss&&["s",U]||U<v.s&&["ss",U]||K<=1&&["m"]||K<v.m&&["mm",K]||ye<=1&&["h"]||ye<v.h&&["hh",ye]||Ae<=1&&["d"]||Ae<v.d&&["dd",Ae];return v.w!=null&&(vs=vs||Yn<=1&&["w"]||Yn<v.w&&["ww",Yn]),vs=vs||ze<=1&&["M"]||ze<v.M&&["MM",ze]||fa<=1&&["y"]||["yy",fa],vs[2]=p,vs[3]=+c>0,vs[4]=w,r6.apply(null,vs)}function a6(c){return c===void 0?da:typeof c=="function"?(da=c,!0):!1}function s6(c,p){return _u[c]===void 0?!1:p===void 0?_u[c]:(_u[c]=p,c==="s"&&(_u.ss=p-1),!0)}function o6(c,p){if(!this.isValid())return this.localeData().invalidDate();var v=!1,w=_u,M,U;return typeof c=="object"&&(p=c,c=!1),typeof c=="boolean"&&(v=c),typeof p=="object"&&(w=Object.assign({},_u,p),p.s!=null&&p.ss==null&&(w.ss=p.s-1)),M=this.localeData(),U=i6(this,!v,w,M),v&&(U=M.pastFuture(+this,U)),M.postformat(U)}var U_=Math.abs;function bu(c){return(c>0)-(c<0)||+c}function Sp(){if(!this.isValid())return this.localeData().invalidDate();var c=U_(this._milliseconds)/1e3,p=U_(this._days),v=U_(this._months),w,M,U,K,ye=this.asSeconds(),Ae,ze,Yn,fa;return ye?(w=on(c/60),M=on(w/60),c%=60,w%=60,U=on(v/12),v%=12,K=c?c.toFixed(3).replace(/\.?0+$/,""):"",Ae=ye<0?"-":"",ze=bu(this._months)!==bu(ye)?"-":"",Yn=bu(this._days)!==bu(ye)?"-":"",fa=bu(this._milliseconds)!==bu(ye)?"-":"",Ae+"P"+(U?ze+U+"Y":"")+(v?ze+v+"M":"")+(p?Yn+p+"D":"")+(M||w||c?"T":"")+(M?fa+M+"H":"")+(w?fa+w+"M":"")+(c?fa+K+"S":"")):"P0D"}var Fe=pp.prototype;Fe.isValid=e4,Fe.abs=Pj,Fe.add=Nj,Fe.subtract=kj,Fe.as=Lj,Fe.asMilliseconds=QE,Fe.asSeconds=jj,Fe.asMinutes=$j,Fe.asHours=Uj,Fe.asDays=zj,Fe.asWeeks=Fj,Fe.asMonths=Bj,Fe.asQuarters=Yj,Fe.asYears=Hj,Fe.valueOf=qj,Fe._bubble=Vj,Fe.clone=Gj,Fe.get=Wj,Fe.milliseconds=Kj,Fe.seconds=Qj,Fe.minutes=Xj,Fe.hours=Zj,Fe.days=Jj,Fe.weeks=n6,Fe.months=e6,Fe.years=t6,Fe.humanize=o6,Fe.toISOString=Sp,Fe.toString=Sp,Fe.toJSON=Sp,Fe.locale=VE,Fe.localeData=jE,Fe.toIsoString=P("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Sp),Fe.lang=LE,W("X",0,0,"unix"),W("x",0,0,"valueOf"),pe("x",Dr),pe("X",zm),We("X",function(c,p,v){v._d=new Date(parseFloat(c)*1e3)}),We("x",function(c,p,v){v._d=new Date(Ne(c))});//! moment.js
return r.version="2.30.1",i(wt),r.fn=oe,r.min=QL,r.max=XL,r.now=ZL,r.utc=A,r.unix=Aj,r.months=Rj,r.isDate=f,r.locale=ri,r.invalid=D,r.duration=ai,r.isMoment=R,r.weekdays=Mj,r.parseZone=Dj,r.localeData=Ir,r.isDuration=gp,r.monthsShort=Ij,r.weekdaysMin=Cj,r.defineLocale=ps,r.updateLocale=up,r.locales=la,r.weekdaysShort=Oj,r.normalizeUnits=Ge,r.relativeTimeRounding=a6,r.relativeTimeThreshold=s6,r.calendarFormat=T4,r.prototype=oe,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})}(U0)),U0.exports}(function(t,e){(function(n,r){r(typeof PN=="function"?Ose():n.moment)})(tr,function(n){//! moment.js locale configuration
var r=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,i=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,a=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,s=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i],o=n.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:r,monthsShortStrictRegex:i,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(l,u){switch(u){case"D":return l+(l===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return l+(l===1?"er":"e");case"w":case"W":return l+(l===1?"re":"e")}},week:{dow:1,doy:4}});return o})})();const xf={_origin:"https://api.emailjs.com"},Cse=(t,e="https://api.emailjs.com")=>{xf._userID=t,xf._origin=e},NN=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};let lR=class{constructor(e){this.status=e.status,this.text=e.responseText}};const kN=(t,e,n={})=>new Promise((r,i)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:s})=>{const o=new lR(s);o.status===200||o.text==="OK"?r(o):i(o)}),a.addEventListener("error",({target:s})=>{i(new lR(s))}),a.open("POST",xf._origin+t,!0),Object.keys(n).forEach(s=>{a.setRequestHeader(s,n[s])}),a.send(e)}),Pse=(t,e,n,r)=>{const i=r||xf._userID;return NN(i,t,e),kN("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},Nse=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},kse=(t,e,n,r)=>{const i=r||xf._userID,a=Nse(n);NN(i,t,e);const s=new FormData(a);return s.append("lib_version","3.2.0"),s.append("service_id",t),s.append("template_id",e),s.append("user_id",i),kN("/api/v1.0/email/send-form",s)},Ju={init:Cse,send:Pse,sendForm:kse},Vse=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Lse=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},LN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=a>>2,f=(a&3)<<4|o>>4;let m=(o&15)<<2|u>>6,g=u&63;l||(g=64,s||(m=64)),r.push(n[d],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Lse(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new jse;const m=a<<2|o>>4;if(r.push(m),u!==64){const g=o<<4&240|u>>2;if(r.push(g),f!==64){const A=u<<6&192|f;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jse extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $se=function(t){const e=VN(t);return LN.encodeByteArray(e,!0)},Dy=function(t){return $se(t).replace(/\./g,"")},Use=function(t){try{return LN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zse=()=>jN().__FIREBASE_DEFAULTS__,Fse=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Bse=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Use(t[1]);return e&&JSON.parse(e)},pT=()=>{try{return Vse()||zse()||Fse()||Bse()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yse=t=>{var e,n;return(n=(e=pT())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Hse=t=>{const e=Yse(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$N=()=>{var t;return(t=pT())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qse{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gse(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t},o="";return[Dy(JSON.stringify(n)),Dy(JSON.stringify(s)),o].join(".")}const kd={};function Wse(){const t={prod:[],emulator:[]};for(const e of Object.keys(kd))kd[e]?t.emulator.push(e):t.prod.push(e);return t}function Kse(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let uR=!1;function Qse(t,e){if(typeof window>"u"||typeof document>"u"||!qv(window.location.host)||kd[t]===e||kd[t]||uR)return;kd[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",a=Wse().prod.length>0;function s(){const m=document.getElementById(r);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{uR=!0,s()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=Kse(r),g=n("text"),A=document.getElementById(g)||document.createElement("span"),b=n("learnmore"),S=document.getElementById(b)||document.createElement("a"),_=n("preprendIcon"),T=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const D=m.element;o(D),d(S,b);const O=u();l(T,_),D.append(T,A,S,O),document.body.appendChild(D)}a?(A.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zN(){var e;const t=(e=pT())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FN(){return!zN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BN(){return!zN()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function YN(){try{return typeof indexedDB=="object"}catch{return!1}}function Xse(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zse="FirebaseError";class _h extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Zse,Object.setPrototypeOf(this,_h.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,HN.prototype.create)}}class HN{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Jse(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new _h(i,o,r)}}function Jse(t,e){return t.replace(eoe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eoe=/\{\$([^}]+)}/g;function uo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(cR(a)&&cR(s)){if(!uo(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){return t&&t._delegate?t._delegate:t}class Af{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class toe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qse;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(roe(e))try{this.getOrInitializeService({instanceIdentifier:tl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=tl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tl){return this.instances.has(e)}getOptions(e=tl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:noe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tl){return this.component?this.component.multipleInstances?e:tl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function noe(t){return t===tl?void 0:t}function roe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ioe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new toe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const aoe={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},soe=Ye.INFO,ooe={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},loe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ooe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qN{constructor(e){this.name=e,this._logLevel=soe,this._logHandler=loe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aoe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const uoe=(t,e)=>e.some(n=>t instanceof n);let hR,dR;function coe(){return hR||(hR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hoe(){return dR||(dR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GN=new WeakMap,T1=new WeakMap,WN=new WeakMap,z0=new WeakMap,gT=new WeakMap;function doe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Js(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&GN.set(n,t)}).catch(()=>{}),gT.set(e,t),e}function foe(t){if(T1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});T1.set(t,e)}let E1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return T1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function moe(t){E1=t(E1)}function poe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(F0(this),e,...n);return WN.set(r,e.sort?e.sort():[e]),Js(r)}:hoe().includes(t)?function(...e){return t.apply(F0(this),e),Js(GN.get(this))}:function(...e){return Js(t.apply(F0(this),e))}}function goe(t){return typeof t=="function"?poe(t):(t instanceof IDBTransaction&&foe(t),uoe(t,coe())?new Proxy(t,E1):t)}function Js(t){if(t instanceof IDBRequest)return doe(t);if(z0.has(t))return z0.get(t);const e=goe(t);return e!==t&&(z0.set(t,e),gT.set(e,t)),e}const F0=t=>gT.get(t);function yoe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Js(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Js(s.result),l.oldVersion,l.newVersion,Js(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const voe=["get","getKey","getAll","getAllKeys","count"],_oe=["put","add","delete","clear"],B0=new Map;function fR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(B0.get(e))return B0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_oe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||voe.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return B0.set(e,a),a}moe(t=>({...t,get:(e,n,r)=>fR(e,n)||t.get(e,n,r),has:(e,n)=>!!fR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(woe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function woe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const x1="@firebase/app",mR="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new qN("@firebase/app"),Soe="@firebase/app-compat",Toe="@firebase/analytics-compat",Eoe="@firebase/analytics",xoe="@firebase/app-check-compat",Aoe="@firebase/app-check",Doe="@firebase/auth",Roe="@firebase/auth-compat",Ioe="@firebase/database",Moe="@firebase/data-connect",Ooe="@firebase/database-compat",Coe="@firebase/functions",Poe="@firebase/functions-compat",Noe="@firebase/installations",koe="@firebase/installations-compat",Voe="@firebase/messaging",Loe="@firebase/messaging-compat",joe="@firebase/performance",$oe="@firebase/performance-compat",Uoe="@firebase/remote-config",zoe="@firebase/remote-config-compat",Foe="@firebase/storage",Boe="@firebase/storage-compat",Yoe="@firebase/firestore",Hoe="@firebase/ai",qoe="@firebase/firestore-compat",Goe="firebase",Woe="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="[DEFAULT]",Koe={[x1]:"fire-core",[Soe]:"fire-core-compat",[Eoe]:"fire-analytics",[Toe]:"fire-analytics-compat",[Aoe]:"fire-app-check",[xoe]:"fire-app-check-compat",[Doe]:"fire-auth",[Roe]:"fire-auth-compat",[Ioe]:"fire-rtdb",[Moe]:"fire-data-connect",[Ooe]:"fire-rtdb-compat",[Coe]:"fire-fn",[Poe]:"fire-fn-compat",[Noe]:"fire-iid",[koe]:"fire-iid-compat",[Voe]:"fire-fcm",[Loe]:"fire-fcm-compat",[joe]:"fire-perf",[$oe]:"fire-perf-compat",[Uoe]:"fire-rc",[zoe]:"fire-rc-compat",[Foe]:"fire-gcs",[Boe]:"fire-gcs-compat",[Yoe]:"fire-fst",[qoe]:"fire-fst-compat",[Hoe]:"fire-vertex","fire-js":"fire-js",[Goe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=new Map,Qoe=new Map,A1=new Map;function pR(t,e){try{t.container.addComponent(e)}catch(n){Fa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oy(t){const e=t.name;if(A1.has(e))return Fa.debug(`There were multiple attempts to register component ${e}.`),!1;A1.set(e,t);for(const n of My.values())pR(n,t);for(const n of Qoe.values())pR(n,t);return!0}function yT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xoe(t,e,n=Iy){yT(t,e).clearInstance(n)}function Zoe(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Joe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},eo=new HN("app","Firebase",Joe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ele{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Af("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tle=Woe;function KN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Iy,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw eo.create("bad-app-name",{appName:String(i)});if(n||(n=$N()),!n)throw eo.create("no-options");const a=My.get(i);if(a){if(uo(n,a.options)&&uo(r,a.config))return a;throw eo.create("duplicate-app",{appName:i})}const s=new ioe(i);for(const l of A1.values())s.addComponent(l);const o=new ele(n,r,s);return My.set(i,o),o}function nle(t=Iy){const e=My.get(t);if(!e&&t===Iy&&$N())return KN();if(!e)throw eo.create("no-app",{appName:t});return e}function hc(t,e,n){let r=Koe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fa.warn(s.join(" "));return}Oy(new Af(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rle="firebase-heartbeat-database",ile=1,Df="firebase-heartbeat-store";let Y0=null;function QN(){return Y0||(Y0=yoe(rle,ile,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Df)}catch(n){console.warn(n)}}}}).catch(t=>{throw eo.create("idb-open",{originalErrorMessage:t.message})})),Y0}async function ale(t){try{const n=(await QN()).transaction(Df),r=await n.objectStore(Df).get(XN(t));return await n.done,r}catch(e){if(e instanceof _h)Fa.warn(e.message);else{const n=eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fa.warn(n.message)}}}async function gR(t,e){try{const r=(await QN()).transaction(Df,"readwrite");await r.objectStore(Df).put(e,XN(t)),await r.done}catch(n){if(n instanceof _h)Fa.warn(n.message);else{const r=eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fa.warn(r.message)}}}function XN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sle=1024,ole=30;class lle{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cle(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=yR();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ole){const s=hle(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yR(),{heartbeatsToSend:r,unsentEntries:i}=ule(this._heartbeatsCache.heartbeats),a=Dy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Fa.warn(n),""}}}function yR(){return new Date().toISOString().substring(0,10)}function ule(t,e=sle){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),vR(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cle{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YN()?Xse().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ale(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vR(t){return Dy(JSON.stringify({version:2,heartbeats:t})).length}function hle(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dle(t){Oy(new Af("platform-logger",e=>new boe(e),"PRIVATE")),Oy(new Af("heartbeat",e=>new lle(e),"PRIVATE")),hc(x1,mR,t),hc(x1,mR,"esm2020"),hc("fire-js","")}dle("");var fle="firebase",mle="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hc(fle,mle,"app");var _R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var to,ZN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function C(){}C.prototype=R.prototype,I.F=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(P,V,$){for(var N=Array(arguments.length-2),me=2;me<arguments.length;me++)N[me-2]=arguments[me];return R.prototype[V].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,R,C){C||(C=0);const P=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)P[V]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(V=0;V<16;++V)P[V]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],V=I.g[2];let $=I.g[3],N;N=R+($^C&(V^$))+P[0]+3614090360&4294967295,R=C+(N<<7&4294967295|N>>>25),N=$+(V^R&(C^V))+P[1]+3905402710&4294967295,$=R+(N<<12&4294967295|N>>>20),N=V+(C^$&(R^C))+P[2]+606105819&4294967295,V=$+(N<<17&4294967295|N>>>15),N=C+(R^V&($^R))+P[3]+3250441966&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+($^C&(V^$))+P[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=$+(V^R&(C^V))+P[5]+1200080426&4294967295,$=R+(N<<12&4294967295|N>>>20),N=V+(C^$&(R^C))+P[6]+2821735955&4294967295,V=$+(N<<17&4294967295|N>>>15),N=C+(R^V&($^R))+P[7]+4249261313&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+($^C&(V^$))+P[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=$+(V^R&(C^V))+P[9]+2336552879&4294967295,$=R+(N<<12&4294967295|N>>>20),N=V+(C^$&(R^C))+P[10]+4294925233&4294967295,V=$+(N<<17&4294967295|N>>>15),N=C+(R^V&($^R))+P[11]+2304563134&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+($^C&(V^$))+P[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=$+(V^R&(C^V))+P[13]+4254626195&4294967295,$=R+(N<<12&4294967295|N>>>20),N=V+(C^$&(R^C))+P[14]+2792965006&4294967295,V=$+(N<<17&4294967295|N>>>15),N=C+(R^V&($^R))+P[15]+1236535329&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(V^$&(C^V))+P[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=$+(C^V&(R^C))+P[6]+3225465664&4294967295,$=R+(N<<9&4294967295|N>>>23),N=V+(R^C&($^R))+P[11]+643717713&4294967295,V=$+(N<<14&4294967295|N>>>18),N=C+($^R&(V^$))+P[0]+3921069994&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^$&(C^V))+P[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=$+(C^V&(R^C))+P[10]+38016083&4294967295,$=R+(N<<9&4294967295|N>>>23),N=V+(R^C&($^R))+P[15]+3634488961&4294967295,V=$+(N<<14&4294967295|N>>>18),N=C+($^R&(V^$))+P[4]+3889429448&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^$&(C^V))+P[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=$+(C^V&(R^C))+P[14]+3275163606&4294967295,$=R+(N<<9&4294967295|N>>>23),N=V+(R^C&($^R))+P[3]+4107603335&4294967295,V=$+(N<<14&4294967295|N>>>18),N=C+($^R&(V^$))+P[8]+1163531501&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^$&(C^V))+P[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=$+(C^V&(R^C))+P[2]+4243563512&4294967295,$=R+(N<<9&4294967295|N>>>23),N=V+(R^C&($^R))+P[7]+1735328473&4294967295,V=$+(N<<14&4294967295|N>>>18),N=C+($^R&(V^$))+P[12]+2368359562&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(C^V^$)+P[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=$+(R^C^V)+P[8]+2272392833&4294967295,$=R+(N<<11&4294967295|N>>>21),N=V+($^R^C)+P[11]+1839030562&4294967295,V=$+(N<<16&4294967295|N>>>16),N=C+(V^$^R)+P[14]+4259657740&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^$)+P[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=$+(R^C^V)+P[4]+1272893353&4294967295,$=R+(N<<11&4294967295|N>>>21),N=V+($^R^C)+P[7]+4139469664&4294967295,V=$+(N<<16&4294967295|N>>>16),N=C+(V^$^R)+P[10]+3200236656&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^$)+P[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=$+(R^C^V)+P[0]+3936430074&4294967295,$=R+(N<<11&4294967295|N>>>21),N=V+($^R^C)+P[3]+3572445317&4294967295,V=$+(N<<16&4294967295|N>>>16),N=C+(V^$^R)+P[6]+76029189&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^$)+P[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=$+(R^C^V)+P[12]+3873151461&4294967295,$=R+(N<<11&4294967295|N>>>21),N=V+($^R^C)+P[15]+530742520&4294967295,V=$+(N<<16&4294967295|N>>>16),N=C+(V^$^R)+P[2]+3299628645&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(V^(C|~$))+P[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=$+(C^(R|~V))+P[7]+1126891415&4294967295,$=R+(N<<10&4294967295|N>>>22),N=V+(R^($|~C))+P[14]+2878612391&4294967295,V=$+(N<<15&4294967295|N>>>17),N=C+($^(V|~R))+P[5]+4237533241&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~$))+P[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=$+(C^(R|~V))+P[3]+2399980690&4294967295,$=R+(N<<10&4294967295|N>>>22),N=V+(R^($|~C))+P[10]+4293915773&4294967295,V=$+(N<<15&4294967295|N>>>17),N=C+($^(V|~R))+P[1]+2240044497&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~$))+P[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=$+(C^(R|~V))+P[15]+4264355552&4294967295,$=R+(N<<10&4294967295|N>>>22),N=V+(R^($|~C))+P[6]+2734768916&4294967295,V=$+(N<<15&4294967295|N>>>17),N=C+($^(V|~R))+P[13]+1309151649&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~$))+P[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=$+(C^(R|~V))+P[11]+3174756917&4294967295,$=R+(N<<10&4294967295|N>>>22),N=V+(R^($|~C))+P[2]+718787259&4294967295,V=$+(N<<15&4294967295|N>>>17),N=C+($^(V|~R))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+$&4294967295}r.prototype.v=function(I,R){R===void 0&&(R=I.length);const C=R-this.blockSize,P=this.C;let V=this.h,$=0;for(;$<R;){if(V==0)for(;$<=C;)i(this,I,$),$+=this.blockSize;if(typeof I=="string"){for(;$<R;)if(P[V++]=I.charCodeAt($++),V==this.blockSize){i(this,P),V=0;break}}else for(;$<R;)if(P[V++]=I[$++],V==this.blockSize){i(this,P),V=0;break}}this.h=V,this.o+=R},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)I[R++]=this.g[C]>>>P&255;return I};function a(I,R){var C=o;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function s(I,R){this.h=R;const C=[];let P=!0;for(let V=I.length-1;V>=0;V--){const $=I[V]|0;P&&$==R||(C[V]=$,P=!1)}this.g=C}var o={};function l(I){return-128<=I&&I<128?a(I,function(R){return new s([R|0],R<0?-1:0)}):new s([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(I<0)return S(u(-I));const R=[];let C=1;for(let P=0;I>=C;P++)R[P]=I/C|0,C*=4294967296;return new s(R,0)}function d(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return S(d(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(R,8));let P=f;for(let $=0;$<I.length;$+=8){var V=Math.min(8,I.length-$);const N=parseInt(I.substring($,$+V),R);V<8?(V=u(Math.pow(R,V)),P=P.j(V).add(u(N))):(P=P.j(C),P=P.add(u(N)))}return P}var f=l(0),m=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(b(this))return-S(this).m();let I=0,R=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);I+=(P>=0?P:4294967296+P)*R,R*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(b(this))return"-"+S(this).toString(I);const R=u(Math.pow(I,6));var C=this;let P="";for(;;){const V=O(C,R).g;C=_(C,V.j(R));let $=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=V,A(C))return $+P;for(;$.length<6;)$="0"+$;P=$+P}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=_(this,I),b(I)?-1:A(I)?0:1};function S(I){const R=I.g.length,C=[];for(let P=0;P<R;P++)C[P]=~I.g[P];return new s(C,~I.h).add(m)}t.abs=function(){return b(this)?S(this):this},t.add=function(I){const R=Math.max(this.g.length,I.g.length),C=[];let P=0;for(let V=0;V<=R;V++){let $=P+(this.i(V)&65535)+(I.i(V)&65535),N=($>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);P=N>>>16,$&=65535,N&=65535,C[V]=N<<16|$}return new s(C,C[C.length-1]&-2147483648?-1:0)};function _(I,R){return I.add(S(R))}t.j=function(I){if(A(this)||A(I))return f;if(b(this))return b(I)?S(this).j(S(I)):S(S(this).j(I));if(b(I))return S(this.j(S(I)));if(this.l(g)<0&&I.l(g)<0)return u(this.m()*I.m());const R=this.g.length+I.g.length,C=[];for(var P=0;P<2*R;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let V=0;V<I.g.length;V++){const $=this.i(P)>>>16,N=this.i(P)&65535,me=I.i(V)>>>16,be=I.i(V)&65535;C[2*P+2*V]+=N*be,T(C,2*P+2*V),C[2*P+2*V+1]+=$*be,T(C,2*P+2*V+1),C[2*P+2*V+1]+=N*me,T(C,2*P+2*V+1),C[2*P+2*V+2]+=$*me,T(C,2*P+2*V+2)}for(I=0;I<R;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=R;I<2*R;I++)C[I]=0;return new s(C,0)};function T(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function D(I,R){this.g=I,this.h=R}function O(I,R){if(A(R))throw Error("division by zero");if(A(I))return new D(f,f);if(b(I))return R=O(S(I),R),new D(S(R.g),S(R.h));if(b(R))return R=O(I,S(R)),new D(S(R.g),R.h);if(I.g.length>30){if(b(I)||b(R))throw Error("slowDivide_ only works with positive integers.");for(var C=m,P=R;P.l(I)<=0;)C=L(C),P=L(P);var V=z(C,1),$=z(P,1);for(P=z(P,2),C=z(C,2);!A(P);){var N=$.add(P);N.l(I)<=0&&(V=V.add(C),$=N),P=z(P,1),C=z(C,1)}return R=_(I,V.j(R)),new D(V,R)}for(V=f;I.l(R)>=0;){for(C=Math.max(1,Math.floor(I.m()/R.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),$=u(C),N=$.j(R);b(N)||N.l(I)>0;)C-=P,$=u(C),N=$.j(R);A($)&&($=m),V=V.add($),I=_(I,N)}return new D(V,I)}t.B=function(I){return O(this,I).h},t.and=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)&I.i(P);return new s(C,this.h&I.h)},t.or=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)|I.i(P);return new s(C,this.h|I.h)},t.xor=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)^I.i(P);return new s(C,this.h^I.h)};function L(I){const R=I.g.length+1,C=[];for(let P=0;P<R;P++)C[P]=I.i(P)<<1|I.i(P-1)>>>31;return new s(C,I.h)}function z(I,R){const C=R>>5;R%=32;const P=I.g.length-C,V=[];for(let $=0;$<P;$++)V[$]=R>0?I.i($+C)>>>R|I.i($+C+1)<<32-R:I.i($+C);return new s(V,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ZN=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,to=s}).apply(typeof _R<"u"?_R:typeof self<"u"?self:typeof window<"u"?window:{});var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JN,fd,ek,Tg,D1,tk,nk,rk;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof qp=="object"&&qp];for(var y=0;y<h.length;++y){var x=h[y];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(h,y){if(y)e:{var x=r;h=h.split(".");for(var k=0;k<h.length-1;k++){var Y=h[k];if(!(Y in x))break e;x=x[Y]}h=h[h.length-1],k=x[h],y=y(k),y!=k&&y!=null&&e(x,h,{configurable:!0,writable:!0,value:y})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(y){var x=[],k;for(k in y)Object.prototype.hasOwnProperty.call(y,k)&&x.push([k,y[k]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function l(h,y,x){return h.call.apply(h.bind,arguments)}function u(h,y,x){return u=l,u.apply(null,arguments)}function d(h,y){var x=Array.prototype.slice.call(arguments,1);return function(){var k=x.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function f(h,y){function x(){}x.prototype=y.prototype,h.Z=y.prototype,h.prototype=new x,h.prototype.constructor=h,h.Ob=function(k,Y,G){for(var he=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)he[Ie-2]=arguments[Ie];return y.prototype[Y].apply(k,he)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function g(h){const y=h.length;if(y>0){const x=Array(y);for(let k=0;k<y;k++)x[k]=h[k];return x}return[]}function A(h,y){for(let k=1;k<arguments.length;k++){const Y=arguments[k];var x=typeof Y;if(x=x!="object"?x:Y?Array.isArray(Y)?"array":x:"null",x=="array"||x=="object"&&typeof Y.length=="number"){x=h.length||0;const G=Y.length||0;h.length=x+G;for(let he=0;he<G;he++)h[x+he]=Y[he]}else h.push(Y)}}class b{constructor(y,x){this.i=y,this.j=x,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function S(h){s.setTimeout(()=>{throw h},0)}function _(){var h=I;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class T{constructor(){this.h=this.g=null}add(y,x){const k=D.get();k.set(y,x),this.h?this.h.next=k:this.g=k,this.h=k}}var D=new b(()=>new O,h=>h.reset());class O{constructor(){this.next=this.g=this.h=null}set(y,x){this.h=y,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let L,z=!1,I=new T,R=()=>{const h=Promise.resolve(void 0);L=()=>{h.then(C)}};function C(){for(var h;h=_();){try{h.h.call(h.g)}catch(x){S(x)}var y=D;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}z=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const x=()=>{};s.addEventListener("test",x,y),s.removeEventListener("test",x,y)}catch{}return h}();function N(h){return/^[\s\xa0]*$/.test(h)}function me(h,y){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}f(me,V),me.prototype.init=function(h,y){const x=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(x=="mouseover"?y=h.fromElement:x=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),X=0;function j(h,y,x,k,Y){this.listener=h,this.proxy=null,this.src=y,this.type=x,this.capture=!!k,this.ha=Y,this.key=++X,this.da=this.fa=!1}function J(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function se(h,y,x){for(const k in h)y.call(x,h[k],k,h)}function ue(h,y){for(const x in h)y.call(void 0,h[x],x,h)}function Q(h){const y={};for(const x in h)y[x]=h[x];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(h,y){let x,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(x in k)h[x]=k[x];for(let G=0;G<Z.length;G++)x=Z[G],Object.prototype.hasOwnProperty.call(k,x)&&(h[x]=k[x])}}function ae(h){this.src=h,this.g={},this.h=0}ae.prototype.add=function(h,y,x,k,Y){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const he=xe(h,y,k,Y);return he>-1?(y=h[he],x||(y.fa=!1)):(y=new j(y,this.src,G,!!k,Y),y.fa=x,h.push(y)),y};function W(h,y){const x=y.type;if(x in h.g){var k=h.g[x],Y=Array.prototype.indexOf.call(k,y,void 0),G;(G=Y>=0)&&Array.prototype.splice.call(k,Y,1),G&&(J(y),h.g[x].length==0&&(delete h.g[x],h.h--))}}function xe(h,y,x,k){for(let Y=0;Y<h.length;++Y){const G=h[Y];if(!G.da&&G.listener==y&&G.capture==!!x&&G.ha==k)return Y}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Re={};function Lt(h,y,x,k,Y){if(k&&k.once)return gi(h,y,x,k,Y);if(Array.isArray(y)){for(let G=0;G<y.length;G++)Lt(h,y[G],x,k,Y);return null}return x=Oo(x),h&&h[be]?h.J(y,x,o(k)?!!k.capture:!!k,Y):Bn(h,y,x,!1,k,Y)}function Bn(h,y,x,k,Y,G){if(!y)throw Error("Invalid event type");const he=o(Y)?!!Y.capture:!!Y;let Ie=es(h);if(Ie||(h[Pe]=Ie=new ae(h)),x=Ie.add(y,x,k,he,G),x.proxy)return x;if(k=Qr(),x.proxy=k,k.src=h,k.listener=x,h.addEventListener)$||(Y=he),Y===void 0&&(Y=!1),h.addEventListener(y.toString(),k,Y);else if(h.attachEvent)h.attachEvent(iu(y.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Qr(){function h(x){return y.call(h.src,h.listener,x)}const y=au;return h}function gi(h,y,x,k,Y){if(Array.isArray(y)){for(let G=0;G<y.length;G++)gi(h,y[G],x,k,Y);return null}return x=Oo(x),h&&h[be]?h.K(y,x,o(k)?!!k.capture:!!k,Y):Bn(h,y,x,!0,k,Y)}function Zi(h,y,x,k,Y){if(Array.isArray(y))for(var G=0;G<y.length;G++)Zi(h,y[G],x,k,Y);else k=o(k)?!!k.capture:!!k,x=Oo(x),h&&h[be]?(h=h.i,G=String(y).toString(),G in h.g&&(y=h.g[G],x=xe(y,x,k,Y),x>-1&&(J(y[x]),Array.prototype.splice.call(y,x,1),y.length==0&&(delete h.g[G],h.h--)))):h&&(h=es(h))&&(y=h.g[y.toString()],h=-1,y&&(h=xe(y,x,k,Y)),(x=h>-1?y[h]:null)&&Ji(x))}function Ji(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[be])W(y.i,h);else{var x=h.type,k=h.proxy;y.removeEventListener?y.removeEventListener(x,k,h.capture):y.detachEvent?y.detachEvent(iu(x),k):y.addListener&&y.removeListener&&y.removeListener(k),(x=es(y))?(W(x,h),x.h==0&&(x.src=null,y[Pe]=null)):J(h)}}}function iu(h){return h in Re?Re[h]:Re[h]="on"+h}function au(h,y){if(h.da)h=!0;else{y=new me(y,this);const x=h.listener,k=h.ha||h.src;h.fa&&Ji(h),h=x.call(k,y)}return h}function es(h){return h=h[Pe],h instanceof ae?h:null}var Mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(h){return typeof h=="function"?h:(h[Mo]||(h[Mo]=function(y){return h.handleEvent(y)}),h[Mo])}function ht(){P.call(this),this.i=new ae(this),this.M=this,this.G=null}f(ht,P),ht.prototype[be]=!0,ht.prototype.removeEventListener=function(h,y,x,k){Zi(this,h,y,x,k)};function Ge(h,y){var x,k=h.G;if(k)for(x=[];k;k=k.G)x.push(k);if(h=h.M,k=y.type||y,typeof y=="string")y=new V(y,h);else if(y instanceof V)y.target=y.target||h;else{var Y=y;y=new V(k,h),re(y,Y)}Y=!0;let G,he;if(x)for(he=x.length-1;he>=0;he--)G=y.g=x[he],Y=Xr(G,k,!0,y)&&Y;if(G=y.g=h,Y=Xr(G,k,!0,y)&&Y,Y=Xr(G,k,!1,y)&&Y,x)for(he=0;he<x.length;he++)G=y.g=x[he],Y=Xr(G,k,!1,y)&&Y}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const x=h.g[y];for(let k=0;k<x.length;k++)J(x[k]);delete h.g[y],h.h--}}this.G=null},ht.prototype.J=function(h,y,x,k){return this.i.add(String(h),y,!1,x,k)},ht.prototype.K=function(h,y,x,k){return this.i.add(String(h),y,!0,x,k)};function Xr(h,y,x,k){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let Y=!0;for(let G=0;G<y.length;++G){const he=y[G];if(he&&!he.da&&he.capture==x){const Ie=he.listener,yt=he.ha||he.src;he.fa&&W(h.i,he),Y=Ie.call(yt,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function su(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:s.setTimeout(h,y||0)}function ts(h){h.g=su(()=>{h.g=null,h.i&&(h.i=!1,ts(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Co extends P{constructor(y,x){super(),this.m=y,this.l=x,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ts(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zt(h){P.call(this),this.h=h,this.g={}}f(zt,P);var ns=[];function ea(h){se(h.g,function(y,x){this.g.hasOwnProperty(x)&&Ji(y)},h),h.g={}}zt.prototype.N=function(){zt.Z.N.call(this),ea(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=s.JSON.stringify,dt=s.JSON.parse,$m=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function Mh(){}function Po(){}var ta={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function is(){V.call(this,"d")}f(is,V);function yi(){V.call(this,"c")}f(yi,V);var Dr={},Um=null;function na(){return Um=Um||new ht}Dr.Ia="serverreachability";function zm(h){V.call(this,Dr.Ia,h)}f(zm,V);function Zr(h){const y=na();Ge(y,new zm(y))}Dr.STAT_EVENT="statevent";function ra(h,y){V.call(this,Dr.STAT_EVENT,h),this.stat=y}f(ra,V);function sn(h){const y=na();Ge(y,new ra(y,h))}Dr.Ja="timingevent";function No(h,y){V.call(this,Dr.Ja,h),this.size=y}f(No,V);function pe(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},y)}function ko(){this.g=!0}ko.prototype.ua=function(){this.g=!1};function S_(h,y,x,k,Y,G){h.info(function(){if(h.g)if(G){var he="",Ie=G.split("&");for(let tt=0;tt<Ie.length;tt++){var yt=Ie[tt].split("=");if(yt.length>1){const Yt=yt[0];yt=yt[1];const Mr=Yt.split("_");he=Mr.length>=2&&Mr[1]=="type"?he+(Yt+"="+yt+"&"):he+(Yt+"=redacted&")}}}else he=null;else he=G;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+y+`
`+x+`
`+he})}function Jr(h,y,x,k,Y,G,he){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+y+`
`+x+`
`+G+" "+he})}function on(h,y,x,k){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Oh(h,x)+(k?" "+k:"")})}function Ne(h,y){h.info(function(){return"TIMEOUT: "+y})}ko.prototype.info=function(){};function Oh(h,y){if(!h.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var x=G[h];if(!(x.length<2)){var k=x[1];if(Array.isArray(k)&&!(k.length<1)){var Y=k[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let he=1;he<k.length;he++)k[he]=""}}}}return rs(G)}catch{return y}}var We={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},as={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fm;function ss(){}f(ss,Mh),ss.prototype.g=function(){return new XMLHttpRequest},Fm=new ss;function Ft(h){return encodeURIComponent(String(h))}function ei(h){var y=1;h=h.split(":");const x=[];for(;y>0&&h.length;)x.push(h.shift()),y--;return h.length&&x.push(h.join(":")),x}function ln(h,y,x,k){this.j=h,this.i=y,this.l=x,this.S=k||1,this.V=new zt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bt}function Bt(){this.i=null,this.g="",this.h=!1}var Qn={},cr={};function ti(h,y,x){h.M=1,h.A=hu(Rr(y)),h.u=x,h.R=!0,Bm(h,null)}function Bm(h,y){h.F=Date.now(),ou(h),h.B=Rr(h.A);var x=h.B,k=h.S;Array.isArray(k)||(k=[String(k)]),Jm(x.i,"t",k),h.C=0,x=h.j.L,h.h=new Bt,h.g=hp(h.j,x?y:null,!h.u),h.P>0&&(h.O=new Co(u(h.Y,h,h.g),h.P)),y=h.V,x=h.g,k=h.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(ns[0]=Y.toString()),Y=ns);for(let G=0;G<Y.length;G++){const he=Lt(x,Y[G],k||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=h.J?Q(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Zr(),S_(h.i,h.v,h.B,h.l,h.S,h.u)}ln.prototype.ba=function(h){h=h.target;const y=this.O;y&&wi(h)==3?y.j():this.Y(h)},ln.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=wi(this.g),yt=this.g.ya(),tt=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Vh(this.g)))){this.K||Ie!=4||yt==7||(yt==8||tt<=0?Zr(3):Zr(2)),aa(this);var y=this.g.ca();this.X=y;var x=T_(this);if(this.o=y==200,Jr(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var k,Y=this.g;if((k=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(k)){var G=k;break t}}G=null}if(h=G)on(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ch(this,h);else{this.o=!1,this.m=3,sn(12),sa(this),ls(this);break e}}if(this.R){h=!0;let Yt;for(;!this.K&&this.C<x.length;)if(Yt=Ym(this,x),Yt==cr){Ie==4&&(this.m=4,sn(14),h=!1),on(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Qn){this.m=4,sn(15),on(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else on(this.i,this.l,Yt,null),Ch(this,Yt);if(os(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||x.length!=0||this.h.h||(this.m=1,sn(16),h=!1),this.o=this.o&&h,!h)on(this.i,this.l,x,"[Invalid Chunked Response]"),sa(this),ls(this);else if(x.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),ms(he),he.P=!0,sn(11))}}else on(this.i,this.l,x,null),Ch(this,x);Ie==4&&sa(this),this.o&&!this.K&&(Ie==4?up(this.j,this):(this.o=!1,ou(this)))}else sp(this.g),y==400&&x.indexOf("Unknown SID")>0?(this.m=3,sn(12)):(this.m=0,sn(13)),sa(this),ls(this)}}}catch{}finally{}};function T_(h){if(!os(h))return h.g.la();const y=Vh(h.g);if(y==="")return"";let x="";const k=y.length,Y=wi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return sa(h),ls(h),"";h.h.i=new s.TextDecoder}for(let G=0;G<k;G++)h.h.h=!0,x+=h.h.i.decode(y[G],{stream:!(Y&&G==k-1)});return y.length=0,h.h.g+=x,h.C=0,h.h.g}function os(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ym(h,y){var x=h.C,k=y.indexOf(`
`,x);return k==-1?cr:(x=Number(y.substring(x,k)),isNaN(x)?Qn:(k+=1,k+x>y.length?cr:(y=y.slice(k,k+x),h.C=k+x,y)))}ln.prototype.cancel=function(){this.K=!0,sa(this)};function ou(h){h.T=Date.now()+h.H,ia(h,h.H)}function ia(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=pe(u(h.aa,h),y)}function aa(h){h.D&&(s.clearTimeout(h.D),h.D=null)}ln.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ne(this.i,this.B),this.M!=2&&(Zr(),sn(17)),sa(this),this.m=2,ls(this)):ia(this,this.T-h)};function ls(h){h.j.I==0||h.K||up(h.j,h)}function sa(h){aa(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,ea(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ch(h,y){try{var x=h.j;if(x.I!=0&&(x.g==h||uu(x.h,h))){if(!h.L&&uu(x.h,h)&&x.I==3){try{var k=x.Ba.g.parse(y)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<h.F)ps(x),mu(x);else break e;Uh(x),sn(18)}}else x.xa=Y[1],0<x.xa-x.K&&Y[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=pe(u(x.Va,x),6e3));Hm(x.h)<=1&&x.ta&&(x.ta=void 0)}else la(x,11)}else if((h.L||x.g==h)&&ps(x),!N(y))for(Y=x.Ba.g.parse(y),y=0;y<Y.length;y++){let tt=Y[y];const Yt=tt[0];if(!(Yt<=x.K))if(x.K=Yt,tt=tt[1],x.I==2)if(tt[0]=="c"){x.M=tt[1],x.ba=tt[2];const Mr=tt[3];Mr!=null&&(x.ka=Mr,x.j.info("VER="+x.ka));const ii=tt[4];ii!=null&&(x.za=ii,x.j.info("SVER="+x.za));const Si=tt[5];Si!=null&&typeof Si=="number"&&Si>0&&(k=1.5*Si,x.O=k,x.j.info("backChannelRequestTimeoutMs_="+k)),k=x;const Ti=h.g;if(Ti){const gu=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gu){var G=k.h;G.g||gu.indexOf("spdy")==-1&&gu.indexOf("quic")==-1&&gu.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(cu(G,G.h),G.h=null))}if(k.G){const zh=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;zh&&(k.wa=zh,ft(k.J,k.G,zh))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-h.F,x.j.info("Handshake RTT: "+x.T+"ms")),k=x;var he=h;if(k.na=cp(k,k.L?k.ba:null,k.W),he.L){qm(k.h,he);var Ie=he,yt=k.O;yt&&(Ie.H=yt),Ie.D&&(aa(Ie),ou(Ie)),k.g=he}else lp(k);x.i.length>0&&et(x)}else tt[0]!="stop"&&tt[0]!="close"||la(x,7);else x.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?la(x,7):Lh(x):tt[0]!="noop"&&x.l&&x.l.qa(tt),x.A=0)}}Zr(4)}catch{}}var E_=class{constructor(h,y){this.g=h,this.map=y}};function Rt(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lu(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Hm(h){return h.h?1:h.g?h.g.size:0}function uu(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function cu(h,y){h.g?h.g.add(y):h.h=y}function qm(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Rt.prototype.cancel=function(){if(this.i=Gm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Gm(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const x of h.g.values())y=y.concat(x.G);return y}return g(h.i)}var Wm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function x_(h,y){if(h){h=h.split("&");for(let x=0;x<h.length;x++){const k=h[x].indexOf("=");let Y,G=null;k>=0?(Y=h[x].substring(0,k),G=h[x].substring(k+1)):Y=h[x],y(Y,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function vi(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof vi?(this.l=h.l,us(this,h.j),this.o=h.o,this.g=h.g,cs(this,h.u),this.h=h.h,Ph(this,ep(h.i)),this.m=h.m):h&&(y=String(h).match(Wm))?(this.l=!1,us(this,y[1]||"",!0),this.o=hs(y[2]||""),this.g=hs(y[3]||"",!0),cs(this,y[4]),this.h=hs(y[5]||"",!0),Ph(this,y[6]||"",!0),this.m=hs(y[7]||"")):(this.l=!1,this.i=new Uo(null,this.l))}vi.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Vo(y,jo,!0),":");var x=this.g;return(x||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Vo(y,jo,!0),"@"),h.push(Ft(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&h.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&h.push("/"),h.push(Vo(x,x.charAt(0)=="/"?$o:Km,!0))),(x=this.i.toString())&&h.push("?",x),(x=this.m)&&h.push("#",Vo(x,A_)),h.join("")},vi.prototype.resolve=function(h){const y=Rr(this);let x=!!h.j;x?us(y,h.j):x=!!h.o,x?y.o=h.o:x=!!h.g,x?y.g=h.g:x=h.u!=null;var k=h.h;if(x)cs(y,h.u);else if(x=!!h.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Y=y.h.lastIndexOf("/");Y!=-1&&(k=y.h.slice(0,Y+1)+k)}if(Y=k,Y==".."||Y==".")k="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){k=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const G=[];for(let he=0;he<Y.length;){const Ie=Y[he++];Ie=="."?k&&he==Y.length&&G.push(""):Ie==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),k&&he==Y.length&&G.push("")):(G.push(Ie),k=!0)}k=G.join("/")}else k=Y}return x?y.h=k:x=h.i.toString()!=="",x?Ph(y,ep(h.i)):x=!!h.m,x&&(y.m=h.m),y};function Rr(h){return new vi(h)}function us(h,y,x){h.j=x?hs(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function cs(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Ph(h,y,x){y instanceof Uo?(h.i=y,D_(h.i,h.l)):(x||(y=Vo(y,ni)),h.i=new Uo(y,h.l))}function ft(h,y,x){h.i.set(y,x)}function hu(h){return ft(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function hs(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vo(h,y,x){return typeof h=="string"?(h=encodeURI(h).replace(y,Lo),x&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Lo(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var jo=/[#\/\?@]/g,Km=/[#\?:]/g,$o=/[#\?]/g,ni=/[#\?@]/g,A_=/#/g;function Uo(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function oa(h){h.g||(h.g=new Map,h.h=0,h.i&&x_(h.i,function(y,x){h.add(decodeURIComponent(y.replace(/\+/g," ")),x)}))}t=Uo.prototype,t.add=function(h,y){oa(this),this.i=null,h=_i(this,h);let x=this.g.get(h);return x||this.g.set(h,x=[]),x.push(y),this.h+=1,this};function Qm(h,y){oa(h),y=_i(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Xm(h,y){return oa(h),y=_i(h,y),h.g.has(y)}t.forEach=function(h,y){oa(this),this.g.forEach(function(x,k){x.forEach(function(Y){h.call(y,Y,k,this)},this)},this)};function Zm(h,y){oa(h);let x=[];if(typeof y=="string")Xm(h,y)&&(x=x.concat(h.g.get(_i(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)x=x.concat(h[y]);return x}t.set=function(h,y){return oa(this),this.i=null,h=_i(this,h),Xm(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=Zm(this,h),h.length>0?String(h[0]):y):y};function Jm(h,y,x){Qm(h,y),x.length>0&&(h.i=null,h.g.set(_i(h,y),g(x)),h.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let k=0;k<y.length;k++){var x=y[k];const Y=Ft(x);x=Zm(this,x);for(let G=0;G<x.length;G++){let he=Y;x[G]!==""&&(he+="="+Ft(x[G])),h.push(he)}}return this.i=h.join("&")};function ep(h){const y=new Uo;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function _i(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function D_(h,y){y&&!h.j&&(oa(h),h.i=null,h.g.forEach(function(x,k){const Y=k.toLowerCase();k!=Y&&(Qm(this,k),Jm(this,Y,x))},h)),h.j=y}function tp(h,y){const x=new ko;if(s.Image){const k=new Image;k.onload=d(bi,x,"TestLoadImage: loaded",!0,y,k),k.onerror=d(bi,x,"TestLoadImage: error",!1,y,k),k.onabort=d(bi,x,"TestLoadImage: abort",!1,y,k),k.ontimeout=d(bi,x,"TestLoadImage: timeout",!1,y,k),s.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else y(!1)}function R_(h,y){const x=new ko,k=new AbortController,Y=setTimeout(()=>{k.abort(),bi(x,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:k.signal}).then(G=>{clearTimeout(Y),G.ok?bi(x,"TestPingServer: ok",!0,y):bi(x,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),bi(x,"TestPingServer: error",!1,y)})}function bi(h,y,x,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(x)}catch{}}function I_(){this.g=new $m}function Nh(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Nh,Mh),Nh.prototype.g=function(){return new du(this.i,this.h)};function du(h,y){ht.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(du,ht),t=du.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Fo(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||s).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zo(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Fo(this)),this.g&&(this.readyState=3,Fo(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;np(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function np(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?zo(this):Fo(this),this.readyState==3&&np(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,zo(this))},t.Na=function(h){this.g&&(this.response=h,zo(this))},t.ga=function(){this.g&&zo(this)};function zo(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Fo(h)}t.setRequestHeader=function(h,y){this.A.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var x=y.next();!x.done;)x=x.value,h.push(x[0]+": "+x[1]),x=y.next();return h.join(`\r
`)};function Fo(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(du.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function rp(h){let y="";return se(h,function(x,k){y+=k,y+=":",y+=x,y+=`\r
`}),y}function kh(h,y,x){e:{for(k in x){var k=!1;break e}k=!0}k||(x=rp(x),typeof h=="string"?x!=null&&Ft(x):ft(h,y,x))}function It(h){ht.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(It,ht);var M_=/^https?$/i,O_=["POST","PUT"];t=It.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,y,x,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fm.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(G){ip(this,G);return}if(h=x||"",x=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)x.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const G of k.keys())x.set(G,k.get(G));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(x.keys()).find(G=>G.toLowerCase()=="content-type"),Y=s.FormData&&h instanceof s.FormData,!(Array.prototype.indexOf.call(O_,y,void 0)>=0)||k||Y||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,he]of x)this.g.setRequestHeader(G,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){ip(this,G)}};function ip(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,ap(h),ds(h)}function ap(h){h.A||(h.A=!0,Ge(h,"complete"),Ge(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ge(this,"complete"),Ge(this,"abort"),ds(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),It.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fu(this):this.Xa())},t.Xa=function(){fu(this)};function fu(h){if(h.h&&typeof a<"u"){if(h.v&&wi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ge(h,"readystatechange"),wi(h)==4){h.h=!1;try{const G=h.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var x;if(!(x=y)){var k;if(k=G===0){let he=String(h.D).match(Wm)[1]||null;!he&&s.self&&s.self.location&&(he=s.self.location.protocol.slice(0,-1)),k=!M_.test(he?he.toLowerCase():"")}x=k}if(x)Ge(h,"complete"),Ge(h,"success");else{h.o=6;try{var Y=wi(h)>2?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.ca()+"]",ap(h)}}finally{ds(h)}}}}function ds(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const x=h.g;h.g=null,y||Ge(h,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function wi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return wi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),dt(y)}};function Vh(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function sp(h){const y={};h=(h.g&&wi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(N(h[k]))continue;var x=ei(h[k]);const Y=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const G=y[Y]||[];y[Y]=G,G.push(x)}ue(y,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bo(h,y,x){return x&&x.internalChannelParams&&x.internalChannelParams[h]||y}function op(h){this.za=0,this.i=[],this.j=new ko,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bo("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bo("baseRetryDelayMs",5e3,h),this.Za=Bo("retryDelaySeedMs",1e4,h),this.Ta=Bo("forwardChannelMaxRetries",2,h),this.va=Bo("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Rt(h&&h.concurrentRequestLimit),this.Ba=new I_,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=op.prototype,t.ka=8,t.I=1,t.connect=function(h,y,x,k){sn(0),this.W=h,this.H=y||{},x&&k!==void 0&&(this.H.OSID=x,this.H.OAID=k),this.F=this.X,this.J=cp(this,null,this.W),et(this)};function Lh(h){if(jh(h),h.I==3){var y=h.V++,x=Rr(h.J);if(ft(x,"SID",h.M),ft(x,"RID",y),ft(x,"TYPE","terminate"),Ho(h,x),y=new ln(h,h.j,y),y.M=2,y.A=hu(Rr(x)),x=!1,s.navigator&&s.navigator.sendBeacon)try{x=s.navigator.sendBeacon(y.A.toString(),"")}catch{}!x&&s.Image&&(new Image().src=y.A,x=!0),x||(y.g=hp(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ou(y)}pu(h)}function mu(h){h.g&&(ms(h),h.g.cancel(),h.g=null)}function jh(h){mu(h),h.v&&(s.clearTimeout(h.v),h.v=null),ps(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&s.clearTimeout(h.m),h.m=null)}function et(h){if(!lu(h.h)&&!h.m){h.m=!0;var y=h.Ea;L||R(),z||(L(),z=!0),I.add(y,h),h.D=0}}function Yo(h,y){return Hm(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=pe(u(h.Ea,h,y),Ir(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Y=new ln(this,this.j,h);let G=this.o;if(this.U&&(G?(G=Q(G),re(G,this.U)):G=this.U),this.u!==null||this.R||(Y.J=G,G=null),this.S)e:{for(var y=0,x=0;x<this.i.length;x++){t:{var k=this.i[x];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(y+=k,y>4096){y=x;break e}if(y===4096||x===this.i.length-1){y=x+1;break e}}y=1e3}else y=1e3;y=$h(this,Y,y),x=Rr(this.J),ft(x,"RID",h),ft(x,"CVER",22),this.G&&ft(x,"X-HTTP-Session-Id",this.G),Ho(this,x),G&&(this.R?y="headers="+Ft(rp(G))+"&"+y:this.u&&kh(x,this.u,G)),cu(this.h,Y),this.Ra&&ft(x,"TYPE","init"),this.S?(ft(x,"$req",y),ft(x,"SID","null"),Y.U=!0,ti(Y,x,null)):ti(Y,x,y),this.I=2}}else this.I==3&&(h?fs(this,h):this.i.length==0||lu(this.h)||fs(this))};function fs(h,y){var x;y?x=y.l:x=h.V++;const k=Rr(h.J);ft(k,"SID",h.M),ft(k,"RID",x),ft(k,"AID",h.K),Ho(h,k),h.u&&h.o&&kh(k,h.u,h.o),x=new ln(h,h.j,x,h.D+1),h.u===null&&(x.J=h.o),y&&(h.i=y.G.concat(h.i)),y=$h(h,x,1e3),x.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),cu(h.h,x),ti(x,k,y)}function Ho(h,y){h.H&&se(h.H,function(x,k){ft(y,k,x)}),h.l&&se({},function(x,k){ft(y,k,x)})}function $h(h,y,x){x=Math.min(h.i.length,x);const k=h.l?u(h.l.Ka,h.l,h):null;e:{var Y=h.i;let Ie=-1;for(;;){const yt=["count="+x];Ie==-1?x>0?(Ie=Y[0].g,yt.push("ofs="+Ie)):Ie=0:yt.push("ofs="+Ie);let tt=!0;for(let Yt=0;Yt<x;Yt++){var G=Y[Yt].g;const Mr=Y[Yt].map;if(G-=Ie,G<0)Ie=Math.max(0,Y[Yt].g-100),tt=!1;else try{G="req"+G+"_"||"";try{var he=Mr instanceof Map?Mr:Object.entries(Mr);for(const[ii,Si]of he){let Ti=Si;o(Si)&&(Ti=rs(Si)),yt.push(G+ii+"="+encodeURIComponent(Ti))}}catch(ii){throw yt.push(G+"type="+encodeURIComponent("_badmap")),ii}}catch{k&&k(Mr)}}if(tt){he=yt.join("&");break e}}he=void 0}return h=h.i.splice(0,x),y.G=h,he}function lp(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;L||R(),z||(L(),z=!0),I.add(y,h),h.A=0}}function Uh(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=pe(u(h.Da,h),Ir(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,ri(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=pe(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,sn(10),mu(this),ri(this))};function ms(h){h.B!=null&&(s.clearTimeout(h.B),h.B=null)}function ri(h){h.g=new ln(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Rr(h.na);ft(y,"RID","rpc"),ft(y,"SID",h.M),ft(y,"AID",h.K),ft(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&ft(y,"TO",h.ia),ft(y,"TYPE","xmlhttp"),Ho(h,y),h.u&&h.o&&kh(y,h.u,h.o),h.O&&(h.g.H=h.O);var x=h.g;h=h.ba,x.M=1,x.A=hu(Rr(y)),x.u=null,x.R=!0,Bm(x,h)}t.Va=function(){this.C!=null&&(this.C=null,mu(this),Uh(this),sn(19))};function ps(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function up(h,y){var x=null;if(h.g==y){ps(h),ms(h),h.g=null;var k=2}else if(uu(h.h,y))x=y.G,qm(h.h,y),k=1;else return;if(h.I!=0){if(y.o)if(k==1){x=y.u?y.u.length:0,y=Date.now()-y.F;var Y=h.D;k=na(),Ge(k,new No(k,x)),et(h)}else lp(h);else if(Y=y.m,Y==3||Y==0&&y.X>0||!(k==1&&Yo(h,y)||k==2&&Uh(h)))switch(x&&x.length>0&&(y=h.h,y.i=y.i.concat(x)),Y){case 1:la(h,5);break;case 4:la(h,10);break;case 3:la(h,6);break;default:la(h,2)}}}function Ir(h,y){let x=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(x*=2),x*y}function la(h,y){if(h.j.info("Error code "+y),y==2){var x=u(h.bb,h),k=h.Ua;const Y=!k;k=new vi(k||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||us(k,"https"),hu(k),Y?tp(k.toString(),x):R_(k.toString(),x)}else sn(2);h.I=0,h.l&&h.l.pa(y),pu(h),jh(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function pu(h){if(h.I=0,h.ja=[],h.l){const y=Gm(h.h);(y.length!=0||h.i.length!=0)&&(A(h.ja,y),A(h.ja,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.oa()}}function cp(h,y,x){var k=x instanceof vi?Rr(x):new vi(x);if(k.g!="")y&&(k.g=y+"."+k.g),cs(k,k.u);else{var Y=s.location;k=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;const G=new vi(null);k&&us(G,k),y&&(G.g=y),Y&&cs(G,Y),x&&(G.h=x),k=G}return x=h.G,y=h.wa,x&&y&&ft(k,x,y),ft(k,"VER",h.ka),Ho(h,k),k}function hp(h,y,x){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new It(new Nh({ab:x})):new It(h.ma),y.Fa(h.L),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dp(){}t=dp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ua(){}ua.prototype.g=function(h,y){return new xn(h,y)};function xn(h,y){ht.call(this),this.g=new op(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new gs(this)}f(xn,ht),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Lh(this.g)},xn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var x={};x.__data__=h,h=x}else this.v&&(x={},x.__data__=rs(h),h=x);y.i.push(new E_(y.Ya++,h)),y.I==3&&et(y)},xn.prototype.N=function(){this.g.l=null,delete this.j,Lh(this.g),delete this.g,xn.Z.N.call(this)};function fp(h){is.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const x in y){h=x;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}f(fp,is);function mp(){yi.call(this),this.status=1}f(mp,yi);function gs(h){this.g=h}f(gs,dp),gs.prototype.ra=function(){Ge(this.g,"a")},gs.prototype.qa=function(h){Ge(this.g,new fp(h))},gs.prototype.pa=function(h){Ge(this.g,new mp)},gs.prototype.oa=function(){Ge(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,rk=function(){return new ua},nk=function(){return na()},tk=Dr,D1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},We.NO_ERROR=0,We.TIMEOUT=8,We.HTTP_ERROR=6,Tg=We,as.COMPLETE="complete",ek=as,Po.EventType=ta,ta.OPEN="a",ta.CLOSE="b",ta.ERROR="c",ta.MESSAGE="d",ht.prototype.listen=ht.prototype.J,fd=Po,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,JN=It}).apply(typeof qp<"u"?qp:typeof self<"u"?self:typeof window<"u"?window:{});const bR="@firebase/firestore",wR="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new qN("@firebase/firestore");function Vu(){return co.logLevel}function Cde(t){co.setLogLevel(t)}function ne(t,...e){if(co.logLevel<=Ye.DEBUG){const n=e.map(vT);co.debug(`Firestore (${bh}): ${t}`,...n)}}function Jt(t,...e){if(co.logLevel<=Ye.ERROR){const n=e.map(vT);co.error(`Firestore (${bh}): ${t}`,...n)}}function qr(t,...e){if(co.logLevel<=Ye.WARN){const n=e.map(vT);co.warn(`Firestore (${bh}): ${t}`,...n)}}function vT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ik(t,r,n)}function ik(t,e,n){let r=`FIRESTORE (${bh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Jt(r),new Error(r)}function _e(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ik(e,i,r)}function Pde(t,e){t||ge(57014,e)}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends _h{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ple{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class gle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yle{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Tn;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Tn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Tn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new ak(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class vle{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _le{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vle(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ble{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zoe(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const r=a=>{a.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,ne("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new R1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class Nde{getToken(){return Promise.resolve(new R1(""))}invalidateToken(){}start(e,n){}shutdown(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wle(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function I1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return H0(i)===H0(a)?Te(i,a):H0(i)?1:-1}return Te(t.length,e.length)}const Sle=55296,Tle=57343;function H0(t){const e=t.charCodeAt(0);return e>=Sle&&e<=Tle}function Oc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function sk(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="__name__";class Ai{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ai.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Te(e.length,n.length)}static compareSegments(e,n){const r=Ai.isNumericId(e),i=Ai.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ai.extractNumericId(e).compare(Ai.extractNumericId(n)):I1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return to.fromString(e.substring(4,e.length-2))}}class ke extends Ai{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const Ele=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Ai{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return Ele.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M1}static keyField(){return new Pt([M1])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ee(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new ee(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new ee(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(ke.fromString(e))}static fromName(e){return new de(ke.fromString(e).popFirst(5))}static empty(){return new de(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new ke(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e,n){if(!n)throw new ee(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xle(t,e,n,r){if(e===!0&&r===!0)throw new ee(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SR(t){if(!de.isDocumentKey(t))throw new ee(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TR(t){if(de.isDocumentKey(t))throw new ee(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ok(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge(12329,{type:typeof t})}function je(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gv(t);throw new ee(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function lk(t,e){if(e<=0)throw new ee(q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Zl(t,e){if(!ok(t))throw new ee(q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ee(q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=-62135596800,xR=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xR);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ER)throw new ee(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xR}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zl(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ER;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:rn("string",rt._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new rt(0,0))}static max(){return new we(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=-1;class Pc{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function O1(t){return t.fields.find(e=>e.kind===2)}function nl(t){return t.fields.filter(e=>e.kind!==2)}function Ale(t,e){let n=Te(t.collectionGroup,e.collectionGroup);if(n!==0)return n;for(let r=0;r<Math.min(t.fields.length,e.fields.length);++r)if(n=Dle(t.fields[r],e.fields[r]),n!==0)return n;return Te(t.fields.length,e.fields.length)}Pc.UNKNOWN_ID=-1;class wl{constructor(e,n){this.fieldPath=e,this.kind=n}}function Dle(t,e){const n=Pt.comparator(t.fieldPath,e.fieldPath);return n!==0?n:Te(t.kind,e.kind)}class Nc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Nc(0,xr.min())}}function uk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new xr(i,de.empty(),e)}function ck(t){return new xr(t.readTime,t.key,Cc)}class xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xr(we.min(),de.empty(),Cc)}static max(){return new xr(we.max(),de.empty(),Cc)}}function wT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==hk)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(d=>{s[u]=d,++o,o===a&&r(s)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="SimpleDb";class Wv{static open(e,n,r,i){try{return new Wv(n,e.transaction(i,r))}catch(a){throw new Vd(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Tn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Vd(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=ST(r.target.error);this.S.reject(new Vd(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ne(mr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Ile(n)}}class $i{static delete(e){return ne(mr,"Removing database:",e),al(jN().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!YN())return!1;if($i.F())return!0;const e=Ry(),n=$i.M(e),r=0<n&&n<10,i=fk(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,$i.M(Ry())===12.2&&Jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ne(mr,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const s=a.target.result;n(s)},i.onblocked=()=>{r(new Vd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const s=a.target.error;s.name==="VersionError"?r(new ee(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new ee(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Vd(e,s))},i.onupgradeneeded=a=>{ne(mr,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const s=a.target.result;this.N.k(s,i.transaction,a.oldVersion,this.version).next(()=>{ne(mr,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.L(e);const o=Wv.open(this.db,e,a?"readonly":"readwrite",r),l=i(o).next(u=>(o.C(),u)).catch(u=>(o.abort(u),H.reject(u))).toPromise();return l.catch(()=>{}),await o.D,l}catch(o){const l=o,u=l.name!=="FirebaseError"&&s<3;if(ne(mr,"Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function fk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Rle{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return al(this.U.delete())}}class Vd extends ee{constructor(e,n){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function xo(t){return t.name==="IndexedDbTransactionError"}class Ile{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ne(mr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ne(mr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),al(r)}add(e){return ne(mr,"ADD",this.store.name,e,e),al(this.store.add(e))}get(e){return al(this.store.get(e)).next(n=>(n===void 0&&(n=null),ne(mr,"GET",this.store.name,e,n),n))}delete(e){return ne(mr,"DELETE",this.store.name,e),al(this.store.delete(e))}count(){return ne(mr,"COUNT",this.store.name),al(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new H((s,o)=>{a.onerror=l=>{o(l.target.error)},a.onsuccess=l=>{s(l.target.result)}})}{const a=this.cursor(r),s=[];return this.H(a,(o,l)=>{s.push(l)}).next(()=>s)}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new H((i,a)=>{r.onerror=s=>{a(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}Z(e,n){ne(mr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(a,s,o)=>o.delete())}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new H((r,i)=>{n.onerror=a=>{const s=ST(a.target.error);i(s)},n.onsuccess=a=>{const s=a.target.result;s?e(s.primaryKey,s.value).next(o=>{o?s.continue():r()}):r()}})}H(e,n){const r=[];return new H((i,a)=>{e.onerror=s=>{a(s.target.error)},e.onsuccess=s=>{const o=s.target.result;if(!o)return void i();const l=new Rle(o),u=n(o.primaryKey,o.value,l);if(u instanceof H){const d=u.catch(f=>(l.done(),H.reject(f)));r.push(d)}l.isDone?i():l.G===null?o.continue():o.continue(l.G)}}).next(()=>H.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function al(t){return new H((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=ST(r.target.error);n(i)}})}let AR=!1;function ST(t){const e=$i.M(Ry());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AR||(AR=!0,setTimeout(()=>{throw r},0)),r}}return t}const Ld="IndexBackfiller";class Mle{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ne(Ld,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.ne.ie();ne(Ld,`Documents written: ${n}`)}catch(n){xo(n)?ne(Ld,"Ignoring IndexedDB error during index backfill: ",n):await Eo(n)}await this.re(6e4)})}}class Ole{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.se(n,e))}se(e,n){const r=new Set;let i=n,a=!0;return H.doWhile(()=>a===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return ne(Ld,`Processing collection: ${s}`),this.oe(e,s,i).next(o=>{i-=o,r.add(s)});a=!1})).next(()=>n-i)}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(a=>{const s=a.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this._e(i,a)).next(o=>(ne(Ld,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o))).next(()=>s.size)}))}_e(e,n){let r=e;return n.changes.forEach((i,a)=>{const s=ck(a);wT(s,r)>0&&(r=s)}),new xr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=-1;function Em(t){return t==null}function Rf(t){return t===0&&1/t==-1/0}function mk(t){return typeof t=="number"&&Number.isInteger(t)&&!Rf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="";function $n(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DR(e)),e=Cle(t.get(n),e);return DR(e)}function Cle(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case Cy:n+="";break;default:n+=a}}return n}function DR(t){return t+Cy+""}function Oi(t){const e=t.length;if(_e(e>=2,64408,{path:t}),e===2)return _e(t.charAt(0)===Cy&&t.charAt(1)==="",56145,{path:t}),ke.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const s=t.indexOf(Cy,a);switch((s<0||s>n)&&ge(50515,{path:t}),t.charAt(s+1)){case"":const o=t.substring(a,s);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(a,s),i+="\0";break;case"":i+=t.substring(a,s+1);break;default:ge(61167,{path:t})}a=s+2}return new ke(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="remoteDocuments",xm="owner",Eu="owner",If="mutationQueues",Ple="userId",oi="mutations",RR="batchId",cl="userMutationsIndex",IR=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t,e){return[t,$n(e)]}function pk(t,e,n){return[t,$n(e),n]}const Nle={},kc="documentMutations",Py="remoteDocumentsV14",kle=["prefixPath","collectionGroup","readTime","documentId"],xg="documentKeyIndex",Vle=["prefixPath","collectionGroup","documentId"],gk="collectionGroupIndex",Lle=["collectionGroup","readTime","prefixPath","documentId"],Mf="remoteDocumentGlobal",C1="remoteDocumentGlobalKey",Vc="targets",yk="queryTargetsIndex",jle=["canonicalId","targetId"],Lc="targetDocuments",$le=["targetId","path"],TT="documentTargetsIndex",Ule=["path","targetId"],Ny="targetGlobalKey",Sl="targetGlobal",Of="collectionParents",zle=["collectionId","parent"],jc="clientMetadata",Fle="clientId",Kv="bundles",Ble="bundleId",Qv="namedQueries",Yle="name",ET="indexConfiguration",Hle="indexId",P1="collectionGroupIndex",qle="collectionGroup",jd="indexState",Gle=["indexId","uid"],vk="sequenceNumberIndex",Wle=["uid","sequenceNumber"],$d="indexEntries",Kle=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_k="documentKeyIndex",Qle=["indexId","uid","orderedDocumentKey"],Xv="documentOverlays",Xle=["userId","collectionPath","documentId"],N1="collectionPathOverlayIndex",Zle=["userId","collectionPath","largestBatchId"],bk="collectionGroupOverlayIndex",Jle=["userId","collectionGroup","largestBatchId"],xT="globals",eue="name",wk=[If,oi,kc,rl,Vc,xm,Sl,Lc,jc,Mf,Of,Kv,Qv],tue=[...wk,Xv],Sk=[If,oi,kc,Py,Vc,xm,Sl,Lc,jc,Mf,Of,Kv,Qv,Xv],Tk=Sk,AT=[...Tk,ET,jd,$d],nue=AT,Ek=[...AT,xT],rue=Ek;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1 extends dk{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function gn(t,e){const n=fe(t);return $i.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xk(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function Ak(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gp(this.root,e,this.comparator,!0)}}class Gp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Dn.RED,this.left=i??Dn.EMPTY,this.right=a??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Dn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OR(this.data.getIterator())}getIteratorFrom(e){return new OR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new st(this.comparator);return n.data=e,n}}class OR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new rr([])}unionWith(e){let n=new st(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vde(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Dk("Invalid base64 string: "+a):a}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const iue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=iue.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ya(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="server_timestamp",Ik="__type__",Mk="__previous_value__",Ok="__local_write_time__";function Zv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Ik])==null?void 0:r.stringValue)===Rk}function Jv(t){const e=t.mapValue.fields[Mk];return Zv(e)?Jv(e):e}function Cf(t){const e=Ba(t.mapValue.fields[Ok].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aue{constructor(e,n,r,i,a,s,o,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Pf="(default)";class kl{constructor(e,n){this.projectId=e,this.database=n||Pf}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Pf}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="__type__",Ck="__max__",zs={mapValue:{fields:{__type__:{stringValue:Ck}}}},RT="__vector__",$c="value",Ag={nullValue:"NULL_VALUE"};function ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zv(t)?4:Pk(t)?9007199254740991:e_(t)?10:11:ge(28295,{value:t})}function Hi(t,e){if(t===e)return!0;const n=ho(t);if(n!==ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cf(t).isEqual(Cf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Ba(i.timestampValue),o=Ba(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ya(i.bytesValue).isEqual(Ya(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Ct(i.geoPointValue.latitude)===Ct(a.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ct(i.integerValue)===Ct(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Ct(i.doubleValue),o=Ct(a.doubleValue);return s===o?Rf(s)===Rf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Oc(t.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(MR(s)!==MR(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Hi(s[l],o[l])))return!1;return!0}(t,e);default:return ge(52216,{left:t})}}function Nf(t,e){return(t.values||[]).find(n=>Hi(n,e))!==void 0}function fo(t,e){if(t===e)return 0;const n=ho(t),r=ho(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Ct(a.integerValue||a.doubleValue),l=Ct(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return CR(t.timestampValue,e.timestampValue);case 4:return CR(Cf(t),Cf(e));case 5:return I1(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Ya(a),l=Ya(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=Te(o[u],l[u]);if(d!==0)return d}return Te(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=Te(Ct(a.latitude),Ct(s.latitude));return o!==0?o:Te(Ct(a.longitude),Ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return PR(t.arrayValue,e.arrayValue);case 10:return function(a,s){var m,g,A,b;const o=a.fields||{},l=s.fields||{},u=(m=o[$c])==null?void 0:m.arrayValue,d=(g=l[$c])==null?void 0:g.arrayValue,f=Te(((A=u==null?void 0:u.values)==null?void 0:A.length)||0,((b=d==null?void 0:d.values)==null?void 0:b.length)||0);return f!==0?f:PR(u,d)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===zs.mapValue&&s===zs.mapValue)return 0;if(a===zs.mapValue)return 1;if(s===zs.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const m=I1(l[f],d[f]);if(m!==0)return m;const g=fo(o[l[f]],u[d[f]]);if(g!==0)return g}return Te(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ge(23264,{he:n})}}function CR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Ba(t),r=Ba(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function PR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=fo(n[i],r[i]);if(a)return a}return Te(n.length,r.length)}function Uc(t){return V1(t)}function V1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ba(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ya(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=V1(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${V1(n.fields[s])}`;return i+"}"}(t.mapValue):ge(61005,{value:t})}function Dg(t){switch(ho(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jv(t);return e?16+Dg(e):16;case 5:return 2*t.stringValue.length;case 6:return Ya(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Dg(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ao(r.fields,(a,s)=>{i+=a.length+Dg(s)}),i}(t.mapValue);default:throw ge(13486,{value:t})}}function Vl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function L1(t){return!!t&&"integerValue"in t}function kf(t){return!!t&&"arrayValue"in t}function NR(t){return!!t&&"nullValue"in t}function kR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rg(t){return!!t&&"mapValue"in t}function e_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[DT])==null?void 0:r.stringValue)===RT}function Ud(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ud(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ud(t.arrayValue.values[n]);return e}return{...t}}function Pk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Ck}const Nk={mapValue:{fields:{[DT]:{stringValue:RT},[$c]:{arrayValue:{}}}}};function sue(t){return"nullValue"in t?Ag:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Vl(kl.empty(),de.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?e_(t)?Nk:{mapValue:{}}:ge(35942,{value:t})}function oue(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Vl(kl.empty(),de.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?Nk:"mapValue"in t?e_(t)?{mapValue:{}}:zs:ge(61959,{value:t})}function VR(t,e){const n=fo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function LR(t,e){const n=fo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ud(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Ud(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Rg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Mn(Ud(this.value))}}function kk(t){const e=[];return Ao(t.fields,(n,r)=>{const i=new Pt([n]);if(Rg(r)){const a=kk(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Et(e,0,we.min(),we.min(),we.min(),Mn.empty(),0)}static newFoundDocument(e,n,r,i){return new Et(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new Et(e,2,n,we.min(),we.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new Et(e,3,n,we.min(),we.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this.position=e,this.inclusive=n}}function jR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=de.comparator(de.fromName(s.referenceValue),n.key):r=fo(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function $R(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n="asc"){this.field=e,this.dir=n}}function lue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{}class Ue extends Vk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uue(e,n,r):n==="array-contains"?new due(e,r):n==="in"?new Fk(e,r):n==="not-in"?new fue(e,r):n==="array-contains-any"?new mue(e,r):new Ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cue(e,r):new hue(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&ho(this.value)===ho(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class at extends Vk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new at(e,n)}matches(e){return zc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zc(t){return t.op==="and"}function j1(t){return t.op==="or"}function IT(t){return Lk(t)&&zc(t)}function Lk(t){for(const e of t.filters)if(e instanceof at)return!1;return!0}function $1(t){if(t instanceof Ue)return t.field.canonicalString()+t.op.toString()+Uc(t.value);if(IT(t))return t.filters.map(e=>$1(e)).join(",");{const e=t.filters.map(n=>$1(n)).join(",");return`${t.op}(${e})`}}function jk(t,e){return t instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&Hi(r.value,i.value)}(t,e):t instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&jk(s,i.filters[o]),!0):!1}(t,e):void ge(19439)}function $k(t,e){const n=t.filters.concat(e);return at.create(n,t.op)}function Uk(t){return t instanceof Ue?function(n){return`${n.field.canonicalString()} ${n.op} ${Uc(n.value)}`}(t):t instanceof at?function(n){return n.op.toString()+" {"+n.getFilters().map(Uk).join(" ,")+"}"}(t):"Filter"}class uue extends Ue{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class cue extends Ue{constructor(e,n){super(e,"in",n),this.keys=zk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hue extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=zk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zk(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class due extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kf(n)&&Nf(n.arrayValue,this.value)}}class Fk extends Ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nf(this.value.arrayValue,n)}}class fue extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nf(this.value.arrayValue,n)}}class mue extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pue{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function U1(t,e=null,n=[],r=[],i=null,a=null,s=null){return new pue(t,e,n,r,i,a,s)}function Ll(t){const e=fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uc(r)).join(",")),e.Te=n}return e.Te}function Am(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lue(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$R(t.startAt,e.startAt)&&$R(t.endAt,e.endAt)}function ky(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Vy(t,e){return t.filters.filter(n=>n instanceof Ue&&n.field.isEqual(e))}function UR(t,e,n){let r=Ag,i=!0;for(const a of Vy(t,e)){let s=Ag,o=!0;switch(a.op){case"<":case"<=":s=sue(a.value);break;case"==":case"in":case">=":s=a.value;break;case">":s=a.value,o=!1;break;case"!=":case"not-in":s=Ag}VR({value:r,inclusive:i},{value:s,inclusive:o})<0&&(r=s,i=o)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];VR({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function zR(t,e,n){let r=zs,i=!0;for(const a of Vy(t,e)){let s=zs,o=!0;switch(a.op){case">=":case">":s=oue(a.value),o=!1;break;case"==":case"in":case"<=":s=a.value;break;case"<":s=a.value,o=!1;break;case"!=":case"not-in":s=zs}LR({value:r,inclusive:i},{value:s,inclusive:o})>0&&(r=s,i=o)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];LR({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Bk(t,e,n,r,i,a,s,o){return new Qa(t,e,n,r,i,a,s,o)}function wh(t){return new Qa(t)}function FR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MT(t){return t.collectionGroup!==null}function dc(t){const e=fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new st(Pt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Vf(a,r))}),n.has(Pt.keyField().canonicalString())||e.Ie.push(new Vf(Pt.keyField(),r))}return e.Ie}function Un(t){const e=fe(t);return e.Ee||(e.Ee=Hk(e,dc(t))),e.Ee}function Yk(t){const e=fe(t);return e.de||(e.de=Hk(e,t.explicitOrderBy)),e.de}function Hk(t,e){if(t.limitType==="F")return U1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Vf(i.field,a)});const n=t.endAt?new mo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mo(t.startAt.position,t.startAt.inclusive):null;return U1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function z1(t,e){const n=t.filters.concat([e]);return new Qa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ly(t,e,n){return new Qa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dm(t,e){return Am(Un(t),Un(e))&&t.limitType===e.limitType}function qk(t){return`${Ll(Un(t))}|lt:${t.limitType}`}function Lu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Uk(i)).join(", ")}]`),Em(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Uc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Uc(i)).join(",")),`Target(${r})`}(Un(t))}; limitType=${t.limitType})`}function Rm(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):de.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of dc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const u=jR(s,o,l);return s.inclusive?u<=0:u<0}(r.startAt,dc(r),i)||r.endAt&&!function(s,o,l){const u=jR(s,o,l);return s.inclusive?u>=0:u>0}(r.endAt,dc(r),i))}(t,e)}function Gk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Wk(t){return(e,n)=>{let r=!1;for(const i of dc(t)){const a=gue(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function gue(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?fo(l,u):ge(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Ak(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yue=new bt(de.comparator);function ir(){return yue}const Kk=new bt(de.comparator);function md(...t){let e=Kk;for(const n of t)e=e.insert(n.key,n);return e}function Qk(t){let e=Kk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ci(){return zd()}function Xk(){return zd()}function zd(){return new Xa(t=>t.toString(),(t,e)=>t.isEqual(e))}const vue=new bt(de.comparator),_ue=new st(de.comparator);function De(...t){let e=_ue;for(const n of t)e=e.add(n);return e}const bue=new st(Te);function OT(){return bue}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(e)?"-0":e}}function Zk(t){return{integerValue:""+t}}function Jk(t,e){return mk(e)?Zk(e):CT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this._=void 0}}function wue(t,e,n){return t instanceof Fc?function(i,a){const s={fields:{[Ik]:{stringValue:Rk},[Ok]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Zv(a)&&(a=Jv(a)),a&&(s.fields[Mk]=a),{mapValue:s}}(n,e):t instanceof jl?tV(t,e):t instanceof $l?nV(t,e):function(i,a){const s=eV(i,a),o=BR(s)+BR(i.Ae);return L1(s)&&L1(i.Ae)?Zk(o):CT(i.serializer,o)}(t,e)}function Sue(t,e,n){return t instanceof jl?tV(t,e):t instanceof $l?nV(t,e):n}function eV(t,e){return t instanceof Bc?function(r){return L1(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Fc extends t_{}class jl extends t_{constructor(e){super(),this.elements=e}}function tV(t,e){const n=rV(e);for(const r of t.elements)n.some(i=>Hi(i,r))||n.push(r);return{arrayValue:{values:n}}}class $l extends t_{constructor(e){super(),this.elements=e}}function nV(t,e){let n=rV(e);for(const r of t.elements)n=n.filter(i=>!Hi(i,r));return{arrayValue:{values:n}}}class Bc extends t_{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BR(t){return Ct(t.integerValue||t.doubleValue)}function rV(t){return kf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.field=e,this.transform=n}}function Tue(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof jl&&i instanceof jl||r instanceof $l&&i instanceof $l?Oc(r.elements,i.elements,Hi):r instanceof Bc&&i instanceof Bc?Hi(r.Ae,i.Ae):r instanceof Fc&&i instanceof Fc}(t.transform,e.transform)}class Eue{constructor(e,n){this.version=e,this.transformResults=n}}class Nt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nt}static exists(e){return new Nt(void 0,e)}static updateTime(e){return new Nt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ig(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class n_{}function iV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Th(t.key,Nt.none()):new Sh(t.key,t.data,Nt.none());{const n=t.data,r=Mn.empty();let i=new st(Pt.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Za(t.key,r,new rr(i.toArray()),Nt.none())}}function xue(t,e,n){t instanceof Sh?function(i,a,s){const o=i.value.clone(),l=HR(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Za?function(i,a,s){if(!Ig(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=HR(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(aV(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Fd(t,e,n,r){return t instanceof Sh?function(a,s,o,l){if(!Ig(a.precondition,s))return o;const u=a.value.clone(),d=qR(a.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Za?function(a,s,o,l){if(!Ig(a.precondition,s))return o;const u=qR(a.fieldTransforms,l,s),d=s.data;return d.setAll(aV(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,s,o){return Ig(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Aue(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=eV(r.transform,i||null);a!=null&&(n===null&&(n=Mn.empty()),n.set(r.field,a))}return n||null}function YR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oc(r,i,(a,s)=>Tue(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sh extends n_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Za extends n_{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function aV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function HR(t,e,n){const r=new Map;_e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,Sue(s,o,n[i]))}return r}function qR(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,wue(a,s,e))}return r}class Th extends n_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PT extends n_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&xue(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Xk();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=iV(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&Oc(this.mutations,e.mutations,(n,r)=>YR(n,r))&&Oc(this.baseMutations,e.baseMutations,(n,r)=>YR(n,r))}}class kT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return vue}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new kT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Due{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,Be;function oV(t){switch(t){case q.OK:return ge(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return ge(15467,{code:t})}}function lV(t){if(t===void 0)return Jt("GRPC error has no .code"),q.UNKNOWN;switch(t){case tn.OK:return q.OK;case tn.CANCELLED:return q.CANCELLED;case tn.UNKNOWN:return q.UNKNOWN;case tn.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case tn.INTERNAL:return q.INTERNAL;case tn.UNAVAILABLE:return q.UNAVAILABLE;case tn.UNAUTHENTICATED:return q.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case tn.NOT_FOUND:return q.NOT_FOUND;case tn.ALREADY_EXISTS:return q.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return q.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case tn.ABORTED:return q.ABORTED;case tn.OUT_OF_RANGE:return q.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return q.UNIMPLEMENTED;case tn.DATA_LOSS:return q.DATA_LOSS;default:return ge(39323,{code:t})}}(Be=tn||(tn={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rue=new to([4294967295,4294967295],0);function GR(t){const e=uV().encode(t),n=new ZN;return n.update(e),new Uint8Array(n.digest())}function WR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new to([n,r],0),new to([i,a],0)]}class LT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pd(`Invalid padding: ${n}`);if(r<0)throw new pd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new pd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=to.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(to.fromNumber(r)));return i.compare(Rue)===1&&(i=new to([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GR(e),[r,i]=WR(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new LT(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=GR(e),[r,i]=WR(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class pd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Om.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mm(we.min(),i,new bt(Te),ir(),De())}}class Om{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Om(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class cV{constructor(e,n){this.targetId=e,this.Ce=n}}class hV{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class KR{constructor(){this.ve=0,this.Fe=QR(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),n=De(),r=De();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge(38017,{changeType:a})}}),new Om(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=QR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Iue{constructor(e){this.Ge=e,this.ze=new Map,this.je=ir(),this.Je=Wp(),this.He=Wp(),this.Ye=new bt(Te)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(ky(a))if(r===0){const s=new de(a.path);this.et(n,s,Et.newNoDocument(s,we.min()))}else _e(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}Bd==null||Bd.lt(function(d,f,m,g,A){var _,T,D;const b={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},S=f.unchangedNames;return S&&(b.bloomFilter={applied:A===0,hashCount:(S==null?void 0:S.hashCount)??0,bitmapLength:((T=(_=S==null?void 0:S.bits)==null?void 0:_.bitmap)==null?void 0:T.length)??0,padding:((D=S==null?void 0:S.bits)==null?void 0:D.padding)??0,mightContain:O=>(g==null?void 0:g.mightContain(O))??!1}),b}(s,e.Ce,this.Ge.ht(),o,l))}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Ya(r).toUint8Array()}catch(l){if(l instanceof Dk)return qr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new LT(s,i,a)}catch(l){return qr(l instanceof pd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&ky(o.target)){const l=new de(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Et.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.qe())}});let r=De();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new Mm(e,n,this.Ye,this.je,r);return this.je=ir(),this.Je=Wp(),this.He=Wp(),this.Ye=new bt(Te),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new KR,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new st(Te),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new st(Te),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KR),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wp(){return new bt(de.comparator)}function QR(){return new bt(de.comparator)}const Mue=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Oue=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Cue=(()=>({and:"AND",or:"OR"}))();class Pue{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function F1(t,e){return t.useProto3Json||Em(e)?e:{value:e}}function Yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Nue(t,e){return Yc(t,e.toTimestamp())}function en(t){return _e(!!t,49232),we.fromTimestamp(function(n){const r=Ba(n);return new rt(r.seconds,r.nanos)}(t))}function jT(t,e){return B1(t,e).canonicalString()}function B1(t,e){const n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fV(t){const e=ke.fromString(t);return _e(SV(e),10190,{key:e.toString()}),e}function Lf(t,e){return jT(t.databaseId,e.path)}function Ui(t,e){const n=fV(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(gV(n))}function mV(t,e){return jT(t.databaseId,e)}function pV(t){const e=fV(t);return e.length===4?ke.emptyPath():gV(e)}function Y1(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gV(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XR(t,e,n){return{name:Lf(t,e),fields:n.value.mapValue.fields}}function r_(t,e,n){const r=Ui(t,e.name),i=en(e.updateTime),a=e.createTime?en(e.createTime):we.min(),s=new Mn({mapValue:{fields:e.fields}}),o=Et.newFoundDocument(r,i,a,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function kue(t,e){return"found"in e?function(r,i){_e(!!i.found,43571),i.found.name,i.found.updateTime;const a=Ui(r,i.found.name),s=en(i.found.updateTime),o=i.found.createTime?en(i.found.createTime):we.min(),l=new Mn({mapValue:{fields:i.found.fields}});return Et.newFoundDocument(a,s,o,l)}(t,e):"missing"in e?function(r,i){_e(!!i.missing,3894),_e(!!i.readTime,22933);const a=Ui(r,i.missing),s=en(i.readTime);return Et.newNoDocument(a,s)}(t,e):ge(7234,{result:e})}function Vue(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(_e(d===void 0||typeof d=="string",58123),Kt.fromBase64String(d||"")):(_e(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Kt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const d=u.code===void 0?q.UNKNOWN:lV(u.code);return new ee(d,u.message||"")}(s);n=new hV(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ui(t,r.document.name),a=en(r.document.updateTime),s=r.document.createTime?en(r.document.createTime):we.min(),o=new Mn({mapValue:{fields:r.document.fields}}),l=Et.newFoundDocument(i,a,s,o),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Mg(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ui(t,r.document),a=r.readTime?en(r.readTime):we.min(),s=Et.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Mg([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ui(t,r.document),a=r.removedTargetIds||[];n=new Mg([],a,i,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new Due(i,a),o=r.targetId;n=new cV(o,s)}}return n}function jf(t,e){let n;if(e instanceof Sh)n={update:XR(t,e.key,e.value)};else if(e instanceof Th)n={delete:Lf(t,e.key)};else if(e instanceof Za)n={update:XR(t,e.key,e.data),updateMask:Fue(e.fieldMask)};else{if(!(e instanceof PT))return ge(16599,{Vt:e.type});n={verify:Lf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Fc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof jl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof $l)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Bc)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw ge(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Nue(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ge(27497)}(t,e.precondition)),n}function H1(t,e){const n=e.currentDocument?function(a){return a.updateTime!==void 0?Nt.updateTime(en(a.updateTime)):a.exists!==void 0?Nt.exists(a.exists):Nt.none()}(e.currentDocument):Nt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let l=null;if("setToServerValue"in o)_e(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),l=new Fc;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];l=new jl(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];l=new $l(d)}else"increment"in o?l=new Bc(s,o.increment):ge(16584,{proto:o});const u=Pt.fromServerFormat(o.fieldPath);return new Im(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Ui(t,e.update.name),a=new Mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const u=l.fieldPaths||[];return new rr(u.map(d=>Pt.fromServerFormat(d)))}(e.updateMask);return new Za(i,a,s,n,r)}return new Sh(i,a,n,r)}if(e.delete){const i=Ui(t,e.delete);return new Th(i,n)}if(e.verify){const i=Ui(t,e.verify);return new PT(i,n)}return ge(1463,{proto:e})}function Lue(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?en(i.updateTime):en(a);return s.isEqual(we.min())&&(s=en(a)),new Eue(s,i.transformResults||[])}(n,e))):[]}function yV(t,e){return{documents:[mV(t,e.path)]}}function i_(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mV(t,i);const a=function(u){if(u.length!==0)return wV(at.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Ps(m.field),direction:$ue(m.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=F1(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function vV(t,e,n,r){const{ft:i,parent:a}=i_(t,e),s={},o=[];let l=0;return n.forEach(u=>{const d=r?u.alias:"aggregate_"+l++;s[d]=u.alias,u.aggregateType==="count"?o.push({alias:d,count:{}}):u.aggregateType==="avg"?o.push({alias:d,avg:{field:Ps(u.fieldPath)}}):u.aggregateType==="sum"&&o.push({alias:d,sum:{field:Ps(u.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},gt:s,parent:a}}function _V(t){let e=pV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_e(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(f){const m=bV(f);return m instanceof at&&IT(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(m=>function(A){return new Vf(ju(A.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let o=null;n.limit&&(o=function(f){let m;return m=typeof f=="object"?f.value:f,Em(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,g=f.values||[];return new mo(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,g=f.values||[];return new mo(g,m)}(n.endAt)),Bk(e,i,s,a,o,"F",l,u)}function jue(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bV(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ju(n.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ju(n.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ju(n.unaryFilter.field);return Ue.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ju(n.unaryFilter.field);return Ue.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ue.create(ju(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return at.create(n.compositeFilter.filters.map(r=>bV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(n.compositeFilter.op))}(t):ge(30097,{filter:t})}function $ue(t){return Mue[t]}function Uue(t){return Oue[t]}function zue(t){return Cue[t]}function Ps(t){return{fieldPath:t.canonicalString()}}function ju(t){return Pt.fromServerFormat(t.fieldPath)}function wV(t){return t instanceof Ue?function(n){if(n.op==="=="){if(kR(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(NR(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kR(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(NR(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:Uue(n.op),value:n.value}}}(t):t instanceof at?function(n){const r=n.getFilters().map(i=>wV(i));return r.length===1?r[0]:{compositeFilter:{op:zue(n.op),filters:r}}}(t):ge(54877,{filter:t})}function Fue(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r,i,a=we.min(),s=we.min(),o=Kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.yt=e}}function Bue(t,e){let n;if(e.document)n=r_(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),i=zl(e.noDocument.readTime);n=Et.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ge(56709);{const r=de.fromSegments(e.unknownDocument.path),i=zl(e.unknownDocument.version);n=Et.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const a=new rt(i[0],i[1]);return we.fromTimestamp(a)}(e.readTime)),n}function ZR(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:jy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(a,s){return{name:Lf(a,s.key),fields:s.data.value.mapValue.fields,updateTime:Yc(a,s.version.toTimestamp()),createTime:Yc(a,s.createTime.toTimestamp())}}(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ul(e.version)};else{if(!e.isUnknownDocument())return ge(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Ul(e.version)}}return r}function jy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ul(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zl(t){const e=new rt(t.seconds,t.nanoseconds);return we.fromTimestamp(e)}function sl(t,e){const n=(e.baseMutations||[]).map(a=>H1(t.yt,a));for(let a=0;a<e.mutations.length-1;++a){const s=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const o=e.mutations[a+1];s.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map(a=>H1(t.yt,a)),i=rt.fromMillis(e.localWriteTimeMs);return new NT(e.batchId,i,n,r)}function gd(t){const e=zl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?zl(t.lastLimboFreeSnapshotVersion):we.min();let r;return r=function(a){return a.documents!==void 0}(t.query)?function(a){const s=a.documents.length;return _e(s===1,1966,{count:s}),Un(wh(pV(a.documents[0])))}(t.query):function(a){return Un(_V(a))}(t.query),new Ra(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Kt.fromBase64String(t.resumeToken))}function EV(t,e){const n=Ul(e.snapshotVersion),r=Ul(e.lastLimboFreeSnapshotVersion);let i;i=ky(e.target)?yV(t.yt,e.target):i_(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ll(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function a_(t){const e=_V({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ly(e,e.limit,"L"):e}function q0(t,e){return new VT(e.largestBatchId,H1(t.yt,e.overlayMutation))}function JR(t,e){const n=e.path.lastSegment();return[t,$n(e.path.popLast()),n]}function eI(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ul(r.readTime),documentKey:$n(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yue{getBundleMetadata(e,n){return tI(e).get(n).next(r=>{if(r)return function(a){return{id:a.bundleId,createTime:zl(a.createTime),version:a.version}}(r)})}saveBundleMetadata(e,n){return tI(e).put(function(i){return{bundleId:i.id,createTime:Ul(en(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return nI(e).get(n).next(r=>{if(r)return function(a){return{name:a.name,query:a_(a.bundledQuery),readTime:zl(a.readTime)}}(r)})}saveNamedQuery(e,n){return nI(e).put(function(i){return{name:i.name,readTime:Ul(en(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function tI(t){return gn(t,Kv)}function nI(t){return gn(t,Qv)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new s_(e,r)}getOverlay(e,n){return rd(e).get(JR(this.userId,n)).next(r=>r?q0(this.serializer,r):null)}getOverlays(e,n){const r=Ci();return H.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((a,s)=>{const o=new VT(n,s);i.push(this.St(e,o))}),H.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add($n(s.getCollectionPath())));const a=[];return i.forEach(s=>{const o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);a.push(rd(e).Z(N1,o))}),H.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Ci(),a=$n(n),s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return rd(e).J(N1,s).next(o=>{for(const l of o){const u=q0(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const a=Ci();let s;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return rd(e).ee({index:bk,range:o},(l,u,d)=>{const f=q0(this.serializer,u);a.size()<i||f.largestBatchId===s?(a.set(f.getKey(),f),s=f.largestBatchId):d.done()}).next(()=>a)}St(e,n){return rd(e).put(function(i,a,s){const[o,l,u]=JR(a,s.mutation.key);return{userId:a,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:jf(i.yt,s.mutation)}}(this.serializer,this.userId,n))}}function rd(t){return gn(t,Xv)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hue{bt(e){return gn(e,xT)}getSessionToken(e){return this.bt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Kt.fromUint8Array(r):Kt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Ct(e.integerValue));else if("doubleValue"in e){const r=Ct(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Rf(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ba(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ya(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?Pk(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):e_(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):ge(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var s,o;const r=e.fields||{};this.Ft(n,53);const i=$c,a=((o=(s=r[i].arrayValue)==null?void 0:s.values)==null?void 0:o.length)||0;this.Ft(n,15),n.Mt(Ct(a)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),de.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}ol.Kt=new ol;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=255;function que(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function rI(t){const e=64-function(r){let i=0;for(let a=0;a<8;++a){const s=que(255&r[a]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}class Gue{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=rI(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=rI(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Au),this.sn(255)}_n(){this.an(Au),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=function(a){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,a,!1),new Uint8Array(s.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Au?(this.sn(Au),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Au?(this.an(Au),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Wue{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Kue{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class id{constructor(){this.cn=new Gue,this.ln=new Wue(this.cn),this.hn=new Kue(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new ll(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Og(this.En),directionalValue:Og(this.dn),orderedDocumentKey:Og(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Ss(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=iI(t.En,e.En),n!==0?n:(n=iI(t.dn,e.dn),n!==0?n:de.comparator(t.In,e.In)))}function iI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Og(t){return BN()?function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}(t):t}function aI(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(t)}class sI{constructor(e){this.mn=new st((n,r)=>Pt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(_e(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=O1(e);if(n!==void 0&&!this.wn(n))return!1;const r=nl(e);let i=new Set,a=0,s=0;for(;a<r.length&&this.wn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[a];if(!this.Sn(o,l)||!this.bn(this.fn[s++],l))return!1}++a}for(;a<r.length;++a){const o=r[a];if(s>=this.fn.length||!this.bn(this.fn[s++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new st(Pt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new wl(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new wl(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new wl(r.field,r.dir==="asc"?0:1)));return new Pc(Pc.UNKNOWN_ID,this.collectionId,n,Nc.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t){var n,r;if(_e(t instanceof Ue||t instanceof at,20012),t instanceof Ue){if(t instanceof Fk){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map(a=>Ue.create(t.field,"==",a)))||[];return at.create(i,"or")}return t}const e=t.filters.map(i=>xV(i));return at.create(e,t.op)}function Que(t){if(t.getFilters().length===0)return[];const e=W1(xV(t));return _e(AV(e),7391),q1(e)||G1(e)?[e]:e.getFilters()}function q1(t){return t instanceof Ue}function G1(t){return t instanceof at&&IT(t)}function AV(t){return q1(t)||G1(t)||function(n){if(n instanceof at&&j1(n)){for(const r of n.getFilters())if(!q1(r)&&!G1(r))return!1;return!0}return!1}(t)}function W1(t){if(_e(t instanceof Ue||t instanceof at,34018),t instanceof Ue)return t;if(t.filters.length===1)return W1(t.filters[0]);const e=t.filters.map(r=>W1(r));let n=at.create(e,t.op);return n=$y(n),AV(n)?n:(_e(n instanceof at,64498),_e(zc(n),40251),_e(n.filters.length>1,57927),n.filters.reduce((r,i)=>$T(r,i)))}function $T(t,e){let n;return _e(t instanceof Ue||t instanceof at,38388),_e(e instanceof Ue||e instanceof at,25473),n=t instanceof Ue?e instanceof Ue?function(i,a){return at.create([i,a],"and")}(t,e):oI(t,e):e instanceof Ue?oI(e,t):function(i,a){if(_e(i.filters.length>0&&a.filters.length>0,48005),zc(i)&&zc(a))return $k(i,a.getFilters());const s=j1(i)?i:a,o=j1(i)?a:i,l=s.filters.map(u=>$T(u,o));return at.create(l,"or")}(t,e),$y(n)}function oI(t,e){if(zc(e))return $k(e,t.getFilters());{const n=e.filters.map(r=>$T(t,r));return at.create(n,"or")}}function $y(t){if(_e(t instanceof Ue||t instanceof at,11850),t instanceof Ue)return t;const e=t.getFilters();if(e.length===1)return $y(e[0]);if(Lk(t))return t;const n=e.map(i=>$y(i)),r=[];return n.forEach(i=>{i instanceof Ue?r.push(i):i instanceof at&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:at.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xue{constructor(){this.Cn=new UT}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(xr.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class UT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new st(ke.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="IndexedDbIndexManager",Kp=new Uint8Array(0);class Zue{constructor(e,n){this.databaseId=n,this.vn=new UT,this.Fn=new Xa(r=>Ll(r),(r,i)=>Am(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const a={collectionId:r,parent:$n(i)};return uI(e).put(a)}return H.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[sk(n),""],!1,!0);return uI(e).J(i).next(a=>{for(const s of a){if(s.collectionId!==n)break;r.push(Oi(s.parent))}return r})}addFieldIndex(e,n){const r=ad(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const a=r.add(i);if(n.indexState){const s=Ru(e);return a.next(o=>{s.put(eI(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return a.next()}deleteFieldIndex(e,n){const r=ad(e),i=Ru(e),a=Du(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=ad(e),r=Du(e),i=Ru(e);return n.Z().next(()=>r.Z()).next(()=>i.Z())}createTargetIndexes(e,n){return H.forEach(this.Mn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const a=new sI(r).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))}getDocumentsMatchingTarget(e,n){const r=Du(e);let i=!0;const a=new Map;return H.forEach(this.Mn(n),s=>this.xn(e,s).next(o=>{i&&(i=!!o),a.set(s,o)})).next(()=>{if(i){let s=De();const o=[];return H.forEach(a,(l,u)=>{ne(lI,`Using index ${function(D){return`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(O=>`${O.fieldPath}:${O.kind}`).join(",")}`}(l)} to execute ${Ll(n)}`);const d=function(D,O){const L=O1(O);if(L===void 0)return null;for(const z of Vy(D,L.fieldPath))switch(z.op){case"array-contains-any":return z.value.arrayValue.values||[];case"array-contains":return[z.value]}return null}(u,l),f=function(D,O){const L=new Map;for(const z of nl(O))for(const I of Vy(D,z.fieldPath))switch(I.op){case"==":case"in":L.set(z.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return L.set(z.fieldPath.canonicalString(),I.value),Array.from(L.values())}return null}(u,l),m=function(D,O){const L=[];let z=!0;for(const I of nl(O)){const R=I.kind===0?UR(D,I.fieldPath,D.startAt):zR(D,I.fieldPath,D.startAt);L.push(R.value),z&&(z=R.inclusive)}return new mo(L,z)}(u,l),g=function(D,O){const L=[];let z=!0;for(const I of nl(O)){const R=I.kind===0?zR(D,I.fieldPath,D.endAt):UR(D,I.fieldPath,D.endAt);L.push(R.value),z&&(z=R.inclusive)}return new mo(L,z)}(u,l),A=this.On(l,u,m),b=this.On(l,u,g),S=this.Nn(l,u,f),_=this.Bn(l.indexId,d,A,m.inclusive,b,g.inclusive,S);return H.forEach(_,T=>r.Y(T,n.limit).next(D=>{D.forEach(O=>{const L=de.fromSegments(O.documentKey);s.has(L)||(s=s.add(L),o.push(L))})}))}).next(()=>o)}return H.resolve(null)})}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=Que(at.create(e.filters,"and")).map(r=>U1(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,n),n)}Bn(e,n,r,i,a,s,o){const l=(n!=null?n.length:1)*Math.max(r.length,a.length),u=l/(n!=null?n.length:1),d=[];for(let f=0;f<l;++f){const m=n?this.Ln(n[f/u]):Kp,g=this.kn(e,m,r[f%u],i),A=this.qn(e,m,a[f%u],s),b=o.map(S=>this.kn(e,m,S,!0));d.push(...this.createRange(g,A,b))}return d}kn(e,n,r,i){const a=new ll(e,de.empty(),n,r);return i?a:a.An()}qn(e,n,r,i){const a=new ll(e,de.empty(),n,r);return i?a.An():a}xn(e,n){const r=new sI(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let s=null;for(const o of a)r.yn(o)&&(!s||o.fields.length>s.fields.length)&&(s=o);return s})}getIndexType(e,n){let r=2;const i=this.Mn(n);return H.forEach(i,a=>this.xn(e,a).next(s=>{s?r!==0&&s.fields.length<function(l){let u=new st(Pt.comparator),d=!1;for(const f of l.filters)for(const m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:u=u.add(m.field));for(const f of l.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(a)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}Qn(e,n){const r=new id;for(const i of nl(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const s=r.Pn(i.kind);ol.Kt.Dt(a,s)}return r.un()}Ln(e){const n=new id;return ol.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new id;return ol.Kt.Dt(Vl(this.databaseId,n),r.Pn(function(a){const s=nl(a);return s.length===0?0:s[s.length-1].kind}(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new id);let a=0;for(const s of nl(e)){const o=r[a++];for(const l of i)if(this.Un(n,s.fieldPath)&&kf(o))i=this.Kn(i,s,o);else{const u=l.Pn(s.kind);ol.Kt.Dt(o,u)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],a=[];for(const s of r.arrayValue.values||[])for(const o of i){const l=new id;l.seed(o.un()),ol.Kt.Dt(s,l.Pn(n.kind)),a.push(l)}return a}Un(e,n){return!!e.filters.find(r=>r instanceof Ue&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=ad(e),i=Ru(e);return(n?r.J(P1,IDBKeyRange.bound(n,n)):r.J()).next(a=>{const s=[];return H.forEach(a,o=>i.get([o.indexId,this.uid]).next(l=>{s.push(function(d,f){const m=f?new Nc(f.sequenceNumber,new xr(zl(f.readTime),new de(Oi(f.documentKey)),f.largestBatchId)):Nc.empty(),g=d.fields.map(([A,b])=>new wl(Pt.fromServerFormat(A),b));return new Pc(d.indexId,d.collectionGroup,g,m)}(o,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Te(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=ad(e),a=Ru(e);return this.Gn(e).next(s=>i.J(P1,IDBKeyRange.bound(n,n)).next(o=>H.forEach(o,l=>a.put(eI(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return H.forEach(n,(i,a)=>{const s=r.get(i.collectionGroup);return(s?H.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(r.set(i.collectionGroup,o),H.forEach(o,l=>this.zn(e,i,l).next(u=>{const d=this.jn(a,l);return u.isEqual(d)?H.resolve():this.Jn(e,a,l,u,d)}))))})}Hn(e,n,r,i){return Du(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Du(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Du(e);let a=new st(Ss);return i.ee({index:_k,range:IDBKeyRange.only([r.indexId,this.uid,Og(this.$n(r,n))])},(s,o)=>{a=a.add(new ll(r.indexId,n,aI(o.arrayValue),aI(o.directionalValue)))}).next(()=>a)}jn(e,n){let r=new st(Ss);const i=this.Qn(n,e);if(i==null)return r;const a=O1(n);if(a!=null){const s=e.data.field(a.fieldPath);if(kf(s))for(const o of s.arrayValue.values||[])r=r.add(new ll(n.indexId,e.key,this.Ln(o),i))}else r=r.add(new ll(n.indexId,e.key,Kp,i));return r}Jn(e,n,r,i,a){ne(lI,"Updating index entries for document '%s'",n.key);const s=[];return function(l,u,d,f,m){const g=l.getIterator(),A=u.getIterator();let b=xu(g),S=xu(A);for(;b||S;){let _=!1,T=!1;if(b&&S){const D=d(b,S);D<0?T=!0:D>0&&(_=!0)}else b!=null?T=!0:_=!0;_?(f(S),S=xu(A)):T?(m(b),b=xu(g)):(b=xu(g),S=xu(A))}}(i,a,Ss,o=>{s.push(this.Hn(e,n,r,o))},o=>{s.push(this.Yn(e,n,r,o))}),H.waitFor(s)}Gn(e){let n=1;return Ru(e).ee({index:vk,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,o)=>Ss(s,o)).filter((s,o,l)=>!o||Ss(s,l[o-1])!==0);const i=[];i.push(e);for(const s of r){const o=Ss(s,e),l=Ss(s,n);if(o===0)i[0]=e.An();else if(o>0&&l<0)i.push(s),i.push(s.An());else if(l>0)break}i.push(n);const a=[];for(let s=0;s<i.length;s+=2){if(this.Zn(i[s],i[s+1]))return[];const o=i[s].Vn(this.uid,Kp,de.empty()),l=i[s+1].Vn(this.uid,Kp,de.empty());a.push(IDBKeyRange.bound(o,l))}return a}Zn(e,n){return Ss(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(cI)}getMinOffset(e,n){return H.mapArray(this.Mn(n),r=>this.xn(e,r).next(i=>i||ge(44426))).next(cI)}}function uI(t){return gn(t,Of)}function Du(t){return gn(t,$d)}function ad(t){return gn(t,ET)}function Ru(t){return gn(t,jd)}function cI(t){_e(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;wT(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new xr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DV=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t,e,n){const r=t.store(oi),i=t.store(kc),a=[],s=IDBKeyRange.only(n.batchId);let o=0;const l=r.ee({range:s},(d,f,m)=>(o++,m.delete()));a.push(l.next(()=>{_e(o===1,47070,{batchId:n.batchId})}));const u=[];for(const d of n.mutations){const f=pk(e,d.key.path,n.batchId);a.push(i.delete(f)),u.push(d.key)}return H.waitFor(a).next(()=>u)}function Uy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ge(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(DV,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class o_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){_e(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new o_(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ts(e).ee({index:cl,range:r},(i,a,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const a=$u(e),s=Ts(e);return s.add({}).next(o=>{_e(typeof o=="number",49019);const l=new NT(o,n,r,i),u=function(g,A,b){const S=b.baseMutations.map(T=>jf(g.yt,T)),_=b.mutations.map(T=>jf(g.yt,T));return{userId:A,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:S,mutations:_}}(this.serializer,this.userId,l),d=[];let f=new st((m,g)=>Te(m.canonicalString(),g.canonicalString()));for(const m of i){const g=pk(this.userId,m.key.path,o);f=f.add(m.key.path.popLast()),d.push(s.put(u)),d.push(a.put(g,Nle))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Xn[o]=l.keys()}),H.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Ts(e).get(n).next(r=>r?(_e(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),sl(this.serializer,r)):null)}er(e,n){return this.Xn[n]?H.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Ts(e).ee({index:cl,range:i},(s,o,l)=>{o.userId===this.userId&&(_e(o.batchId>=r,47524,{tr:r}),a=sl(this.serializer,o)),l.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=no;return Ts(e).ee({index:cl,range:n,reverse:!0},(i,a,s)=>{r=a.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,no],[this.userId,Number.POSITIVE_INFINITY]);return Ts(e).J(cl,n).next(r=>r.map(i=>sl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Eg(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return $u(e).ee({range:i},(s,o,l)=>{const[u,d,f]=s,m=Oi(d);if(u===this.userId&&n.path.isEqual(m))return Ts(e).get(f).next(g=>{if(!g)throw ge(61480,{nr:s,batchId:f});_e(g.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:g.userId,batchId:f}),a.push(sl(this.serializer,g))});l.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(Te);const i=[];return n.forEach(a=>{const s=Eg(this.userId,a.path),o=IDBKeyRange.lowerBound(s),l=$u(e).ee({range:o},(u,d,f)=>{const[m,g,A]=u,b=Oi(g);m===this.userId&&a.path.isEqual(b)?r=r.add(A):f.done()});i.push(l)}),H.waitFor(i).next(()=>this.rr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=Eg(this.userId,r),s=IDBKeyRange.lowerBound(a);let o=new st(Te);return $u(e).ee({range:s},(l,u,d)=>{const[f,m,g]=l,A=Oi(m);f===this.userId&&r.isPrefixOf(A)?A.length===i&&(o=o.add(g)):d.done()}).next(()=>this.rr(e,o))}rr(e,n){const r=[],i=[];return n.forEach(a=>{i.push(Ts(e).get(a).next(s=>{if(s===null)throw ge(35274,{batchId:a});_e(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:a}),r.push(sl(this.serializer,s))}))}),H.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return RV(e.le,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.ir(n.batchId)}),H.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return H.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return $u(e).ee({range:r},(a,s,o)=>{if(a[0]===this.userId){const l=Oi(a[1]);i.push(l)}else o.done()}).next(()=>{_e(i.length===0,56720,{sr:i.map(a=>a.canonicalString())})})})}containsKey(e,n){return IV(e,this.userId,n)}_r(e){return MV(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:no,lastStreamToken:""})}}function IV(t,e,n){const r=Eg(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let s=!1;return $u(t).ee({range:a,X:!0},(o,l,u)=>{const[d,f,m]=o;d===e&&f===i&&(s=!0),u.done()}).next(()=>s)}function Ts(t){return gn(t,oi)}function $u(t){return gn(t,kc)}function MV(t){return gn(t,If)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fl(0)}static cr(){return new Fl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jue{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next(n=>{const r=new Fl(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(n=>we.fromTimestamp(new rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.lr(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i)))}addTargetData(e,n){return this.Pr(e,n).next(()=>this.lr(e).next(r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Iu(e).delete(n.targetId)).next(()=>this.lr(e)).next(r=>(_e(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r)))}removeTargets(e,n,r){let i=0;const a=[];return Iu(e).ee((s,o)=>{const l=gd(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,a.push(this.removeTargetData(e,l)))}).next(()=>H.waitFor(a)).next(()=>i)}forEachTarget(e,n){return Iu(e).ee((r,i)=>{const a=gd(i);n(a)})}lr(e){return dI(e).get(Ny).next(n=>(_e(n!==null,2888),n))}hr(e,n){return dI(e).put(Ny,n)}Pr(e,n){return Iu(e).put(EV(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Ll(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Iu(e).ee({range:i,index:yk},(s,o,l)=>{const u=gd(o);Am(n,u.target)&&(a=u,l.done())}).next(()=>a)}addMatchingKeys(e,n,r){const i=[],a=Ns(e);return n.forEach(s=>{const o=$n(s.path);i.push(a.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,s))}),H.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ns(e);return H.forEach(n,a=>{const s=$n(a.path);return H.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,n){const r=Ns(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ns(e);let a=De();return i.ee({range:r,X:!0},(s,o,l)=>{const u=Oi(s[1]),d=new de(u);a=a.add(d)}).next(()=>a)}containsKey(e,n){const r=$n(n.path),i=IDBKeyRange.bound([r],[sk(r)],!1,!0);let a=0;return Ns(e).ee({index:TT,X:!0,range:i},([s,o],l,u)=>{s!==0&&(a++,u.done())}).next(()=>a>0)}At(e,n){return Iu(e).get(n).next(r=>r?gd(r):null)}}function Iu(t){return gn(t,Vc)}function dI(t){return gn(t,Sl)}function Ns(t){return gn(t,Lc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="LruGarbageCollector",OV=1048576;function mI([t,e],[n,r]){const i=Te(t,n);return i===0?Te(e,r):i}class ece{constructor(e){this.Ir=e,this.buffer=new st(mI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ne(fI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?ne(fI,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Vr(3e5)})}}class tce{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(nr.ce);const r=new ece(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(hI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hI):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,o=Date.now(),this.removeTargets(e,r,n))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Vu()<=Ye.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function PV(t,e){return new tce(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nce{constructor(e,n){this.db=e,this.garbageCollector=PV(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,(r,i)=>n(i))}addReference(e,n,r){return Qp(e,r)}removeReference(e,n,r){return Qp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Qp(e,n)}br(e,n){return function(i,a){let s=!1;return MV(i).te(o=>IV(i,o,a).next(l=>(l&&(s=!0),H.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,(s,o)=>{if(o<=n){const l=this.br(e,s).next(u=>{if(!u)return a++,r.getEntry(e,s).next(()=>(r.removeEntry(s,we.min()),Ns(e).delete(function(f){return[0,$n(f.path)]}(s))))});i.push(l)}}).next(()=>H.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Qp(e,n)}Sr(e,n){const r=Ns(e);let i,a=nr.ce;return r.ee({index:TT},([s,o],{path:l,sequenceNumber:u})=>{s===0?(a!==nr.ce&&n(new de(Oi(i)),a),a=u,i=l):a=nr.ce}).next(()=>{a!==nr.ce&&n(new de(Oi(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qp(t,e){return Ns(t).put(function(r,i){return{targetId:0,path:$n(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this.changes=new Xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rce{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Qo(e).put(r)}removeEntry(e,n,r){return Qo(e).delete(function(a,s){const o=a.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],jy(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Dr(e,r)))}getEntry(e,n){let r=Et.newInvalidDocument(n);return Qo(e).ee({index:xg,range:IDBKeyRange.only(sd(n))},(i,a)=>{r=this.Cr(n,a)}).next(()=>r)}vr(e,n){let r={size:0,document:Et.newInvalidDocument(n)};return Qo(e).ee({index:xg,range:IDBKeyRange.only(sd(n))},(i,a)=>{r={document:this.Cr(n,a),size:Uy(a)}}).next(()=>r)}getEntries(e,n){let r=ir();return this.Fr(e,n,(i,a)=>{const s=this.Cr(i,a);r=r.insert(i,s)}).next(()=>r)}Mr(e,n){let r=ir(),i=new bt(de.comparator);return this.Fr(e,n,(a,s)=>{const o=this.Cr(a,s);r=r.insert(a,o),i=i.insert(a,Uy(s))}).next(()=>({documents:r,Or:i}))}Fr(e,n,r){if(n.isEmpty())return H.resolve();let i=new st(yI);n.forEach(l=>i=i.add(l));const a=IDBKeyRange.bound(sd(i.first()),sd(i.last())),s=i.getIterator();let o=s.getNext();return Qo(e).ee({index:xg,range:a},(l,u,d)=>{const f=de.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;o&&yI(o,f)<0;)r(o,null),o=s.getNext();o&&o.isEqual(f)&&(r(o,u),o=s.hasNext()?s.getNext():null),o?d.j(sd(o)):d.done()}).next(()=>{for(;o;)r(o,null),o=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,a){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),jy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qo(e).J(IDBKeyRange.bound(o,l,!0)).next(u=>{a==null||a.incrementDocumentReadCount(u.length);let d=ir();for(const f of u){const m=this.Cr(de.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(Rm(n,m)||i.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,n,r,i){let a=ir();const s=gI(n,r),o=gI(n,xr.max());return Qo(e).ee({index:gk,range:IDBKeyRange.bound(s,o,!0)},(l,u,d)=>{const f=this.Cr(de.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);a=a.insert(f.key,f),a.size===i&&d.done()}).next(()=>a)}newChangeBuffer(e){return new ice(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return pI(e).get(C1).next(n=>(_e(!!n,20021),n))}Dr(e,n){return pI(e).put(C1,n)}Cr(e,n){if(n){const r=Bue(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(we.min())))return r}return Et.newInvalidDocument(e)}}function kV(t){return new rce(t)}class ice extends NV{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Xa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new st((a,s)=>Te(a.canonicalString(),s.canonicalString()));return this.changes.forEach((a,s)=>{const o=this.Br.get(a);if(n.push(this.Nr.removeEntry(e,a,o.readTime)),s.isValidDocument()){const l=ZR(this.Nr.serializer,s);i=i.add(a.path.popLast());const u=Uy(l);r+=u-o.size,n.push(this.Nr.addEntry(e,a,l))}else if(r-=o.size,this.trackRemovals){const l=ZR(this.Nr.serializer,s.convertToNoDocument(we.min()));n.push(this.Nr.addEntry(e,a,l))}}),i.forEach(a=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))}),n.push(this.Nr.updateMetadata(e,r)),H.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next(r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next(({documents:r,Or:i})=>(i.forEach((a,s)=>{this.Br.set(a,{size:s,readTime:r.get(a).readTime})}),r))}}function pI(t){return gn(t,Mf)}function Qo(t){return gn(t,Py)}function sd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gI(t,e){const n=e.documentKey.path.toArray();return[t,jy(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function yI(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=Te(n[a],r[a]),i)return i;return i=Te(n.length,r.length),i||(i=Te(n[n.length-2],r[r.length-2]),i||Te(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ace{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fd(r.mutation,i,rr.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const i=Ci();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=md();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=ir();const s=zd(),o=function(){return zd()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Za)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Fd(d.mutation,u,d.mutation.getFieldMask(),rt.now())):s.set(u.key,rr.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>o.set(u,new ace(d,s.get(u)??null))),o))}recalculateAndSaveOverlays(e,n){const r=zd();let i=new bt((s,o)=>s-o),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||rr.empty();d=o.applyToLocalView(u,d),r.set(l,d);const f=(i.get(o.batchId)||De()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,f=Xk();d.forEach(m=>{if(!a.has(m)){const g=iV(n.get(m),r.get(m));g!==null&&f.set(m,g),a=a.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):H.resolve(Ci());let o=Cc,l=a;return s.next(u=>H.forEach(u,(d,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,De())).next(d=>({batchId:o,changes:Qk(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=md();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=md();return this.indexManager.getCollectionParents(e,a).next(o=>H.forEach(o,l=>{const u=function(f,m){return new Qa(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Et.newInvalidDocument(d)))});let o=md();return s.forEach((l,u)=>{const d=a.get(l);d!==void 0&&Fd(d.mutation,u,rr.empty(),rt.now()),Rm(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sce{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:en(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:a_(i.bundledQuery),readTime:en(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oce{constructor(){this.overlays=new bt(de.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ci();return H.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Ci(),a=n.length+1,s=new de(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new bt((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=a.get(u.largestBatchId);d===null&&(d=Ci(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Ci(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return H.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new VT(n,r));let a=this.qr.get(n);a===void 0&&(a=De(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lce{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.Qr=new st(yn.$r),this.Ur=new st(yn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new yn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new de(new ke([])),r=new yn(n,e),i=new yn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new ke([])),r=new yn(n,e),i=new yn(n,e+1);let a=De();return this.Ur.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new yn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Te(e.Yr,n.Yr)}static Kr(e,n){return Te(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uce{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new st(yn.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new NT(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new yn(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return H.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?no:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),i=new yn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),H.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(Te);return n.forEach(i=>{const a=new yn(i,0),s=new yn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{r=r.add(o.Yr)})}),H.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;de.isDocumentKey(a)||(a=a.child(""));const s=new yn(new de(a),0);let o=new st(Te);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},s),H.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return H.forEach(n.mutations,i=>{const a=new yn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new yn(n,0),i=this.Zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cce{constructor(e){this.ri=e,this.docs=function(){return new bt(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let r=ir();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Et.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ir();const s=n.path,o=new de(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||wT(ck(d),r)<=0||(i.has(d.key)||Rm(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return H.resolve(a)}getAllFromCollectionGroup(e,n,r,i){ge(9500)}ii(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hce(this)}getSize(e){return H.resolve(this.size)}}class hce extends NV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dce{constructor(e){this.persistence=e,this.si=new Xa(n=>Ll(n),Am),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new zT,this.targetCount=0,this.ai=Fl.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Fl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),H.waitFor(a).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.ui={},this.overlays={},this.ci=new nr(0),this.li=!1,this.li=!0,this.hi=new lce,this.referenceDelegate=e(this),this.Pi=new dce(this),this.indexManager=new Xue,this.remoteDocumentCache=function(i){return new cce(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new TV(n),this.Ii=new sce(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oce,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new uce(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new fce(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return H.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class fce extends dk{constructor(e){super(),this.currentSequenceNumber=e}}class l_{constructor(e){this.persistence=e,this.Ri=new zT,this.Vi=null}static mi(e){return new l_(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,r=>{const i=de.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,we.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zy{constructor(e,n){this.persistence=e,this.pi=new Xa(r=>$n(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=PV(this,n)}static mi(e,n){return new zy(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(o=>{o||(r++,a.removeEntry(s,we.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dg(e.data.value)),n}br(e,n,r){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mce{constructor(e){this.serializer=e}k(e,n,r,i){const a=new Wv("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(xm)}(e),function(l){l.createObjectStore(If,{keyPath:Ple}),l.createObjectStore(oi,{keyPath:RR,autoIncrement:!0}).createIndex(cl,IR,{unique:!0}),l.createObjectStore(kc)}(e),vI(e),function(l){l.createObjectStore(rl)}(e));let s=H.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(Lc),l.deleteObjectStore(Vc),l.deleteObjectStore(Sl)}(e),vI(e)),s=s.next(()=>function(l){const u=l.store(Sl),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:we.min().toTimestamp(),targetCount:0};return u.put(Ny,d)}(a))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,u){return u.store(oi).J().next(f=>{l.deleteObjectStore(oi),l.createObjectStore(oi,{keyPath:RR,autoIncrement:!0}).createIndex(cl,IR,{unique:!0});const m=u.store(oi),g=f.map(A=>m.put(A));return H.waitFor(g)})}(e,a))),s=s.next(()=>{(function(l){l.createObjectStore(jc,{keyPath:Fle})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.yi(a))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore(Mf)}(e),this.wi(a)))),r<7&&i>=7&&(s=s.next(()=>this.Si(a))),r<8&&i>=8&&(s=s.next(()=>this.bi(e,a))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.Di(a))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore(Kv,{keyPath:Ble})})(e),function(l){l.createObjectStore(Qv,{keyPath:Yle})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){const u=l.createObjectStore(Xv,{keyPath:Xle});u.createIndex(N1,Zle,{unique:!1}),u.createIndex(bk,Jle,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const u=l.createObjectStore(Py,{keyPath:kle});u.createIndex(xg,Vle),u.createIndex(gk,Lle)}(e)).next(()=>this.Ci(e,a)).next(()=>e.deleteObjectStore(rl))),r<14&&i>=14&&(s=s.next(()=>this.Fi(e,a))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore(ET,{keyPath:Hle,autoIncrement:!0}).createIndex(P1,qle,{unique:!1}),l.createObjectStore(jd,{keyPath:Gle}).createIndex(vk,Wle,{unique:!1}),l.createObjectStore($d,{keyPath:Kle}).createIndex(_k,Qle,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore(jd).clear()}).next(()=>{n.objectStore($d).clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(l){l.createObjectStore(xT,{keyPath:eue})})(e)})),r<18&&i>=18&&BN()&&(s=s.next(()=>{n.objectStore(jd).clear()}).next(()=>{n.objectStore($d).clear()})),s}wi(e){let n=0;return e.store(rl).ee((r,i)=>{n+=Uy(i)}).next(()=>{const r={byteSize:n};return e.store(Mf).put(C1,r)})}yi(e){const n=e.store(If),r=e.store(oi);return n.J().next(i=>H.forEach(i,a=>{const s=IDBKeyRange.bound([a.userId,no],[a.userId,a.lastAcknowledgedBatchId]);return r.J(cl,s).next(o=>H.forEach(o,l=>{_e(l.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const u=sl(this.serializer,l);return RV(e,a.userId,u).next(()=>{})}))}))}Si(e){const n=e.store(Lc),r=e.store(rl);return e.store(Sl).get(Ny).next(i=>{const a=[];return r.ee((s,o)=>{const l=new ke(s),u=function(f){return[0,$n(f)]}(l);a.push(n.get(u).next(d=>d?H.resolve():(f=>n.put({targetId:0,path:$n(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>H.waitFor(a))})}bi(e,n){e.createObjectStore(Of,{keyPath:zle});const r=n.store(Of),i=new UT,a=s=>{if(i.add(s)){const o=s.lastSegment(),l=s.popLast();return r.put({collectionId:o,parent:$n(l)})}};return n.store(rl).ee({X:!0},(s,o)=>{const l=new ke(s);return a(l.popLast())}).next(()=>n.store(kc).ee({X:!0},([s,o,l],u)=>{const d=Oi(o);return a(d.popLast())}))}Di(e){const n=e.store(Vc);return n.ee((r,i)=>{const a=gd(i),s=EV(this.serializer,a);return n.put(s)})}Ci(e,n){const r=n.store(rl),i=[];return r.ee((a,s)=>{const o=n.store(Py),l=function(f){return f.document?new de(ke.fromString(f.document.name).popFirst(5)):f.noDocument?de.fromSegments(f.noDocument.path):f.unknownDocument?de.fromSegments(f.unknownDocument.path):ge(36783)}(s).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(o.put(u))}).next(()=>H.waitFor(i))}Fi(e,n){const r=n.store(oi),i=kV(this.serializer),a=new FT(l_.mi,this.serializer.yt);return r.J().next(s=>{const o=new Map;return s.forEach(l=>{let u=o.get(l.userId)??De();sl(this.serializer,l).keys().forEach(d=>u=u.add(d)),o.set(l.userId,u)}),H.forEach(o,(l,u)=>{const d=new _n(u),f=s_.wt(this.serializer,d),m=a.getIndexManager(d),g=o_.wt(d,this.serializer,m,a.referenceDelegate);return new VV(i,g,f,m).recalculateAndSaveOverlaysForDocumentKeys(new k1(n,nr.ce),l).next()})})}}function vI(t){t.createObjectStore(Lc,{keyPath:$le}).createIndex(TT,Ule,{unique:!0}),t.createObjectStore(Vc,{keyPath:"targetId"}).createIndex(yk,jle,{unique:!0}),t.createObjectStore(Sl)}const Es="IndexedDbPersistence",G0=18e5,W0=5e3,K0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",LV="main";class BT{constructor(e,n,r,i,a,s,o,l,u,d,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=a,this.window=s,this.document=o,this.xi=u,this.Oi=d,this.Ni=f,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=m=>Promise.resolve(),!BT.v())throw new ee(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nce(this,i),this.$i=n+LV,this.serializer=new TV(l),this.Ui=new $i(this.$i,this.Ni,new mce(this.serializer)),this.hi=new Hue,this.Pi=new Jue(this.referenceDelegate,this.serializer),this.remoteDocumentCache=kV(this.serializer),this.Ii=new Yue,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,d===!1&&Jt(Es,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee(q.FAILED_PRECONDITION,K0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new nr(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(n=>this.isPrimary&&!n?this.Zi(e).next(()=>!1):!!n&&this.Xi(e).next(()=>!0))).catch(e=>{if(xo(e))return ne(Es,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ne(Es,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return od(e).get(Eu).next(n=>H.resolve(this.es(n)))}ts(e){return Xp(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,G0)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=gn(n,jc);return r.J().next(i=>{const a=this.ss(i,G0),s=i.filter(o=>a.indexOf(o)===-1);return H.forEach(s,o=>r.delete(o.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?H.resolve(!0):od(e).get(Eu).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,W0)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ee(q.FAILED_PRECONDITION,K0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xp(e).J().next(r=>this.ss(r,W0).find(i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(a||s&&o)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&ne(Es,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[xm,jc],e=>{const n=new k1(e,nr.ce);return this.Zi(n).next(()=>this.ts(n))}),this.Ui.close(),this.Ps()}ss(e,n){return e.filter(r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>Xp(e).J().next(n=>this.ss(n,G0).map(r=>r.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return o_.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Zue(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return s_.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){ne(Es,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=function(l){return l===18?rue:l===17?Ek:l===16?nue:l===15?AT:l===14?Tk:l===13?Sk:l===12?tue:l===11?wk:void ge(60245)}(this.Ni);let s;return this.Ui.runTransaction(e,i,a,o=>(s=new k1(o,this.ci?this.ci.next():nr.ce),n==="readwrite-primary"?this.Hi(s).next(l=>!!l||this.Yi(s)).next(l=>{if(!l)throw Jt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new ee(q.FAILED_PRECONDITION,hk);return r(s)}).next(l=>this.Xi(s).next(()=>l)):this.Is(s).next(()=>r(s)))).then(o=>(s.raiseOnCommittedEvent(),o))}Is(e){return od(e).get(Eu).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,W0)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ee(q.FAILED_PRECONDITION,K0)})}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return od(e).put(Eu,n)}static v(){return $i.v()}Zi(e){const n=od(e);return n.get(Eu).next(r=>this.es(r)?(ne(Es,"Releasing primary lease."),n.delete(Eu)):H.resolve())}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Jt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;FN()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return ne(Es,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Jt(Es,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Jt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function od(t){return gn(t,xm)}function Xp(t){return gn(t,jc)}function YT(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=De(),i=De();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new HT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pce{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return FN()?8:fk(Ry())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new pce;return this.Ss(e,n,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,n,s,o.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Vu()<=Ye.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Lu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(Vu()<=Ye.DEBUG&&ne("QueryEngine","Query:",Lu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Vu()<=Ye.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Lu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(n))):H.resolve())}ys(e,n){if(FR(n))return H.resolve(null);let r=Un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ly(n,null,"F"),r=Un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=De(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,o);return this.Cs(n,u,s,l.readTime)?this.ys(e,Ly(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return FR(n)||i.isEqual(we.min())?H.resolve(null):this.ps.getDocuments(e,r).next(a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?H.resolve(null):(Vu()<=Ye.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lu(n)),this.vs(e,s,n,uk(i,Cc)).next(o=>o))})}Ds(e,n){let r=new st(Wk(e));return n.forEach((i,a)=>{Rm(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Vu()<=Ye.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Lu(n)),this.ps.getDocumentsMatchingQuery(e,n,xr.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="LocalStore",gce=3e8;class yce{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new bt(Te),this.xs=new Xa(a=>Ll(a),Am),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function $V(t,e,n,r){return new yce(t,e,n,r)}async function UV(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=De();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function vce(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const f=u.batch,m=f.keys();let g=H.resolve();return m.forEach(A=>{g=g.next(()=>d.getEntry(l,A)).next(b=>{const S=u.docVersions.get(A);_e(S!==null,48541),b.version.compareTo(S)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=De();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zV(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function _ce(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;o.push(n.Pi.removeMatchingKeys(a,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(a,d.addedDocuments,f)));let g=m.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(b,S,_){return b.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=gce?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,g,d)&&o.push(n.Pi.updateTargetData(a,g))});let l=ir(),u=De();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(FV(a,s,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(we.min())){const d=n.Pi.getLastRemoteSnapshotVersion(a).next(f=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(d)}return H.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.Ms=i,a))}function FV(t,e,n){let r=De(),i=De();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=ir();return n.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):ne(qT,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function bce(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=no),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hc(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,H.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Ra(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function qc(t,e,n){const r=fe(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!xo(s))throw s;ne(qT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Fy(t,e,n){const r=fe(t);let i=we.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const f=fe(l),m=f.xs.get(d);return m!==void 0?H.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,d)}(r,s,Un(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:we.min(),n?a:De())).next(o=>(HV(r,Gk(e),o),{documents:o,Qs:a})))}function BV(t,e){const n=fe(t),r=fe(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",a=>r.At(a,e).next(s=>s?s.target:null))}function YV(t,e){const n=fe(t),r=n.Os.get(e)||we.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Ns.getAllFromCollectionGroup(i,e,uk(r,Cc),Number.MAX_SAFE_INTEGER)).then(i=>(HV(n,e,i),i))}function HV(t,e,n){let r=t.Os.get(e)||we.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}async function wce(t,e,n,r){const i=fe(t);let a=De(),s=ir();for(const u of n){const d=e.$s(u.metadata.name);u.document&&(a=a.add(d));const f=e.Us(u);f.setReadTime(e.Ks(u.metadata.readTime)),s=s.insert(d,f)}const o=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await Hc(i,function(d){return Un(wh(ke.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>FV(u,o,s).next(d=>(o.apply(u),d)).next(d=>i.Pi.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Pi.addMatchingKeys(u,a,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.ks,d.qs)).next(()=>d.ks)))}async function Sce(t,e,n=De()){const r=await Hc(t,Un(a_(e.bundledQuery))),i=fe(t);return i.persistence.runTransaction("Save named query","readwrite",a=>{const s=en(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ii.saveNamedQuery(a,e);const o=r.withResumeToken(Kt.EMPTY_BYTE_STRING,s);return i.Ms=i.Ms.insert(o.targetId,o),i.Pi.updateTargetData(a,o).next(()=>i.Pi.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Pi.addMatchingKeys(a,n,r.targetId)).next(()=>i.Ii.saveNamedQuery(a,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV="firestore_clients";function _I(t,e){return`${qV}_${t}_${e}`}const GV="firestore_mutations";function bI(t,e,n){let r=`${GV}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const WV="firestore_targets";function Q0(t,e){return`${WV}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="SharedClientState";class By{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let a,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(a=new ee(i.error.code,i.error.message))),s?new By(e,n,i.state,a):(Jt(Di,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yd{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new ee(r.error.code,r.error.message))),a?new Yd(e,r.state,i):(Jt(Di,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yy{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=OT();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=mk(r.activeTargetIds[s]),a=a.add(r.activeTargetIds[s]);return i?new Yy(e,a):(Jt(Di,`Failed to parse client data for instance '${e}': ${n}`),null)}}class GT{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new GT(n.clientId,n.onlineState):(Jt(Di,`Failed to parse online state: ${e}`),null)}}class K1{constructor(){this.activeTargetIds=OT()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X0{constructor(e,n,r,i,a){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new bt(Te),this.started=!1,this.Xs=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.eo=_I(this.persistenceKey,this.Js),this.no=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new K1),this.ro=new RegExp(`^${qV}_${s}_([^_]*)$`),this.io=new RegExp(`^${GV}_${s}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${WV}_${s}_(\\d+)$`),this.oo=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this._o=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(_I(this.persistenceKey,r));if(i){const a=Yy.Ws(r,i);a&&(this.Zs=this.Zs.insert(a.clientId,a))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Q0(this.persistenceKey,e));if(i){const a=Yd.Ws(e,i);a&&(r=a.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Q0(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Po(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ne(Di,"READ",e,n),n}setItem(e,n){ne(Di,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){ne(Di,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(ne(Di,"EVENT",n.key,n.newValue),n.key===this.eo)return void Jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=function(a){let s=nr.ce;if(a!=null)try{const o=JSON.parse(a);_e(typeof o=="number",30636,{So:a}),s=o}catch(o){Jt(Di,"Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==nr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Do(i)))}}}else this.Xs.push(n)})}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new By(this.currentUser,e,n,r),a=bI(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Gs())}Po(e){const n=bI(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=Q0(this.persistenceKey,e),a=new Yd(e,n,r);this.setItem(i,a.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return Yy.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return By.Ws(new _n(a),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return Yd.Ws(i,n)}uo(e){return GT.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ne(Di,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),a=this.lo(r),s=[],o=[];return a.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{a.has(l)||o.push(l)}),this.syncEngine.Fo(s,o).then(()=>{this.Zs=r})}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=OT();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class KV{constructor(){this.Mo=new K1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new K1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="ConnectivityMonitor";class SI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ne(wI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ne(wI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zp=null;function Q1(){return Zp===null?Zp=function(){return 268435456+Math.round(2147483648*Math.random())}():Zp++,"0x"+Zp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="RestConnection",Ece={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xce{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Pf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=Q1(),o=this.zo(e,n.toUriEncodedString());ne(Z0,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(o),d=qv(u);return this.Jo(e,o,l,r,d).then(f=>(ne(Z0,`Received RPC '${e}' ${s}: `,f),f),f=>{throw qr(Z0,`RPC '${e}' ${s} failed with error: `,f,"url: ",o,"request:",r),f})}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=Ece[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class Dce extends xce{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=Q1();return new Promise((o,l)=>{const u=new JN;u.setWithCredentials(!0),u.listenOnce(ek.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Tg.NO_ERROR:const f=u.getResponseJson();ne(Nn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Tg.TIMEOUT:ne(Nn,`RPC '${e}' ${s} timed out`),l(new ee(q.DEADLINE_EXCEEDED,"Request time out"));break;case Tg.HTTP_ERROR:const m=u.getStatus();if(ne(Nn,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const A=g==null?void 0:g.error;if(A&&A.status&&A.message){const b=function(_){const T=_.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(T)>=0?T:q.UNKNOWN}(A.status);l(new ee(b,A.message))}else l(new ee(q.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ee(q.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ne(Nn,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);ne(Nn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=Q1(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rk(),o=nk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=a.join("");ne(Nn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);this.I_(f);let m=!1,g=!1;const A=new Ace({Yo:S=>{g?ne(Nn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(ne(Nn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),ne(Nn,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},Zo:()=>f.close()}),b=(S,_,T)=>{S.listen(_,D=>{try{T(D)}catch(O){setTimeout(()=>{throw O},0)}})};return b(f,fd.EventType.OPEN,()=>{g||(ne(Nn,`RPC '${e}' stream ${i} transport opened.`),A.o_())}),b(f,fd.EventType.CLOSE,()=>{g||(g=!0,ne(Nn,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(f))}),b(f,fd.EventType.ERROR,S=>{g||(g=!0,qr(Nn,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),A.a_(new ee(q.UNAVAILABLE,"The operation could not be completed")))}),b(f,fd.EventType.MESSAGE,S=>{var _;if(!g){const T=S.data[0];_e(!!T,16349);const D=T,O=(D==null?void 0:D.error)||((_=D[0])==null?void 0:_.error);if(O){ne(Nn,`RPC '${e}' stream ${i} received error:`,O);const L=O.status;let z=function(C){const P=tn[C];if(P!==void 0)return lV(P)}(L),I=O.message;z===void 0&&(z=q.INTERNAL,I="Unknown error status: "+L+" with message "+O.message),g=!0,A.a_(new ee(z,I)),f.close()}else ne(Nn,`RPC '${e}' stream ${i} received:`,T),A.u_(T)}}),b(o,tk.STAT_EVENT,S=>{S.stat===D1.PROXY?ne(Nn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===D1.NOPROXY&&ne(Nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(){return typeof window<"u"?window:null}function Cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){return new Pue(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="PersistentStream";class XV{constructor(e,n,r,i,a,s,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Jt(n.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ee(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ne(TI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ne(TI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rce extends XV{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Vue(this.serializer,e),r=function(a){if(!("targetChange"in a))return we.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?we.min():s.readTime?en(s.readTime):we.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Y1(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=ky(l)?{documents:yV(a,l)}:{query:i_(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=dV(a,s.resumeToken);const u=F1(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(we.min())>0){o.readTime=Yc(a,s.snapshotVersion.toTimestamp());const u=F1(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=jue(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Y1(this.serializer),n.removeTarget=e,this.q_(n)}}class Ice extends XV{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Lue(e.writeResults,e.commitTime),r=en(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Y1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>jf(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mce{}class Oce extends Mce{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ee(q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,B1(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ee(q.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,B1(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(q.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Cce{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jt(n),this.aa=!1):ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="RemoteStore";class Pce{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Do(this)&&(ne(Bl,"Restarting streams for network reachability change."),await async function(l){const u=fe(l);u.Ea.add(4),await Eh(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Cm(u)}(this))})}),this.Ra=new Cce(r,i)}}async function Cm(t){if(Do(t))for(const e of t.da)await e(!0)}async function Eh(t){for(const e of t.da)await e(!1)}function u_(t,e){const n=fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),XT(n)?QT(n):Ah(n).O_()&&KT(n,e))}function Gc(t,e){const n=fe(t),r=Ah(n);n.Ia.delete(e),r.O_()&&ZV(n,e),n.Ia.size===0&&(r.O_()?r.L_():Do(n)&&n.Ra.set("Unknown"))}function KT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ah(t).Y_(e)}function ZV(t,e){t.Va.Ue(e),Ah(t).Z_(e)}function QT(t){t.Va=new Iue({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ah(t).start(),t.Ra.ua()}function XT(t){return Do(t)&&!Ah(t).x_()&&t.Ia.size>0}function Do(t){return fe(t).Ea.size===0}function JV(t){t.Va=void 0}async function Nce(t){t.Ra.set("Online")}async function kce(t){t.Ia.forEach((e,n)=>{KT(t,e)})}async function Vce(t,e){JV(t),XT(t)?(t.Ra.ha(e),QT(t)):t.Ra.set("Unknown")}async function Lce(t,e,n){if(t.Ra.set("Online"),e instanceof hV&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){ne(Bl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hy(t,r)}else if(e instanceof Mg?t.Va.Ze(e):e instanceof cV?t.Va.st(e):t.Va.tt(e),!n.isEqual(we.min()))try{const r=await zV(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const d=a.Ia.get(l);if(!d)return;a.Ia.set(l,d.withResumeToken(Kt.EMPTY_BYTE_STRING,d.snapshotVersion)),ZV(a,l);const f=new Ra(d.target,l,u,d.sequenceNumber);KT(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ne(Bl,"Failed to raise snapshot:",r),await Hy(t,r)}}async function Hy(t,e,n){if(!xo(e))throw e;t.Ea.add(1),await Eh(t),t.Ra.set("Offline"),n||(n=()=>zV(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(Bl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cm(t)})}function eL(t,e){return e().catch(n=>Hy(t,n,e))}async function xh(t){const e=fe(t),n=po(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:no;for(;jce(e);)try{const i=await bce(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,$ce(e,i)}catch(i){await Hy(e,i)}tL(e)&&nL(e)}function jce(t){return Do(t)&&t.Ta.length<10}function $ce(t,e){t.Ta.push(e);const n=po(t);n.O_()&&n.X_&&n.ea(e.mutations)}function tL(t){return Do(t)&&!po(t).x_()&&t.Ta.length>0}function nL(t){po(t).start()}async function Uce(t){po(t).ra()}async function zce(t){const e=po(t);for(const n of t.Ta)e.ea(n.mutations)}async function Fce(t,e,n){const r=t.Ta.shift(),i=kT.from(r,e,n);await eL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xh(t)}async function Bce(t,e){e&&po(t).X_&&await async function(r,i){if(function(s){return oV(s)&&s!==q.ABORTED}(i.code)){const a=r.Ta.shift();po(r).B_(),await eL(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await xh(r)}}(t,e),tL(t)&&nL(t)}async function EI(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),ne(Bl,"RemoteStore received new credentials");const r=Do(n);n.Ea.add(3),await Eh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cm(n)}async function X1(t,e){const n=fe(t);e?(n.Ea.delete(2),await Cm(n)):e||(n.Ea.add(2),await Eh(n),n.Ra.set("Unknown"))}function Ah(t){return t.ma||(t.ma=function(n,r,i){const a=fe(n);return a.sa(),new Rce(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Nce.bind(null,t),t_:kce.bind(null,t),r_:Vce.bind(null,t),H_:Lce.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),XT(t)?QT(t):t.Ra.set("Unknown")):(await t.ma.stop(),JV(t))})),t.ma}function po(t){return t.fa||(t.fa=function(n,r,i){const a=fe(n);return a.sa(),new Ice(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Uce.bind(null,t),r_:Bce.bind(null,t),ta:zce.bind(null,t),na:Fce.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await xh(t)):(await t.fa.stop(),t.Ta.length>0&&(ne(Bl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new ZT(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dh(t,e){if(Jt("AsyncQueue",`${e}: ${t}`),xo(t))return new ee(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=md(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.ga=new bt(de.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yl{constructor(e,n,r,i,a,s,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Yl(e,n,Tl.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yce{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Hce{constructor(){this.queries=AI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=fe(n),a=i.queries;i.queries=AI(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new ee(q.ABORTED,"Firestore shutting down"))}}function AI(){return new Xa(t=>qk(t),Dm)}async function JT(t,e){const n=fe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new Yce,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=Dh(s,`Initialization of query '${Lu(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&tE(n)}async function eE(t,e){const n=fe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qce(t,e){const n=fe(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(r=!0);s.wa=i}}r&&tE(n)}function Gce(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function tE(t){t.Ca.forEach(e=>{e.next()})}var Z1,DI;(DI=Z1||(Z1={})).Ma="default",DI.Cache="cache";class nE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Z1.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.serializer=e}$s(e){return Ui(this.serializer,e)}Us(e){return e.metadata.exists?r_(this.serializer,e.document,!1):Et.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return en(e)}}class rE{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=iL(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=ke.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new RI(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.$s(i.metadata.name);for(const s of i.metadata.queries){const o=(n.get(s)||De()).add(a);n.set(s,o)}}return n}async ja(e){const n=await wce(e,new RI(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await Sce(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function iL(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.key=e}}class sL{constructor(e){this.key=e}}class oL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=Wk(e),this.tu=new Tl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new xI,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),g=Rm(this.query,f)?f:null,A=!!m&&this.mutatedKeys.has(m.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let S=!1;m&&g?m.data.isEqual(g.data)?A!==b&&(r.track({type:3,doc:g}),S=!0):this.su(m,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(o=!0)):!m&&g?(r.track({type:0,doc:g}),S=!0):m&&!g&&(r.track({type:1,doc:m}),S=!0,(l||u)&&(o=!0)),S&&(g?(s=s.add(g),a=b?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,f)=>function(g,A){const b=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:S})}};return b(g)-b(A)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new Yl(this.query,e.tu,a,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new sL(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new aL(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=De();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ro="SyncEngine";class Wce{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Kce{constructor(e){this.key=e,this.hu=!1}}class Qce{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Xa(o=>qk(o),Dm),this.Iu=new Map,this.Eu=new Set,this.du=new bt(de.comparator),this.Au=new Map,this.Ru=new zT,this.Vu={},this.mu=new Map,this.fu=Fl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Xce(t,e,n=!0){const r=c_(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await lL(r,e,n,!0),i}async function Zce(t,e){const n=c_(t);await lL(n,e,!0,!1)}async function lL(t,e,n,r){const i=await Hc(t.localStore,Un(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await iE(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&u_(t.remoteStore,i),o}async function iE(t,e,n,r,i){t.pu=(f,m,g)=>async function(b,S,_,T){let D=S.view.ru(_);D.Cs&&(D=await Fy(b.localStore,S.query,!1).then(({documents:I})=>S.view.ru(I,D)));const O=T&&T.targetChanges.get(S.targetId),L=T&&T.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(D,b.isPrimaryClient,O,L);return J1(b,S.targetId,z.au),z.snapshot}(t,f,m,g);const a=await Fy(t.localStore,e,!0),s=new oL(e,a.Qs),o=s.ru(a.documents),l=Om.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,l);J1(t,n,u.au);const d=new Wce(e,n,s);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Jce(t,e,n){const r=fe(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!Dm(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Gc(r.remoteStore,i.targetId),Wc(r,i.targetId)}).catch(Eo)):(Wc(r,i.targetId),await qc(r.localStore,i.targetId,!0))}async function ehe(t,e){const n=fe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gc(n.remoteStore,r.targetId))}async function the(t,e,n){const r=lE(t);try{const i=await function(s,o){const l=fe(s),u=rt.now(),d=o.reduce((g,A)=>g.add(A.key),De());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let A=ir(),b=De();return l.Ns.getEntries(g,d).next(S=>{A=S,A.forEach((_,T)=>{T.isValidDocument()||(b=b.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,A)).next(S=>{f=S;const _=[];for(const T of o){const D=Aue(T,f.get(T.key).overlayedDocument);D!=null&&_.push(new Za(T.key,D,kk(D.value.mapValue),Nt.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,_,o)}).next(S=>{m=S;const _=S.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(g,S.batchId,_)})}).then(()=>({batchId:m.batchId,changes:Qk(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new bt(Te)),u=u.insert(o,l),s.Vu[s.currentUser.toKey()]=u}(r,i.batchId,n),await Ja(r,i.changes),await xh(r.remoteStore)}catch(i){const a=Dh(i,"Failed to persist write");n.reject(a)}}async function uL(t,e){const n=fe(t);try{const r=await _ce(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?_e(s.hu,14607):i.removedDocuments.size>0&&(_e(s.hu,42227),s.hu=!1))}),await Ja(n,r,e)}catch(r){await Eo(r)}}function II(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=fe(s);l.onlineState=o;let u=!1;l.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(o)&&(u=!0)}),u&&tE(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nhe(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new bt(de.comparator);s=s.insert(a,Et.newNoDocument(a,we.min()));const o=De().add(a),l=new Mm(we.min(),new Map,new bt(Te),s,o);await uL(r,l),r.du=r.du.remove(a),r.Au.delete(e),oE(r)}else await qc(r.localStore,e,!1).then(()=>Wc(r,e,n)).catch(Eo)}async function rhe(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await vce(n.localStore,e);sE(n,r,null),aE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ja(n,i)}catch(i){await Eo(i)}}async function ihe(t,e,n){const r=fe(t);try{const i=await function(s,o){const l=fe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(_e(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);sE(r,e,n),aE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ja(r,i)}catch(i){await Eo(i)}}async function ahe(t,e){const n=fe(t);Do(n.remoteStore)||ne(Ro,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=fe(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===no)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=Dh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function aE(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function sE(t,e,n){const r=fe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Wc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||cL(t,r)})}function cL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Gc(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),oE(t))}function J1(t,e,n){for(const r of n)r instanceof aL?(t.Ru.addReference(r.key,e),she(t,r)):r instanceof sL?(ne(Ro,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||cL(t,r.key)):ge(19791,{wu:r})}function she(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ne(Ro,"New document in limbo: "+n),t.Eu.add(r),oE(t))}function oE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new de(ke.fromString(e)),r=t.fu.next();t.Au.set(r,new Kce(n)),t.du=t.du.insert(n,r),u_(t.remoteStore,new Ra(Un(wh(n.path)),r,"TargetPurposeLimboResolution",nr.ce))}}async function Ja(t,e,n){const r=fe(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=HT.As(l.targetId,u);a.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const d=fe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(u,m=>H.forEach(m.Es,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>H.forEach(m.ds,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!xo(f))throw f;ne(qT,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const g=d.Ms.get(m),A=g.snapshotVersion,b=g.withLastLimboFreeSnapshotVersion(A);d.Ms=d.Ms.insert(m,b)}}}(r.localStore,a))}async function ohe(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){ne(Ro,"User change. New user:",e.toKey());const r=await UV(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new ee(q.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ja(n,r.Ls)}}function lhe(t,e){const n=fe(t),r=n.Au.get(e);if(r&&r.hu)return De().add(r.key);{let i=De();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}async function uhe(t,e){const n=fe(t),r=await Fy(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&J1(n,e.targetId,i.au),i}async function che(t,e){const n=fe(t);return YV(n.localStore,e).then(r=>Ja(n,r))}async function hhe(t,e,n,r){const i=fe(t),a=await function(o,l){const u=fe(o),d=fe(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.er(f,l).next(m=>m?u.localDocuments.getDocuments(f,m):H.resolve(null)))}(i.localStore,e);a!==null?(n==="pending"?await xh(i.remoteStore):n==="acknowledged"||n==="rejected"?(sE(i,e,r||null),aE(i,e),function(o,l){fe(fe(o).mutationQueue).ir(l)}(i.localStore,e)):ge(6720,"Unknown batchState",{Su:n}),await Ja(i,a)):ne(Ro,"Cannot apply mutation batch with id: "+e)}async function dhe(t,e){const n=fe(t);if(c_(n),lE(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await MI(n,r.toArray());n.gu=!0,await X1(n.remoteStore,!0);for(const a of i)u_(n.remoteStore,a)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach((a,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Wc(n,s),qc(n.localStore,s,!0))),Gc(n.remoteStore,s)}),await i,await MI(n,r),function(s){const o=fe(s);o.Au.forEach((l,u)=>{Gc(o.remoteStore,u)}),o.Ru.Jr(),o.Au=new Map,o.du=new bt(de.comparator)}(n),n.gu=!1,await X1(n.remoteStore,!1)}}async function MI(t,e,n){const r=fe(t),i=[],a=[];for(const s of e){let o;const l=r.Iu.get(s);if(l&&l.length!==0){o=await Hc(r.localStore,Un(l[0]));for(const u of l){const d=r.Tu.get(u),f=await uhe(r,d);f.snapshot&&a.push(f.snapshot)}}else{const u=await BV(r.localStore,s);o=await Hc(r.localStore,u),await iE(r,hL(u),s,!1,o.resumeToken)}i.push(o)}return r.Pu.H_(a),i}function hL(t){return Bk(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function fhe(t){return function(n){return fe(fe(n).persistence).Ts()}(fe(t).localStore)}async function mhe(t,e,n,r){const i=fe(t);if(i.gu)return void ne(Ro,"Ignoring unexpected query state notification.");const a=i.Iu.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const s=await YV(i.localStore,Gk(a[0])),o=Mm.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Kt.EMPTY_BYTE_STRING);await Ja(i,s,o);break}case"rejected":await qc(i.localStore,e,!0),Wc(i,e,r);break;default:ge(64155,n)}}async function phe(t,e,n){const r=c_(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ne(Ro,"Adding an already active target "+i);continue}const a=await BV(r.localStore,i),s=await Hc(r.localStore,a);await iE(r,hL(a),s.targetId,!1,s.resumeToken),u_(r.remoteStore,s)}for(const i of n)r.Iu.has(i)&&await qc(r.localStore,i,!1).then(()=>{Gc(r.remoteStore,i),Wc(r,i)}).catch(Eo)}}function c_(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lhe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nhe.bind(null,e),e.Pu.H_=qce.bind(null,e.eventManager),e.Pu.yu=Gce.bind(null,e.eventManager),e}function lE(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ihe.bind(null,e),e}function ghe(t,e,n){const r=fe(t);(async function(a,s,o){try{const l=await s.getMetadata();if(await function(g,A){const b=fe(g),S=en(A.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",_=>b.Ii.getBundleMetadata(_,A.id)).then(_=>!!_&&_.createTime.compareTo(S)>=0)}(a.localStore,l))return await s.close(),o._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(l)),Promise.resolve(new Set);o._updateProgress(iL(l));const u=new rE(l,s.serializer);let d=await s.bu();for(;d;){const m=await u.Ga(d);m&&o._updateProgress(m),d=await s.bu()}const f=await u.ja(a.localStore);return await Ja(a,f.Ha,void 0),await function(g,A){const b=fe(g);return b.persistence.runTransaction("Save bundle","readwrite",S=>b.Ii.saveBundleMetadata(S,A))}(a.localStore,l),o._completeWith(f.progress),Promise.resolve(f.Ja)}catch(l){return qr(Ro,`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jl(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $V(this.persistence,new jV,e.initialUser,this.serializer)}Cu(e){return new FT(l_.mi,this.serializer)}Du(e){return new KV}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kc.provider={build:()=>new Kc};class uE extends Kc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_e(this.persistence.referenceDelegate instanceof zy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new FT(r=>zy.mi(r,n),this.serializer)}}class cE extends Kc{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await lE(this.xu.syncEngine),await xh(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return $V(this.persistence,new jV,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new CV(r,e.asyncQueue,n)}Mu(e,n){const r=new Ole(n,this.persistence);return new Mle(e.asyncQueue,r)}Cu(e){const n=YT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new BT(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,QV(),Cg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new KV}}class dL extends cE{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof X0&&(this.sharedClientState.syncEngine={Co:hhe.bind(null,n),vo:mhe.bind(null,n),Fo:phe.bind(null,n),Ts:fhe.bind(null,n),Do:che.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await dhe(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Du(e){const n=QV();if(!X0.v(n))throw new ee(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=YT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new X0(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class go{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>II(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ohe.bind(null,this.syncEngine),await X1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Hce}()}createDatastore(e){const n=Jl(e.databaseInfo.databaseId),r=function(a){return new Dce(a)}(e.databaseInfo);return function(a,s,o,l){return new Oce(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new Pce(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>II(this.syncEngine,n,0),function(){return SI.v()?new SI:new Tce}())}createSyncEngine(e,n){return function(i,a,s,o,l,u,d){const f=new Qce(i,a,s,o,l,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=fe(i);ne(Bl,"RemoteStore shutting down."),a.Ea.add(5),await Eh(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}go.provider={build:()=>new go};function OI(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yhe{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new Tn,this.buffer=new Uint8Array,this.Lu=function(){return new TextDecoder("utf-8")}(),this.ku().then(r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))},r=>this.metadata.reject(r))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new rL(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vhe{constructor(e,n){this.bundleData=e,this.serializer=n,this.cursor=0,this.elements=[];let r=this.bu();if(!r||!r.$a())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(r==null?void 0:r.Qa)}`);this.metadata=r;do r=this.bu(),r!==null&&this.elements.push(r);while(r!==null)}getMetadata(){return this.metadata}Wu(){return this.elements}bu(){if(this.cursor===this.bundleData.length)return null;const e=this.qu(),n=this.$u(e);return new rL(JSON.parse(n),e)}$u(e){if(this.cursor+e>this.bundleData.length)throw new ee(q.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}qu(){const e=this.cursor;let n=this.cursor;for(;n<this.bundleData.length;){if(this.bundleData[n]==="{"){if(n===e)throw new Error("First character is a bracket and not a number");return this.cursor=n,Number(this.bundleData.slice(e,n))}n++}throw new Error("Reached the end of bundle when more is expected.")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _he{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ee(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,a){const s=fe(i),o={documents:a.map(f=>Lf(s.serializer,f))},l=await s.Ho("BatchGetDocuments",s.serializer.databaseId,ke.emptyPath(),o,a.length),u=new Map;l.forEach(f=>{const m=kue(s.serializer,f);u.set(m.key.toString(),m)});const d=[];return a.forEach(f=>{const m=u.get(f.toString());_e(!!m,55234,{key:f}),d.push(m)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Th(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=de.fromPath(r);this.mutations.push(new PT(i,this.precondition(i)))}),await async function(r,i){const a=fe(r),s={writes:i.map(o=>jf(a.serializer,o))};await a.Go("Commit",a.serializer.databaseId,ke.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ge(50498,{Gu:e.constructor.name});n=we.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ee(q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(we.min())?Nt.exists(!1):Nt.updateTime(n):Nt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(we.min()))throw new ee(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nt.updateTime(n)}return Nt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bhe{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new WT(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new _he(this.datastore),n=this.Hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{const n=this.updateFunction(e);return!Em(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!oV(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="FirestoreClient";class whe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_n.UNAUTHENTICATED,this.clientId=_T.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{ne(yo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ne(yo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function J0(t,e){t.asyncQueue.verifyOperationInProgress(),ne(yo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UV(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function CI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hE(t);ne(yo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>EI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>EI(e.remoteStore,i)),t._onlineComponents=e}async function hE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(yo,"Using user provided OfflineComponentProvider");try{await J0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;qr("Error using user provided cache. Falling back to memory cache: "+n),await J0(t,new Kc)}}else ne(yo,"Using default OfflineComponentProvider"),await J0(t,new uE(void 0));return t._offlineComponents}async function d_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(yo,"Using user provided OnlineComponentProvider"),await CI(t,t._uninitializedComponentsProvider._online)):(ne(yo,"Using default OnlineComponentProvider"),await CI(t,new go))),t._onlineComponents}function fL(t){return hE(t).then(e=>e.persistence)}function Rh(t){return hE(t).then(e=>e.localStore)}function mL(t){return d_(t).then(e=>e.remoteStore)}function dE(t){return d_(t).then(e=>e.syncEngine)}function pL(t){return d_(t).then(e=>e.datastore)}async function Qc(t){const e=await d_(t),n=e.eventManager;return n.onListen=Xce.bind(null,e.syncEngine),n.onUnlisten=Jce.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Zce.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ehe.bind(null,e.syncEngine),n}function She(t){return t.asyncQueue.enqueue(async()=>{const e=await fL(t),n=await mL(t);return e.setNetworkEnabled(!0),function(i){const a=fe(i);return a.Ea.delete(0),Cm(a)}(n)})}function The(t){return t.asyncQueue.enqueue(async()=>{const e=await fL(t),n=await mL(t);return e.setNetworkEnabled(!1),async function(i){const a=fe(i);a.Ea.add(0),await Eh(a),a.Ra.set("Offline")}(n)})}function Ehe(t,e){const n=new Tn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,a,s){try{const o=await function(u,d){const f=fe(u);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,d))}(i,a);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new ee(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=Dh(o,`Failed to get document '${a} from cache`);s.reject(l)}}(await Rh(t),e,n)),n.promise}function gL(t,e,n={}){const r=new Tn;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const d=new h_({next:m=>{d.Nu(),s.enqueueAndForget(()=>eE(a,f));const g=m.docs.has(o);!g&&m.fromCache?u.reject(new ee(q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?u.reject(new ee(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new nE(wh(o.path),d,{includeMetadataChanges:!0,qa:!0});return JT(a,f)}(await Qc(t),t.asyncQueue,e,n,r)),r.promise}function xhe(t,e){const n=new Tn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,a,s){try{const o=await Fy(i,a,!0),l=new oL(a,o.Qs),u=l.ru(o.documents),d=l.applyChanges(u,!1);s.resolve(d.snapshot)}catch(o){const l=Dh(o,`Failed to execute query '${a} against cache`);s.reject(l)}}(await Rh(t),e,n)),n.promise}function yL(t,e,n={}){const r=new Tn;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const d=new h_({next:m=>{d.Nu(),s.enqueueAndForget(()=>eE(a,f)),m.fromCache&&l.source==="server"?u.reject(new ee(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new nE(o,d,{includeMetadataChanges:!0,qa:!0});return JT(a,f)}(await Qc(t),t.asyncQueue,e,n,r)),r.promise}function Ahe(t,e,n){const r=new Tn;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await pL(t);r.resolve(async function(s,o,l){var b;const u=fe(s),{request:d,gt:f,parent:m}=vV(u.serializer,Yk(o),l);u.connection.$o||delete d.parent;const g=(await u.Ho("RunAggregationQuery",u.serializer.databaseId,m,d,1)).filter(S=>!!S.result);_e(g.length===1,64727);const A=(b=g[0].result)==null?void 0:b.aggregateFields;return Object.keys(A).reduce((S,_)=>(S[f[_]]=A[_],S),{})}(i,e,n))}catch(i){r.reject(i)}}),r.promise}function Dhe(t,e){const n=new h_(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,a){fe(i).Ca.add(a),a.next()}(await Qc(t),n)),()=>{n.Nu(),t.asyncQueue.enqueueAndForget(async()=>function(i,a){fe(i).Ca.delete(a)}(await Qc(t),n))}}function Rhe(t,e,n,r){const i=function(s,o){let l;return l=typeof s=="string"?uV().encode(s):s,function(d,f){return new yhe(d,f)}(function(d,f){if(d instanceof Uint8Array)return OI(d,f);if(d instanceof ArrayBuffer)return OI(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),o)}(n,Jl(e));t.asyncQueue.enqueueAndForget(async()=>{ghe(await dE(t),i,r)})}function Ihe(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const a=fe(r);return a.persistence.runTransaction("Get named query","readonly",s=>a.Ii.getNamedQuery(s,i))}(await Rh(t),e))}function vL(t,e){return function(r,i){return new vhe(r,i)}(t,e)}function Mhe(t,e){return t.asyncQueue.enqueue(async()=>async function(r,i){const a=fe(r),s=a.indexManager,o=[];return a.persistence.runTransaction("Configure indexes","readwrite",l=>s.getFieldIndexes(l).next(u=>function(f,m,g,A,b){f=[...f],m=[...m],f.sort(g),m.sort(g);const S=f.length,_=m.length;let T=0,D=0;for(;T<_&&D<S;){const O=g(f[D],m[T]);O<0?b(f[D++]):O>0?A(m[T++]):(T++,D++)}for(;T<_;)A(m[T++]);for(;D<S;)b(f[D++])}(u,i,Ale,d=>{o.push(s.addFieldIndex(l,d))},d=>{o.push(s.deleteFieldIndex(l,d))})).next(()=>H.waitFor(o)))}(await Rh(t),e))}function Ohe(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){fe(r).Fs.Vs=i}(await Rh(t),e))}function Che(t){return t.asyncQueue.enqueue(async()=>function(n){const r=fe(n),i=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",a=>i.deleteAllFieldIndexes(a))}(await Rh(t)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="firestore.googleapis.com",NI=!0;class kI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ee(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bL,this.ssl=NI}else this.host=e.host,this.ssl=e.ssl??NI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OV)throw new ee(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xle("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_L(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ee(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ple;switch(r.type){case"firstParty":return new _le(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PI.get(n);r&&(ne("ComponentProvider","Removing Datastore"),PI.delete(n),r.terminate())}(this),Promise.resolve()}}function Phe(t,e,n,r={}){var u;t=je(t,Pm);const i=qv(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(UN(`https://${o}`),Qse("Firestore",!0)),a.host!==bL&&a.host!==o&&qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!uo(l,s)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=_n.MOCK_USER;else{d=Gse(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ee(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new _n(m)}t._authCredentials=new gle(new ak(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new En(this.firestore,e,this._query)}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}toJSON(){return{type:ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Zl(n,ut._jsonSchema))return new ut(e,r||null,new de(ke.fromString(n.referencePath)))}}ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:rn("string",ut._jsonSchemaVersion),referencePath:rn("string")};class zi extends En{constructor(e,n,r){super(e,n,wh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new de(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function VI(t,e,...n){if(t=fn(t),bT("collection","path",e),t instanceof Pm){const r=ke.fromString(e,...n);return TR(r),new zi(t,null,r)}{if(!(t instanceof ut||t instanceof zi))throw new ee(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return TR(r),new zi(t.firestore,null,r)}}function Lde(t,e){if(t=je(t,Pm),bT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ee(q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new En(t,null,function(r){return new Qa(ke.emptyPath(),r)}(e))}function Xc(t,e,...n){if(t=fn(t),arguments.length===1&&(e=_T.newId()),bT("doc","path",e),t instanceof Pm){const r=ke.fromString(e,...n);return SR(r),new ut(t,null,new de(r))}{if(!(t instanceof ut||t instanceof zi))throw new ee(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return SR(r),new ut(t.firestore,t instanceof zi?t.converter:null,new de(r))}}function jde(t,e){return t=fn(t),e=fn(e),(t instanceof ut||t instanceof zi)&&(e instanceof ut||e instanceof zi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function wL(t,e){return t=fn(t),e=fn(e),t instanceof En&&e instanceof En&&t.firestore===e.firestore&&Dm(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="AsyncQueue";class jI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WT(this,"async_queue_retry"),this._c=()=>{const r=Cg();r&&ne(LI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Cg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Tn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;ne(LI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Jt("INTERNAL UNHANDLED ERROR: ",$I(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=ZT.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&ge(47125,{Pc:$I(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $I(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Nhe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Tn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $de=-1;class gt extends Pm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jI(e),this._firestoreClient=void 0,await e}}}function Ude(t,e,n){n||(n=Pf);const r=yT(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(uo(a,e))return i;throw new ee(q.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ee(q.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OV)throw new ee(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&qv(e.host)&&UN(e.host),r.initialize({options:e,instanceIdentifier:n})}function khe(t,e){const n=typeof t=="object"?t:nle(),r=typeof t=="string"?t:e||Pf,i=yT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Hse("firestore");a&&Phe(i,...a)}return i}function Ut(t){if(t._terminated)throw new ee(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SL(t),t._firestoreClient}function SL(t){var r,i,a;const e=t._freezeSettings(),n=function(o,l,u,d){return new aue(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,_L(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new whe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}function zde(t,e){qr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return TL(t,go.provider,{build:r=>new cE(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function Fde(t){qr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();TL(t,go.provider,{build:n=>new dL(n,e.cacheSizeBytes)})}function TL(t,e,n){if((t=je(t,gt))._firestoreClient||t._terminated)throw new ee(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ee(q.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},SL(t)}function Bde(t){if(t._initialized&&!t._terminated)throw new ee(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Tn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!$i.v())return Promise.resolve();const i=r+LV;await $i.delete(i)}(YT(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Yde(t){return function(n){const r=new Tn;return n.asyncQueue.enqueueAndForget(async()=>ahe(await dE(n),r)),r.promise}(Ut(t=je(t,gt)))}function Hde(t){return She(Ut(t=je(t,gt)))}function qde(t){return The(Ut(t=je(t,gt)))}function Gde(t){return Xoe(t.app,"firestore",t._databaseId.database),t._delete()}function UI(t,e){const n=Ut(t=je(t,gt)),r=new Nhe;return Rhe(n,t._databaseId,e,r),r}function Vhe(t,e){return Ihe(Ut(t=je(t,gt)),e).then(n=>n?new En(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class Lhe{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gr(Kt.fromBase64String(e))}catch(n){throw new ee(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gr(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zl(e,gr._jsonSchema))return gr.fromBase64String(e.bytes)}}gr._jsonSchemaVersion="firestore/bytes/1.0",gr._jsonSchema={type:rn("string",gr._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Wde(){return new eu(M1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(Zl(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:rn("string",Fi._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zl(e,ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ci(e.vectorValues);throw new ee(q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:rn("string",ci._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jhe=/^__.*__$/;class $he{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sh(e,this.data,n,this.fieldTransforms)}}class EL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Za(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:t})}}class f_{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new f_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xL(this.Ac)&&jhe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Uhe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jl(e)}Cc(e,n,r,i=!1){return new f_({Ac:e,methodName:n,Dc:r,path:Pt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nu(t){const e=t._freezeSettings(),n=Jl(t._databaseId);return new Uhe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m_(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);_E("Data must be an object, but it was:",s,r);const o=RL(r,s);let l,u;if(a.merge)l=new rr(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const f of a.mergeFields){const m=Uf(e,f,n);if(!s.contains(m))throw new ee(q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ML(d,m)||d.push(m)}l=new rr(d),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new $he(new Mn(o),l,u)}class Nm extends tu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nm}}function AL(t,e,n){return new f_({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fE extends tu{_toFieldTransform(e){return new Im(e.path,new Fc)}isEqual(e){return e instanceof fE}}class mE extends tu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=AL(this,e,!0),r=this.vc.map(a=>ru(a,n)),i=new jl(r);return new Im(e.path,i)}isEqual(e){return e instanceof mE&&uo(this.vc,e.vc)}}class pE extends tu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=AL(this,e,!0),r=this.vc.map(a=>ru(a,n)),i=new $l(r);return new Im(e.path,i)}isEqual(e){return e instanceof pE&&uo(this.vc,e.vc)}}class gE extends tu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Bc(e.serializer,Jk(e.serializer,this.Fc));return new Im(e.path,n)}isEqual(e){return e instanceof gE&&this.Fc===e.Fc}}function yE(t,e,n,r){const i=t.Cc(1,e,n);_E("Data must be an object, but it was:",i,r);const a=[],s=Mn.empty();Ao(r,(l,u)=>{const d=p_(e,l,n);u=fn(u);const f=i.yc(d);if(u instanceof Nm)a.push(d);else{const m=ru(u,f);m!=null&&(a.push(d),s.set(d,m))}});const o=new rr(a);return new EL(s,o,i.fieldTransforms)}function vE(t,e,n,r,i,a){const s=t.Cc(1,e,n),o=[Uf(e,r,n)],l=[i];if(a.length%2!=0)throw new ee(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<a.length;m+=2)o.push(Uf(e,a[m])),l.push(a[m+1]);const u=[],d=Mn.empty();for(let m=o.length-1;m>=0;--m)if(!ML(u,o[m])){const g=o[m];let A=l[m];A=fn(A);const b=s.yc(g);if(A instanceof Nm)u.push(g);else{const S=ru(A,b);S!=null&&(u.push(g),d.set(g,S))}}const f=new rr(u);return new EL(d,f,s.fieldTransforms)}function DL(t,e,n,r=!1){return ru(n,t.Cc(r?4:3,e))}function ru(t,e){if(IL(t=fn(t)))return _E("Unsupported field value:",e,t),RL(t,e);if(t instanceof tu)return function(r,i){if(!xL(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=ru(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Jk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=rt.fromDate(r);return{timestampValue:Yc(i.serializer,a)}}if(r instanceof rt){const a=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(i.serializer,a)}}if(r instanceof Fi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gr)return{bytesValue:dV(i.serializer,r._byteString)};if(r instanceof ut){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:jT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ci)return function(s,o){return{mapValue:{fields:{[DT]:{stringValue:RT},[$c]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return CT(o.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Gv(r)}`)}(t,e)}function RL(t,e){const n={};return Ak(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,i)=>{const a=ru(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function IL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Fi||t instanceof gr||t instanceof ut||t instanceof tu||t instanceof ci)}function _E(t,e,n){if(!IL(n)||!ok(n)){const r=Gv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Uf(t,e,n){if((e=fn(e))instanceof eu)return e._internalPath;if(typeof e=="string")return p_(t,e);throw qy("Field path arguments must be of type string or ",t,!1,void 0,n)}const zhe=new RegExp("[~\\*/\\[\\]]");function p_(t,e,n){if(e.search(zhe)>=0)throw qy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new eu(...e.split("."))._internalPath}catch{throw qy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qy(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ee(q.INVALID_ARGUMENT,o+t+l)}function ML(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(g_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fhe extends zf{data(){return super.data()}}function g_(t,e){return typeof e=="string"?p_(t,e):e instanceof eu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bE{}class km extends bE{}function Bhe(t,e,...n){let r=[];e instanceof bE&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof Ih).length,o=a.filter(l=>l instanceof Vm).length;if(s>1||s>0&&o>0)throw new ee(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Vm extends km{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vm(e,n,r)}_apply(e){const n=this._parse(e);return PL(e._query,n),new En(e.firestore,e.converter,z1(e._query,n))}_parse(e){const n=nu(e.firestore);return function(a,s,o,l,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ee(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){FI(f,d);const A=[];for(const b of f)A.push(zI(l,a,b));m={arrayValue:{values:A}}}else m=zI(l,a,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||FI(f,d),m=DL(o,s,f,d==="in"||d==="not-in");return Ue.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kde(t,e,n){const r=e,i=g_("where",t);return Vm._create(i,r,n)}class Ih extends bE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ih(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:at.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)PL(s,l),s=z1(s,l)}(e._query,n),new En(e.firestore,e.converter,z1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Qde(...t){return t.forEach(e=>NL("or",e)),Ih._create("or",t)}function Xde(...t){return t.forEach(e=>NL("and",e)),Ih._create("and",t)}class wE extends km{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wE(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new ee(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ee(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vf(a,s)}(e._query,this._field,this._direction);return new En(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Qa(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Zde(t,e="asc"){const n=e,r=g_("orderBy",t);return wE._create(r,n)}class y_ extends km{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new y_(e,n,r)}_apply(e){return new En(e.firestore,e.converter,Ly(e._query,this._limit,this._limitType))}}function Jde(t){return lk("limit",t),y_._create("limit",t,"F")}function efe(t){return lk("limitToLast",t),y_._create("limitToLast",t,"L")}class v_ extends km{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new v_(e,n,r)}_apply(e){const n=CL(e,this.type,this._docOrFields,this._inclusive);return new En(e.firestore,e.converter,function(i,a){return new Qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,n))}}function tfe(...t){return v_._create("startAt",t,!0)}function nfe(...t){return v_._create("startAfter",t,!1)}class __ extends km{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new __(e,n,r)}_apply(e){const n=CL(e,this.type,this._docOrFields,this._inclusive);return new En(e.firestore,e.converter,function(i,a){return new Qa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)}(e._query,n))}}function rfe(...t){return __._create("endBefore",t,!1)}function ife(...t){return __._create("endAt",t,!0)}function CL(t,e,n,r){if(n[0]=fn(n[0]),n[0]instanceof zf)return function(a,s,o,l,u){if(!l)throw new ee(q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const d=[];for(const f of dc(a))if(f.field.isKeyField())d.push(Vl(s,l.key));else{const m=l.data.field(f.field);if(Zv(m))throw new ee(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const g=f.field.canonicalString();throw new ee(q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(m)}return new mo(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=nu(t.firestore);return function(s,o,l,u,d,f){const m=s.explicitOrderBy;if(d.length>m.length)throw new ee(q.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let A=0;A<d.length;A++){const b=d[A];if(m[A].field.isKeyField()){if(typeof b!="string")throw new ee(q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof b}`);if(!MT(s)&&b.indexOf("/")!==-1)throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${b}' contains a slash.`);const S=s.path.child(ke.fromString(b));if(!de.isDocumentKey(S))throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const _=new de(S);g.push(Vl(o,_))}else{const S=DL(l,u,b);g.push(S)}}return new mo(g,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function zI(t,e,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new ee(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MT(e)&&n.indexOf("/")!==-1)throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!de.isDocumentKey(r))throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vl(t,new de(r))}if(n instanceof ut)return Vl(t,n._key);throw new ee(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gv(n)}.`)}function FI(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PL(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function NL(t,e){if(!(e instanceof Vm||e instanceof Ih))throw new ee(q.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class kL{convertValue(e,n="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ao(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[$c].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>Ct(s.doubleValue));return new ci(n)}convertGeoPoint(e){return new Fi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cf(e));default:return null}}convertTimestamp(e){const n=Ba(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);_e(SV(r),9688,{name:e});const i=new kl(r.get(1),r.get(3)),a=new de(r.popFirst(5));return i.isEqual(n)||Jt(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class SE extends kL{constructor(e){super(),this.firestore=e}convertBytes(e){return new gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function afe(t){return new $f("sum",Uf("sum",t))}function sfe(t){return new $f("avg",Uf("average",t))}function Yhe(){return new $f("count")}function ofe(t,e){var n,r;return t instanceof $f&&e instanceof $f&&t.aggregateType===e.aggregateType&&((n=t._internalFieldPath)==null?void 0:n.canonicalString())===((r=e._internalFieldPath)==null?void 0:r.canonicalString())}function lfe(t,e){return wL(t.query,e.query)&&uo(t.data(),e.data())}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="NOT SUPPORTED";class Fs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wr extends zf{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(g_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}function ufe(t,e,n){if(Zl(e,wr._jsonSchema)){if(e.bundle===VL)throw new ee(q.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Jl(t._databaseId),i=vL(e.bundle,r),a=i.Wu(),s=new rE(i.getMetadata(),r);for(const d of a)s.Ga(d);const o=s.documents;if(o.length!==1)throw new ee(q.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${o.length} documents.`);const l=r_(r,o[0].document),u=new de(ke.fromString(e.bundleName));return new wr(t,new SE(t),u,l,new Fs(!1,!1),n||null)}}wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",wr._jsonSchema={type:rn("string",wr._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class Pg extends wr{data(e={}){return super.data(e)}}class Sr{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pg(this._firestore,this._userDataWriter,r.key,r,new Fs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Pg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Fs(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Pg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Fs(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:Hhe(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_T.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cfe(t,e,n){if(Zl(e,Sr._jsonSchema)){if(e.bundle===VL)throw new ee(q.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Jl(t._databaseId),i=vL(e.bundle,r),a=i.Wu(),s=new rE(i.getMetadata(),r);for(const m of a)s.Ga(m);if(s.queries.length!==1)throw new ee(q.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${s.queries.length} queries.`);const o=a_(s.queries[0].bundledQuery),l=s.documents;let u=new Tl;l.map(m=>{const g=r_(r,m.document);u=u.add(g)});const d=Yl.fromInitialDocuments(o,u,De(),!1,!1),f=new En(t,n||null,o);return new Sr(t,new SE(t),f,d)}}function Hhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:t})}}function hfe(t,e){return t instanceof wr&&e instanceof wr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Sr&&e instanceof Sr&&t._firestore===e._firestore&&wL(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qhe(t){t=je(t,ut);const e=je(t.firestore,gt);return gL(Ut(e),t._key).then(n=>EE(e,t,n))}Sr._jsonSchemaVersion="firestore/querySnapshot/1.0",Sr._jsonSchema={type:rn("string",Sr._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class Io extends kL{constructor(e){super(),this.firestore=e}convertBytes(e){return new gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function dfe(t){t=je(t,ut);const e=je(t.firestore,gt),n=Ut(e),r=new Io(e);return Ehe(n,t._key).then(i=>new wr(e,r,t._key,i,new Fs(i!==null&&i.hasLocalMutations,!0),t.converter))}function ffe(t){t=je(t,ut);const e=je(t.firestore,gt);return gL(Ut(e),t._key,{source:"server"}).then(n=>EE(e,t,n))}function mfe(t){t=je(t,En);const e=je(t.firestore,gt),n=Ut(e),r=new Io(e);return OL(t._query),yL(n,t._query).then(i=>new Sr(e,r,t,i))}function pfe(t){t=je(t,En);const e=je(t.firestore,gt),n=Ut(e),r=new Io(e);return xhe(n,t._query).then(i=>new Sr(e,r,t,i))}function gfe(t){t=je(t,En);const e=je(t.firestore,gt),n=Ut(e),r=new Io(e);return yL(n,t._query,{source:"server"}).then(i=>new Sr(e,r,t,i))}function TE(t,e,n){t=je(t,ut);const r=je(t.firestore,gt),i=b_(t.converter,e,n);return Lm(r,[m_(nu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Nt.none())])}function yfe(t,e,n,...r){t=je(t,ut);const i=je(t.firestore,gt),a=nu(i);let s;return s=typeof(e=fn(e))=="string"||e instanceof eu?vE(a,"updateDoc",t._key,e,n,r):yE(a,"updateDoc",t._key,e),Lm(i,[s.toMutation(t._key,Nt.exists(!0))])}function Ghe(t){return Lm(je(t.firestore,gt),[new Th(t._key,Nt.none())])}function Whe(t,e){const n=je(t.firestore,gt),r=Xc(t),i=b_(t.converter,e);return Lm(n,[m_(nu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Nt.exists(!1))]).then(()=>r)}function ew(t,...e){var l,u,d;t=fn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||fc(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(fc(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let a,s,o;if(t instanceof ut)s=je(t.firestore,gt),o=wh(t._key.path),a={next:f=>{e[r]&&e[r](EE(s,t,f))},error:e[r+1],complete:e[r+2]};else{const f=je(t,En);s=je(f.firestore,gt),o=f._query;const m=new Io(s);a={next:g=>{e[r]&&e[r](new Sr(s,m,f,g))},error:e[r+1],complete:e[r+2]},OL(t._query)}return function(m,g,A,b){const S=new h_(b),_=new nE(g,S,A);return m.asyncQueue.enqueueAndForget(async()=>JT(await Qc(m),_)),()=>{S.Nu(),m.asyncQueue.enqueueAndForget(async()=>eE(await Qc(m),_))}}(Ut(s),o,i,a)}function vfe(t,e,...n){const r=fn(t),i=function(l){const u={bundle:"",bundleName:"",bundleSource:""},d=["bundle","bundleName","bundleSource"];for(const f of d){if(!(f in l)){u.error=`snapshotJson missing required field: ${f}`;break}const m=l[f];if(typeof m!="string"){u.error=`snapshotJson field '${f}' must be a string.`;break}if(m.length===0){u.error=`snapshotJson field '${f}' cannot be an empty string.`;break}f==="bundle"?u.bundle=m:f==="bundleName"?u.bundleName=m:f==="bundleSource"&&(u.bundleSource=m)}return u}(e);if(i.error)throw new ee(q.INVALID_ARGUMENT,i.error);let a,s=0;if(typeof n[s]!="object"||fc(n[s])||(a=n[s++]),i.bundleSource==="QuerySnapshot"){let o=null;if(typeof n[s]=="object"&&fc(n[s])){const l=n[s++];o={next:l.next,error:l.error,complete:l.complete}}else o={next:n[s++],error:n[s++],complete:n[s++]};return function(u,d,f,m,g){let A,b=!1;return UI(u,d.bundle).then(()=>Vhe(u,d.bundleName)).then(_=>{_&&!b&&(g&&_.withConverter(g),A=ew(_,f||{},m))}).catch(_=>(m.error&&m.error(_),()=>{})),()=>{b||(b=!0,A&&A())}}(r,i,a,o,n[s])}if(i.bundleSource==="DocumentSnapshot"){let o=null;if(typeof n[s]=="object"&&fc(n[s])){const l=n[s++];o={next:l.next,error:l.error,complete:l.complete}}else o={next:n[s++],error:n[s++],complete:n[s++]};return function(u,d,f,m,g){let A,b=!1;return UI(u,d.bundle).then(()=>{if(!b){const _=new ut(u,g||null,de.fromPath(d.bundleName));A=ew(_,f||{},m)}}).catch(_=>(m.error&&m.error(_),()=>{})),()=>{b||(b=!0,A&&A())}}(r,i,a,o,n[s])}throw new ee(q.INVALID_ARGUMENT,`unsupported bundle source: ${i.bundleSource}`)}function _fe(t,e){return Dhe(Ut(t=je(t,gt)),fc(e)?e:{next:e})}function Lm(t,e){return function(r,i){const a=new Tn;return r.asyncQueue.enqueueAndForget(async()=>the(await dE(r),i,a)),a.promise}(Ut(t),e)}function EE(t,e,n){const r=n.docs.get(e._key),i=new Io(t);return new wr(t,i,e._key,r,new Fs(n.hasPendingWrites,n.fromCache),e.converter)}function bfe(t){return Khe(t,{count:Yhe()})}function Khe(t,e){const n=je(t.firestore,gt),r=Ut(n),i=xk(e,(a,s)=>new sV(s,a.aggregateType,a._internalFieldPath));return Ahe(r,t._query,i).then(a=>function(o,l,u){const d=new Io(o);return new Lhe(l,d,u)}(n,t,a))}class Qhe{constructor(e){this.kind="memory",this._onlineComponentProvider=go.provider,this._offlineComponentProvider=e!=null&&e.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new uE(void 0)}}toJSON(){return{kind:this.kind}}}class Xhe{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=nde(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class Zhe{constructor(){this.kind="memoryEager",this._offlineComponentProvider=Kc.provider}toJSON(){return{kind:this.kind}}}class Jhe{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new uE(e)}}toJSON(){return{kind:this.kind}}}function wfe(){return new Zhe}function Sfe(t){return new Jhe(t==null?void 0:t.cacheSizeBytes)}function Tfe(t){return new Qhe(t)}function Efe(t){return new Xhe(t)}class ede{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=go.provider,this._offlineComponentProvider={build:n=>new cE(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class tde{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=go.provider,this._offlineComponentProvider={build:n=>new dL(n,e==null?void 0:e.cacheSizeBytes)}}}function nde(t){return new ede(t==null?void 0:t.forceOwnership)}function xfe(){return new tde}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rde={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ide{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=nu(e)}set(e,n,r){this._verifyNotCommitted();const i=Bs(e,this._firestore),a=b_(i.converter,n,r),s=m_(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Nt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Bs(e,this._firestore);let s;return s=typeof(n=fn(n))=="string"||n instanceof eu?vE(this._dataReader,"WriteBatch.update",a._key,n,r,i):yE(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Nt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Bs(e,this._firestore);return this._mutations=this._mutations.concat(new Th(n._key,Nt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ee(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bs(t,e){if((t=fn(t)).firestore!==e)throw new ee(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ade{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=nu(e)}get(e){const n=Bs(e,this._firestore),r=new SE(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return ge(24041);const a=i[0];if(a.isFoundDocument())return new zf(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new zf(this._firestore,r,n._key,null,n.converter);throw ge(18433,{doc:a})})}set(e,n,r){const i=Bs(e,this._firestore),a=b_(i.converter,n,r),s=m_(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){const a=Bs(e,this._firestore);let s;return s=typeof(n=fn(n))=="string"||n instanceof eu?vE(this._dataReader,"Transaction.update",a._key,n,r,i):yE(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,s),this}delete(e){const n=Bs(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sde extends ade{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Bs(e,this._firestore),r=new Io(this._firestore);return super.get(e).then(i=>new wr(this._firestore,r,n._key,i._document,new Fs(!1,!1),n.converter))}}function Afe(t,e,n){t=je(t,gt);const r={...rde,...n};return function(a){if(a.maxAttempts<1)throw new ee(q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,s,o){const l=new Tn;return a.asyncQueue.enqueueAndForget(async()=>{const u=await pL(a);new bhe(a.asyncQueue,u,o,s,l).ju()}),l.promise}(Ut(t),i=>e(new sde(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dfe(){return new Nm("deleteField")}function Rfe(){return new fE("serverTimestamp")}function Ife(...t){return new mE("arrayUnion",t)}function Mfe(...t){return new pE("arrayRemove",t)}function Ofe(t){return new gE("increment",t)}function Cfe(t){return new ci(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pfe(t){return Ut(t=je(t,gt)),new ide(t,e=>Lm(t,e))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nfe(t,e){const n=Ut(t=je(t,gt));if(!n._uninitializedComponentsProvider||n._uninitializedComponentsProvider._offline.kind==="memory")return qr("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=function(a){const s=typeof a=="string"?function(u){try{return JSON.parse(u)}catch(d){throw new ee(q.INVALID_ARGUMENT,"Failed to parse JSON: "+(d==null?void 0:d.message))}}(a):a,o=[];if(Array.isArray(s.indexes))for(const l of s.indexes){const u=BI(l,"collectionGroup"),d=[];if(Array.isArray(l.fields))for(const f of l.fields){const m=p_("setIndexConfiguration",BI(f,"fieldPath"));f.arrayConfig==="CONTAINS"?d.push(new wl(m,2)):f.order==="ASCENDING"?d.push(new wl(m,0)):f.order==="DESCENDING"&&d.push(new wl(m,1))}o.push(new Pc(Pc.UNKNOWN_ID,u,d,Nc.empty()))}return o}(e);return Mhe(n,r)}function BI(t,e){if(typeof t[e]!="string")throw new ee(q.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ode{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function kfe(t){var i;t=je(t,gt);const e=YI.get(t);if(e)return e;if(((i=Ut(t)._uninitializedComponentsProvider)==null?void 0:i._offline.kind)!=="persistent")return null;const r=new ode(t);return YI.set(t,r),r}function Vfe(t){LL(t,!0)}function Lfe(t){LL(t,!1)}function jfe(t){Che(Ut(t._firestore)).then(e=>ne("deleting all persistent cache indexes succeeded")).catch(e=>qr("deleting all persistent cache indexes failed",e))}function LL(t,e){Ohe(Ut(t._firestore),e).then(n=>ne(`setting persistent cache index auto creation isEnabled=${e} succeeded`)).catch(n=>qr(`setting persistent cache index auto creation isEnabled=${e} failed`,n))}const YI=new WeakMap;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $fe(t){var r;const e=Ut(je(t.firestore,gt)),n=(r=e._onlineComponents)==null?void 0:r.datastore.serializer;return n===void 0?null:i_(n,Un(t._query)).ft}function Ufe(t,e){var a;const n=xk(e,(s,o)=>new sV(o,s.aggregateType,s._internalFieldPath)),r=Ut(je(t.firestore,gt)),i=(a=r._onlineComponents)==null?void 0:a.datastore.serializer;return i===void 0?null:vV(i,Yk(t._query),n,!0).request}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zfe{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return xE.instance.onExistenceFilterMismatch(e)}}class xE{constructor(){this.Mc=new Map}static get instance(){return Jp||(Jp=new xE,function(n){if(Bd)throw new Error("a TestingHooksSpi instance is already set");Bd=n}(Jp)),Jp}lt(e){this.Mc.forEach(n=>n(e))}onExistenceFilterMismatch(e){const n=Symbol(),r=this.Mc;return r.set(n,e),()=>r.delete(n)}}let Jp=null;(function(e,n=!0){(function(i){bh=i})(tle),Oy(new Af("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new gt(new yle(r.getProvider("auth-internal")),new ble(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(u.options.projectId,d)}(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),hc(bR,wR,e),hc(bR,wR,"esm2020")})();const lde={apiKey:"AIzaSyBXwdQyFtYD0BzJ8LLkPPnpUihrrBh7oh8",authDomain:"majesti-car-14d12.firebaseapp.com",projectId:"majesti-car-14d12",storageBucket:"majesti-car-14d12.firebasestorage.app",messagingSenderId:"488881200493",appId:"1:488881200493:web:115f45c7e973f4a2718e64",measurementId:"G-0V84E9DXJZ"},ude=KN(lde),ro=khe(ude),jL=F.createContext(),w_=()=>{const t=F.useContext(jL);if(!t)throw new Error("useReservations doit tre utilis dans ReservationsProvider");return t},cde=({children:t})=>{const[e,n]=F.useState([]),[r,i]=F.useState(!0);F.useEffect(()=>{const d=Bhe(VI(ro,"reservations")),f=ew(d,m=>{const g=[];m.forEach(A=>{g.push({id:A.id,...A.data()})}),n(g),i(!1)});return()=>f()},[]);const a=async(d,f,m)=>{try{const g={date:d.toISOString(),heure:f,formule:m,timestamp:new Date().toISOString()};return{id:(await Whe(VI(ro,"reservations"),g)).id,...g}}catch(g){throw console.error("Erreur Firebase:",g),g}},s=(d,f)=>{const m=new Date(d).toDateString();return!e.some(g=>new Date(g.date).toDateString()===m&&g.heure===f)},u={reservations:e,ajouterReservation:a,estDisponible:s,getReservationsParDate:d=>{const f=new Date(d).toDateString();return e.filter(m=>new Date(m.date).toDateString()===f)},getHorairesDisponibles:d=>["08:00","11:00","14:00","17:00","19:00"].filter(m=>s(d,m)),loading:r};return E.jsx(jL.Provider,{value:u,children:t})};ie.locale("fr");const hde=qS(ie);function dde(){const t=sm(),{reservations:e,ajouterReservation:n,getHorairesDisponibles:r,getReservationsParDate:i}=w_();F.useEffect(()=>{window.scrollTo(0,0)},[]);const[a,s]=F.useState(null),[o,l]=F.useState(""),[u,d]=F.useState(new Date),[f,m]=F.useState(!1),[g,A]=F.useState(!1),[b,S]=F.useState(""),[_,T]=F.useState({nom:"",prenom:"",email:"",telephone:""}),[D,O]=F.useState([]),L=[{id:"interieur",nom:"Shampouineuses sige, tapis et moquettes",prix:25},{id:"jantes",nom:"Lavage extrieur avec shampoing",prix:20},{id:"polish",nom:"Lavage moteur",prix:15},{id:"cire",nom:"Elimination poils d'animaux",prix:15},{id:"vitres",nom:"Vhicules trs sale (ex: vomis..)",prix:15}],z=j=>j?r(j):[],I=j=>{const J=new Date;J.setHours(0,0,0,0),j.start>=J?(s(j.start),l(""),m(!1),S("")):alert("Vous ne pouvez pas rserver dans le pass")},R=j=>{const J=new Date;J.setHours(0,0,0,0);const se=new Date(j);se.setHours(0,0,0,0),se>=J?(s(j),l(""),m(!1),S("")):alert("Vous ne pouvez pas rserver dans le pass")},C=j=>{d(j)},P=j=>{const{name:J,value:se}=j.target;T({..._,[J]:se})},V=j=>{l(j),m(!0)},$=j=>{O(J=>J.includes(j)?J.filter(se=>se!==j):[...J,j])},N=()=>50+D.reduce((se,ue)=>{const Q=L.find(Z=>Z.id===ue);return se+(Q?Q.prix:0)},0),me=async j=>{if(j.preventDefault(),!a||!o){alert("Veuillez slectionner une date et une heure");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_.email)){alert("Veuillez entrer un email valide");return}if(!/^[0-9\s+()-]{10,}$/.test(_.telephone)){alert("Veuillez entrer un numro de tlphone valide");return}A(!0);try{const ue=N(),Q=D.length>0?D.map(ae=>{const W=L.find(xe=>xe.id===ae);return`${W.nom} (+${W.prix})`}).join(", "):"Aucune option supplmentaire";await n(a,o,"Bronze");const Z={from_name:`${_.prenom} ${_.nom}`,from_email:_.email,phone:_.telephone,date:ie(a).format("DD/MM/YYYY"),time:o,service:"Formule Bronze - 50",options:Q,prix_total:`${ue}`,payment_status:" Paiement sur place"},re={nom:_.nom,prenom:_.prenom,email:_.email,telephone:_.telephone,date:ie(a).format("DD/MM/YYYY"),dateISO:a.toISOString(),heure:o,options:D,optionsTexte:Q,formule:"Bronze",prixTotal:ue,paymentMethod:"cash"};t(`/reservation-success?data=${encodeURIComponent(JSON.stringify(re))}&payment=cash`)}catch(ue){console.error("Erreur:",ue),alert(`Erreur lors de la rservation: ${ue.message||"Veuillez ressayer."}`),A(!1)}},be=async j=>{if(j.preventDefault(),!a||!o){alert("Veuillez slectionner une date et une heure");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_.email)){alert("Veuillez entrer un email valide");return}if(!/^[0-9\s+()-]{10,}$/.test(_.telephone)){alert("Veuillez entrer un numro de tlphone valide");return}A(!0);try{const ue=N(),Q=D.length>0?D.map(xe=>{const Pe=L.find(Re=>Re.id===xe);return`${Pe.nom} (+${Pe.prix})`}).join(", "):"Aucune option supplmentaire",Z=`pending_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,re={nom:_.nom,prenom:_.prenom,email:_.email,telephone:_.telephone,date:ie(a).format("DD/MM/YYYY"),dateISO:a.toISOString(),heure:o,formule:"Bronze",options:D,optionsTexte:Q,prixTotal:ue,status:"pending",paymentMethod:"stripe",createdAt:new Date().toISOString()};await TE(Xc(ro,"pendingReservations",Z),re),console.log(" Rservation pending cre:",Z),sessionStorage.setItem("stripe_pending_reservation",Z),sessionStorage.setItem("stripe_pending_email",_.email),console.log(" ID sauvegard dans sessionStorage:",Z);const W=`https://buy.stripe.com/test_eVq00ldio4SNaHt3lM1oI02?prefilled_email=${encodeURIComponent(_.email)}`;console.log(" Redirection vers Stripe"),window.location.href=W}catch(ue){console.error("Erreur:",ue),alert(`Erreur lors du paiement: ${ue.message||"Veuillez ressayer."}`),A(!1)}},X=a?z(a):[];return a&&i(a),E.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[E.jsx("style",{children:`
        .rbc-calendar {
          transition: all 0.3s ease;
        }
        .rbc-day-bg {
          transition: background-color 0.2s ease;
          cursor: pointer;
        }
        .rbc-day-bg:hover {
          background-color: #f0f7ff !important;
        }
        .rbc-selected {
          background-color: #2c5aa0 !important;
        }
        .rbc-today {
          background-color: #e3f2fd;
        }
        .rbc-off-range-bg {
          background-color: #fafafa;
        }
        .rbc-date-cell {
          padding: 8px;
          transition: all 0.2s ease;
          cursor: pointer;
        }
        .rbc-date-cell:hover {
          transform: scale(1.05);
        }
        .rbc-button-link {
          transition: color 0.2s ease;
          cursor: pointer;
        }
        .rbc-button-link:hover {
          color: #2c5aa0;
        }
        .rbc-active {
          background-color: #2c5aa0 !important;
          color: white !important;
          box-shadow: 0 2px 8px rgba(44, 90, 160, 0.3);
        }
        .rbc-toolbar button {
          transition: all 0.2s ease;
          border-radius: 6px;
        }
        .rbc-toolbar button:hover {
          background-color: #2c5aa0;
          color: white;
          transform: translateY(-1px);
        }
        
        /* Mobile: rendre les dates plus cliquables */
        @media (max-width: 768px) {
          .rbc-date-cell {
            padding: 12px 8px;
            min-height: 50px;
          }
          .rbc-button-link {
            padding: 8px;
            display: block;
          }
        }
      `}),E.jsx("h1",{style:{textAlign:"center",color:"#2c5aa0",marginBottom:"2rem"},children:"Rservation Formule Bronze - 50"}),E.jsxs("div",{style:{marginTop:"2rem",padding:"2rem",background:"#fff8e1",borderRadius:"12px",border:"2px solid #ffc107"},children:[E.jsx("h2",{style:{color:"#2c5aa0",marginBottom:"1rem"},children:"tape 1 : Options supplmentaires (facultatif)"}),E.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Amliorez votre prestation avec nos options premium"}),E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1rem"},children:L.map(j=>E.jsxs("div",{onClick:()=>$(j.id),style:{padding:"1rem",border:D.includes(j.id)?"2px solid #2c5aa0":"1px solid #ddd",background:D.includes(j.id)?"#e3f2fd":"white",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s",display:"flex",justifyContent:"space-between",alignItems:"center",transform:D.includes(j.id)?"scale(1.02)":"scale(1)"},children:[E.jsxs("div",{children:[E.jsx("input",{type:"checkbox",checked:D.includes(j.id),onChange:()=>{},style:{marginRight:"0.5rem",cursor:"pointer"}}),E.jsx("strong",{children:j.nom})]}),E.jsxs("span",{style:{color:"#2c5aa0",fontWeight:"bold",fontSize:"1.1rem"},children:["+",j.prix,""]})]},j.id))}),E.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#2c5aa0",color:"white",borderRadius:"8px",textAlign:"center",fontSize:"1.3rem",fontWeight:"bold"},children:["Prix total : ",N(),""]})]}),E.jsxs("div",{style:{marginTop:"2rem"},children:[E.jsx("h2",{style:{color:"#2c5aa0"},children:"tape 2 : Slectionnez une date"}),E.jsx("div",{style:{height:"600px",marginTop:"1rem",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:E.jsx(HS,{localizer:hde,events:[],startAccessor:"start",endAccessor:"end",style:{height:"100%"},onSelectSlot:I,onSelectEvent:j=>R(j.start),onNavigate:C,onDrillDown:R,date:u,selectable:!0,views:["month"],defaultView:"month",longPressThreshold:10,messages:{next:"Suivant",previous:"Prcdent",today:"Aujourd'hui",month:"Mois"},dayPropGetter:j=>{const J=ie(j).format("YYYY-MM-DD"),se=a?ie(a).format("YYYY-MM-DD"):null;return J===se?{className:"rbc-selected",style:{backgroundColor:"#2c5aa0",color:"white"}}:{}},eventPropGetter:j=>({style:{backgroundColor:"#2c5aa0",borderRadius:"5px",opacity:.8,color:"white",border:"0px",display:"block"}})})})]}),a&&E.jsxs("div",{style:{marginTop:"2rem",padding:"2rem",background:"#f9f9f9",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[E.jsx("h2",{style:{color:"#2c5aa0"},children:"tape 3 : Choisissez une heure"}),E.jsxs("p",{style:{marginBottom:"1rem",color:"#555",fontSize:"1.1rem"},children:["Date slectionne : ",E.jsx("strong",{children:ie(a).format("dddd DD MMMM YYYY")})]}),X.length===0?E.jsx("div",{style:{padding:"2rem",textAlign:"center",background:"#f8d7da",color:"#721c24",borderRadius:"8px",fontSize:"1.1rem"},children:"Tous les crneaux sont rservs pour cette date. Veuillez choisir un autre jour."}):E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginTop:"1.5rem"},children:X.map(j=>E.jsx("button",{onClick:()=>V(j),style:{padding:"1rem",border:o===j?"2px solid #2c5aa0":"1px solid #ddd",background:o===j?"#2c5aa0":"white",color:o===j?"white":"#333",borderRadius:"8px",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s",transform:o===j?"scale(1.05)":"scale(1)"},children:j},j))})]}),f&&o&&E.jsxs("div",{style:{marginTop:"2rem",padding:"2rem",background:"white",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[E.jsx("h2",{style:{color:"#2c5aa0",marginBottom:"1.5rem"},children:"tape 4 : Vos informations"}),E.jsxs("div",{style:{padding:"1rem",background:"#e3f2fd",borderRadius:"8px",marginBottom:"2rem",textAlign:"center"},children:[E.jsx("strong",{children:"Rcapitulatif :"})," ",ie(a).format("DD/MM/YYYY"),"  ",o,D.length>0&&E.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.95rem"},children:["Options : ",D.map(j=>L.find(se=>se.id===j).nom).join(", ")]})]}),E.jsxs("form",{children:[E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[E.jsxs("div",{children:[E.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Nom *"}),E.jsx("input",{type:"text",name:"nom",value:_.nom,onChange:P,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border 0.3s"}})]}),E.jsxs("div",{children:[E.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Prnom *"}),E.jsx("input",{type:"text",name:"prenom",value:_.prenom,onChange:P,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border 0.3s"}})]})]}),E.jsxs("div",{style:{marginBottom:"1rem"},children:[E.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Email *"}),E.jsx("input",{type:"email",name:"email",value:_.email,onChange:P,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border 0.3s"}})]}),E.jsxs("div",{style:{marginBottom:"2rem"},children:[E.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Tlphone *"}),E.jsx("input",{type:"tel",name:"telephone",value:_.telephone,onChange:P,placeholder:"06 12 34 56 78",required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border 0.3s"}})]}),E.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"#f8f9fa",borderRadius:"12px",border:"2px solid #dee2e6"},children:[E.jsx("h3",{style:{color:"#2c5aa0",marginTop:0,marginBottom:"1.5rem"},children:" Mode de paiement"}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsx("div",{onClick:()=>S("stripe"),style:{padding:"1.5rem",border:b==="stripe"?"3px solid #635bff":"2px solid #ddd",background:b==="stripe"?"#f7f6ff":"white",borderRadius:"10px",cursor:"pointer",transition:"all 0.3s",transform:b==="stripe"?"scale(1.02)":"scale(1)"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[E.jsx("input",{type:"radio",name:"payment",checked:b==="stripe",onChange:()=>S("stripe"),style:{width:"20px",height:"20px",cursor:"pointer"}}),E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"0.5rem"},children:" Paiement en ligne par carte"}),E.jsx("div",{style:{color:"#666",fontSize:"0.95rem"},children:"Paiement scuris via Stripe  Confirmation immdiate"})]})]})}),E.jsx("div",{onClick:()=>S("cash"),style:{padding:"1.5rem",border:b==="cash"?"3px solid #28a745":"2px solid #ddd",background:b==="cash"?"#f1f9f3":"white",borderRadius:"10px",cursor:"pointer",transition:"all 0.3s",transform:b==="cash"?"scale(1.02)":"scale(1)"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[E.jsx("input",{type:"radio",name:"payment",checked:b==="cash",onChange:()=>S("cash"),style:{width:"20px",height:"20px",cursor:"pointer"}}),E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"0.5rem"},children:" Paiement sur place"}),E.jsxs("div",{style:{color:"#666",fontSize:"0.95rem"},children:["Espces ou carte le jour du rendez-vous  Total : ",N(),""]})]})]})})]})]}),b==="stripe"&&E.jsx("button",{onClick:be,disabled:g,style:{width:"100%",padding:"1.5rem",background:g?"#6c757d":"#635bff",color:"white",border:"none",borderRadius:"12px",fontSize:"1.2rem",fontWeight:"bold",cursor:g?"not-allowed":"pointer",transition:"all 0.3s",transform:"scale(1)"},onMouseOver:j=>!g&&(j.target.style.transform="scale(1.02)"),onMouseOut:j=>!g&&(j.target.style.transform="scale(1)"),children:g?"Redirection...":` Payer ${N()} avec Stripe`}),b==="cash"&&E.jsx("button",{onClick:me,disabled:g,style:{width:"100%",padding:"1.5rem",background:g?"#6c757d":"#28a745",color:"white",border:"none",borderRadius:"12px",fontSize:"1.2rem",fontWeight:"bold",cursor:g?"not-allowed":"pointer",transition:"all 0.3s"},onMouseOver:j=>!g&&(j.target.style.transform="scale(1.02)"),onMouseOut:j=>!g&&(j.target.style.transform="scale(1)"),children:g?"Rservation en cours...":` Confirmer la rservation (${N()} sur place)`}),!b&&E.jsx("div",{style:{width:"100%",padding:"1.5rem",background:"#e9ecef",color:"#6c757d",border:"2px dashed #adb5bd",borderRadius:"12px",fontSize:"1.1rem",fontWeight:"bold",textAlign:"center"},children:" Veuillez choisir un mode de paiement"})]}),E.jsx("p",{style:{marginTop:"1rem",textAlign:"center",color:"#666",fontSize:"0.9rem"},children:" Vos donnes sont scurises et ne seront pas partages"})]}),E.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:E.jsx(Vi,{to:"/",style:{padding:"1rem 2rem",background:"#6c757d",color:"white",textDecoration:"none",borderRadius:"8px",display:"inline-block"},children:"Retour"})})]})}ie.locale("fr");const fde=qS(ie);function mde(){const t=sm(),{reservations:e,ajouterReservation:n,getHorairesDisponibles:r,getReservationsParDate:i}=w_();F.useEffect(()=>{window.scrollTo(0,0)},[]);const[a,s]=F.useState(null),[o,l]=F.useState(""),[u,d]=F.useState(new Date),[f,m]=F.useState(!1),[g,A]=F.useState(!1),[b,S]=F.useState(""),[_,T]=F.useState({nom:"",prenom:"",email:"",telephone:""}),[D,O]=F.useState([]),L=[{id:"interieur",nom:"Shampouineuses sige, tapis et moquettes",prix:25},{id:"jantes",nom:"Lavage extrieur avec shampoing",prix:20},{id:"polish",nom:"Lavage moteur",prix:15},{id:"cire",nom:"Elimination poils d'animaux",prix:15},{id:"vitres",nom:"Vhicules trs sale (ex: vomis..)",prix:15}],z=j=>j?r(j):[],I=j=>{const J=new Date;J.setHours(0,0,0,0),j.start>=J?(s(j.start),l(""),m(!1),S("")):alert("Vous ne pouvez pas rserver dans le pass")},R=j=>{const J=new Date;J.setHours(0,0,0,0);const se=new Date(j);se.setHours(0,0,0,0),se>=J?(s(j),l(""),m(!1),S("")):alert("Vous ne pouvez pas rserver dans le pass")},C=j=>{d(j)},P=j=>{const{name:J,value:se}=j.target;T({..._,[J]:se})},V=j=>{l(j),m(!0)},$=j=>{O(J=>J.includes(j)?J.filter(se=>se!==j):[...J,j])},N=()=>80+D.reduce((se,ue)=>{const Q=L.find(Z=>Z.id===ue);return se+(Q?Q.prix:0)},0),me=async j=>{if(j.preventDefault(),!a||!o){alert("Veuillez slectionner une date et une heure");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_.email)){alert("Veuillez entrer un email valide");return}if(!/^[0-9\s+()-]{10,}$/.test(_.telephone)){alert("Veuillez entrer un numro de tlphone valide");return}A(!0);try{const ue=N(),Q=D.length>0?D.map(re=>{const ae=L.find(W=>W.id===re);return`${ae.nom} (+${ae.prix})`}).join(", "):"Aucune option supplmentaire";await n(a,o,"Argent");const Z={nom:_.nom,prenom:_.prenom,email:_.email,telephone:_.telephone,date:ie(a).format("DD/MM/YYYY"),dateISO:a.toISOString(),heure:o,options:D,optionsTexte:Q,formule:"Argent",prixTotal:ue,paymentMethod:"cash"};t(`/reservation-success?data=${encodeURIComponent(JSON.stringify(Z))}&payment=cash`)}catch(ue){console.error("Erreur:",ue),alert(`Erreur lors de la rservation: ${ue.message||"Veuillez ressayer."}`),A(!1)}},be=async j=>{if(j.preventDefault(),!a||!o){alert("Veuillez slectionner une date et une heure");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_.email)){alert("Veuillez entrer un email valide");return}if(!/^[0-9\s+()-]{10,}$/.test(_.telephone)){alert("Veuillez entrer un numro de tlphone valide");return}A(!0);try{const ue=N(),Q=D.length>0?D.map(Re=>{const Lt=L.find(Bn=>Bn.id===Re);return`${Lt.nom} (+${Lt.prix})`}).join(", "):"Aucune option supplmentaire",Z=`pending_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,re={nom:_.nom,prenom:_.prenom,email:_.email,telephone:_.telephone,date:ie(a).format("DD/MM/YYYY"),dateISO:a.toISOString(),heure:o,formule:"Argent",options:D,optionsTexte:Q,prixTotal:ue,status:"pending",createdAt:new Date().toISOString(),paymentMethod:"stripe"};await TE(Xc(ro,"pendingReservations",Z),re);const ae={from_name:`${_.prenom} ${_.nom}`,from_email:_.email,phone:_.telephone,date:ie(a).format("DD/MM/YYYY"),time:o,service:"Formule Argent - 80",options:Q,prix_total:`${ue}`,payment_status:" Paiement en ligne (Stripe)"};await Ju.send("service_1wryoqr","template_x1vgr07",ae,"KUPBmz5lg0pubUDdW"),console.log(" Email envoy avec succs");const W="https://buy.stripe.com/test_eVq00ldio4SNaHt3lM1oI02",xe=encodeURIComponent(`https://alaajee.github.io/MugiWash/reservation-success?payment=stripe&reservationId=${Z}`),Pe=`${W}?prefilled_email=${encodeURIComponent(_.email)}&success_url=${xe}`;window.location.href=Pe}catch(ue){console.error("Erreur:",ue),alert(`Erreur lors du paiement: ${ue.message||"Veuillez ressayer."}`),A(!1)}},X=a?z(a):[];return a&&i(a),E.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[E.jsx("style",{children:`
        .rbc-calendar {
          transition: all 0.3s ease;
        }
        .rbc-day-bg {
          transition: background-color 0.2s ease;
          cursor: pointer;
        }
        .rbc-day-bg:hover {
          background-color: #f0f7ff !important;
        }
        .rbc-selected {
          background-color: #2c5aa0 !important;
        }
        .rbc-today {
          background-color: #e3f2fd;
        }
        .rbc-off-range-bg {
          background-color: #fafafa;
        }
        .rbc-date-cell {
          padding: 8px;
          transition: all 0.2s ease;
          cursor: pointer;
        }
        .rbc-date-cell:hover {
          transform: scale(1.05);
        }
        .rbc-button-link {
          transition: color 0.2s ease;
          cursor: pointer;
        }
        .rbc-button-link:hover {
          color: #2c5aa0;
        }
        .rbc-active {
          background-color: #2c5aa0 !important;
          color: white !important;
          box-shadow: 0 2px 8px rgba(44, 90, 160, 0.3);
        }
        .rbc-toolbar button {
          transition: all 0.2s ease;
          border-radius: 6px;
        }
        .rbc-toolbar button:hover {
          background-color: #2c5aa0;
          color: white;
          transform: translateY(-1px);
        }
        
        /* Mobile: rendre les dates plus cliquables */
        @media (max-width: 768px) {
          .rbc-date-cell {
            padding: 12px 8px;
            min-height: 50px;
          }
          .rbc-button-link {
            padding: 8px;
            display: block;
          }
        }
      `}),E.jsx("h1",{style:{textAlign:"center",color:"#2c5aa0",marginBottom:"2rem"},children:"Rservation Formule Argent - 80"}),E.jsxs("div",{style:{marginTop:"2rem",padding:"2rem",background:"#fff8e1",borderRadius:"12px",border:"2px solid #ffc107"},children:[E.jsx("h2",{style:{color:"#2c5aa0",marginBottom:"1rem"},children:"tape 1 : Options supplmentaires (facultatif)"}),E.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Amliorez votre prestation avec nos options premium"}),E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1rem"},children:L.map(j=>E.jsxs("div",{onClick:()=>$(j.id),style:{padding:"1rem",border:D.includes(j.id)?"2px solid #2c5aa0":"1px solid #ddd",background:D.includes(j.id)?"#e3f2fd":"white",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s",display:"flex",justifyContent:"space-between",alignItems:"center",transform:D.includes(j.id)?"scale(1.02)":"scale(1)"},children:[E.jsxs("div",{children:[E.jsx("input",{type:"checkbox",checked:D.includes(j.id),onChange:()=>{},style:{marginRight:"0.5rem",cursor:"pointer"}}),E.jsx("strong",{children:j.nom})]}),E.jsxs("span",{style:{color:"#2c5aa0",fontWeight:"bold",fontSize:"1.1rem"},children:["+",j.prix,""]})]},j.id))}),E.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#2c5aa0",color:"white",borderRadius:"8px",textAlign:"center",fontSize:"1.3rem",fontWeight:"bold"},children:["Prix total : ",N(),""]})]}),E.jsxs("div",{style:{marginTop:"2rem"},children:[E.jsx("h2",{style:{color:"#2c5aa0"},children:"tape 2 : Slectionnez une date"}),E.jsx("div",{style:{height:"600px",marginTop:"1rem",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:E.jsx(HS,{localizer:fde,events:[],startAccessor:"start",endAccessor:"end",style:{height:"100%"},onSelectSlot:I,onSelectEvent:j=>R(j.start),onNavigate:C,onDrillDown:R,date:u,selectable:!0,views:["month"],defaultView:"month",longPressThreshold:10,messages:{next:"Suivant",previous:"Prcdent",today:"Aujourd'hui",month:"Mois"},dayPropGetter:j=>{const J=ie(j).format("YYYY-MM-DD"),se=a?ie(a).format("YYYY-MM-DD"):null;return J===se?{className:"rbc-selected",style:{backgroundColor:"#2c5aa0",color:"white"}}:{}},eventPropGetter:j=>({style:{backgroundColor:"#2c5aa0",borderRadius:"5px",opacity:.8,color:"white",border:"0px",display:"block"}})})})]}),a&&E.jsxs("div",{style:{marginTop:"2rem",padding:"2rem",background:"#f9f9f9",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[E.jsx("h2",{style:{color:"#2c5aa0"},children:"tape 3 : Choisissez une heure"}),E.jsxs("p",{style:{marginBottom:"1rem",color:"#555",fontSize:"1.1rem"},children:["Date slectionne : ",E.jsx("strong",{children:ie(a).format("dddd DD MMMM YYYY")})]}),X.length===0?E.jsx("div",{style:{padding:"2rem",textAlign:"center",background:"#f8d7da",color:"#721c24",borderRadius:"8px",fontSize:"1.1rem"},children:"Tous les crneaux sont rservs pour cette date. Veuillez choisir un autre jour."}):E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginTop:"1.5rem"},children:X.map(j=>E.jsx("button",{onClick:()=>V(j),style:{padding:"1rem",border:o===j?"2px solid #2c5aa0":"1px solid #ddd",background:o===j?"#2c5aa0":"white",color:o===j?"white":"#333",borderRadius:"8px",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s",transform:o===j?"scale(1.05)":"scale(1)"},children:j},j))})]}),f&&o&&E.jsxs("div",{style:{marginTop:"2rem",padding:"2rem",background:"white",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[E.jsx("h2",{style:{color:"#2c5aa0",marginBottom:"1.5rem"},children:"tape 4 : Vos informations"}),E.jsxs("div",{style:{padding:"1rem",background:"#e3f2fd",borderRadius:"8px",marginBottom:"2rem",textAlign:"center"},children:[E.jsx("strong",{children:"Rcapitulatif :"})," ",ie(a).format("DD/MM/YYYY"),"  ",o,D.length>0&&E.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.95rem"},children:["Options : ",D.map(j=>L.find(se=>se.id===j).nom).join(", ")]})]}),E.jsxs("form",{children:[E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[E.jsxs("div",{children:[E.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Nom *"}),E.jsx("input",{type:"text",name:"nom",value:_.nom,onChange:P,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border 0.3s"}})]}),E.jsxs("div",{children:[E.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Prnom *"}),E.jsx("input",{type:"text",name:"prenom",value:_.prenom,onChange:P,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border 0.3s"}})]})]}),E.jsxs("div",{style:{marginBottom:"1rem"},children:[E.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Email *"}),E.jsx("input",{type:"email",name:"email",value:_.email,onChange:P,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border 0.3s"}})]}),E.jsxs("div",{style:{marginBottom:"2rem"},children:[E.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Tlphone *"}),E.jsx("input",{type:"tel",name:"telephone",value:_.telephone,onChange:P,placeholder:"06 12 34 56 78",required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border 0.3s"}})]}),E.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"#f8f9fa",borderRadius:"12px",border:"2px solid #dee2e6"},children:[E.jsx("h3",{style:{color:"#2c5aa0",marginTop:0,marginBottom:"1.5rem"},children:" Mode de paiement"}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsx("div",{onClick:()=>S("stripe"),style:{padding:"1.5rem",border:b==="stripe"?"3px solid #635bff":"2px solid #ddd",background:b==="stripe"?"#f7f6ff":"white",borderRadius:"10px",cursor:"pointer",transition:"all 0.3s",transform:b==="stripe"?"scale(1.02)":"scale(1)"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[E.jsx("input",{type:"radio",name:"payment",checked:b==="stripe",onChange:()=>S("stripe"),style:{width:"20px",height:"20px",cursor:"pointer"}}),E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"0.5rem"},children:" Paiement en ligne par carte"}),E.jsx("div",{style:{color:"#666",fontSize:"0.95rem"},children:"Paiement scuris via Stripe  Confirmation immdiate"})]})]})}),E.jsx("div",{onClick:()=>S("cash"),style:{padding:"1.5rem",border:b==="cash"?"3px solid #28a745":"2px solid #ddd",background:b==="cash"?"#f1f9f3":"white",borderRadius:"10px",cursor:"pointer",transition:"all 0.3s",transform:b==="cash"?"scale(1.02)":"scale(1)"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[E.jsx("input",{type:"radio",name:"payment",checked:b==="cash",onChange:()=>S("cash"),style:{width:"20px",height:"20px",cursor:"pointer"}}),E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"0.5rem"},children:" Paiement sur place"}),E.jsxs("div",{style:{color:"#666",fontSize:"0.95rem"},children:["Espces ou carte le jour du rendez-vous  Total : ",N(),""]})]})]})})]})]}),b==="stripe"&&E.jsx("button",{onClick:be,disabled:g,style:{width:"100%",padding:"1.5rem",background:g?"#6c757d":"#635bff",color:"white",border:"none",borderRadius:"12px",fontSize:"1.2rem",fontWeight:"bold",cursor:g?"not-allowed":"pointer",transition:"all 0.3s",transform:"scale(1)"},onMouseOver:j=>!g&&(j.target.style.transform="scale(1.02)"),onMouseOut:j=>!g&&(j.target.style.transform="scale(1)"),children:g?"Redirection...":` Payer ${N()} avec Stripe`}),b==="cash"&&E.jsx("button",{onClick:me,disabled:g,style:{width:"100%",padding:"1.5rem",background:g?"#6c757d":"#28a745",color:"white",border:"none",borderRadius:"12px",fontSize:"1.2rem",fontWeight:"bold",cursor:g?"not-allowed":"pointer",transition:"all 0.3s"},onMouseOver:j=>!g&&(j.target.style.transform="scale(1.02)"),onMouseOut:j=>!g&&(j.target.style.transform="scale(1)"),children:g?"Rservation en cours...":` Confirmer la rservation (${N()} sur place)`}),!b&&E.jsx("div",{style:{width:"100%",padding:"1.5rem",background:"#e9ecef",color:"#6c757d",border:"2px dashed #adb5bd",borderRadius:"12px",fontSize:"1.1rem",fontWeight:"bold",textAlign:"center"},children:" Veuillez choisir un mode de paiement"})]}),E.jsx("p",{style:{marginTop:"1rem",textAlign:"center",color:"#666",fontSize:"0.9rem"},children:" Vos donnes sont scurises et ne seront pas partages"})]}),E.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:E.jsx(Vi,{to:"/",style:{padding:"1rem 2rem",background:"#6c757d",color:"white",textDecoration:"none",borderRadius:"8px",display:"inline-block"},children:"Retour"})})]})}ie.locale("fr");const pde=qS(ie);function gde(){const t=sm(),{reservations:e,ajouterReservation:n,getHorairesDisponibles:r,getReservationsParDate:i}=w_();F.useEffect(()=>{window.scrollTo(0,0)},[]);const[a,s]=F.useState(null),[o,l]=F.useState(""),[u,d]=F.useState(new Date),[f,m]=F.useState(!1),[g,A]=F.useState(!1),[b,S]=F.useState(""),[_,T]=F.useState({nom:"",prenom:"",email:"",telephone:""}),[D,O]=F.useState([]),L=[{id:"interieur",nom:"Shampouineuses sige, tapis et moquettes",prix:25},{id:"jantes",nom:"Lavage extrieur avec shampoing",prix:20},{id:"polish",nom:"Lavage moteur",prix:15},{id:"cire",nom:"Elimination poils d'animaux",prix:15},{id:"vitres",nom:"Vhicules trs sale (ex: vomis..)",prix:15}],z=j=>j?r(j):[],I=j=>{const J=new Date;J.setHours(0,0,0,0),j.start>=J?(s(j.start),l(""),m(!1),S("")):alert("Vous ne pouvez pas rserver dans le pass")},R=j=>{const J=new Date;J.setHours(0,0,0,0);const se=new Date(j);se.setHours(0,0,0,0),se>=J?(s(j),l(""),m(!1),S("")):alert("Vous ne pouvez pas rserver dans le pass")},C=j=>{d(j)},P=j=>{const{name:J,value:se}=j.target;T({..._,[J]:se})},V=j=>{l(j),m(!0)},$=j=>{O(J=>J.includes(j)?J.filter(se=>se!==j):[...J,j])},N=()=>120+D.reduce((se,ue)=>{const Q=L.find(Z=>Z.id===ue);return se+(Q?Q.prix:0)},0),me=async j=>{if(j.preventDefault(),!a||!o){alert("Veuillez slectionner une date et une heure");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_.email)){alert("Veuillez entrer un email valide");return}if(!/^[0-9\s+()-]{10,}$/.test(_.telephone)){alert("Veuillez entrer un numro de tlphone valide");return}A(!0);try{const ue=N(),Q=D.length>0?D.map(re=>{const ae=L.find(W=>W.id===re);return`${ae.nom} (+${ae.prix})`}).join(", "):"Aucune option supplmentaire";await n(a,o,"Argent");const Z={nom:_.nom,prenom:_.prenom,email:_.email,telephone:_.telephone,date:ie(a).format("DD/MM/YYYY"),dateISO:a.toISOString(),heure:o,options:D,optionsTexte:Q,formule:"Argent",prixTotal:ue,paymentMethod:"cash"};t(`/reservation-success?data=${encodeURIComponent(JSON.stringify(Z))}&payment=cash`)}catch(ue){console.error("Erreur:",ue),alert(`Erreur lors de la rservation: ${ue.message||"Veuillez ressayer."}`),A(!1)}},be=async j=>{if(j.preventDefault(),!a||!o){alert("Veuillez slectionner une date et une heure");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_.email)){alert("Veuillez entrer un email valide");return}if(!/^[0-9\s+()-]{10,}$/.test(_.telephone)){alert("Veuillez entrer un numro de tlphone valide");return}A(!0);try{const ue=N(),Q=D.length>0?D.map(Re=>{const Lt=L.find(Bn=>Bn.id===Re);return`${Lt.nom} (+${Lt.prix})`}).join(", "):"Aucune option supplmentaire",Z=`pending_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,re={nom:_.nom,prenom:_.prenom,email:_.email,telephone:_.telephone,date:ie(a).format("DD/MM/YYYY"),dateISO:a.toISOString(),heure:o,formule:"Argent",options:D,optionsTexte:Q,prixTotal:ue,status:"pending",createdAt:new Date().toISOString(),paymentMethod:"stripe"};await TE(Xc(ro,"pendingReservations",Z),re);const ae={from_name:`${_.prenom} ${_.nom}`,from_email:_.email,phone:_.telephone,date:ie(a).format("DD/MM/YYYY"),time:o,service:"Formule Argent - 80",options:Q,prix_total:`${ue}`,payment_status:" Paiement en ligne (Stripe)"};await Ju.send("service_1wryoqr","template_x1vgr07",ae,"KUPBmz5lg0pubUDdW"),console.log(" Email envoy avec succs");const W="https://buy.stripe.com/test_eVq00ldio4SNaHt3lM1oI02",xe=encodeURIComponent(`https://alaajee.github.io/MugiWash/reservation-success?payment=stripe&reservationId=${Z}`),Pe=`${W}?prefilled_email=${encodeURIComponent(_.email)}&success_url=${xe}`;window.location.href=Pe}catch(ue){console.error("Erreur:",ue),alert(`Erreur lors du paiement: ${ue.message||"Veuillez ressayer."}`),A(!1)}},X=a?z(a):[];return a&&i(a),E.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[E.jsx("style",{children:`
        .rbc-calendar {
          transition: all 0.3s ease;
        }
        .rbc-day-bg {
          transition: background-color 0.2s ease;
          cursor: pointer;
        }
        .rbc-day-bg:hover {
          background-color: #f0f7ff !important;
        }
        .rbc-selected {
          background-color: #2c5aa0 !important;
        }
        .rbc-today {
          background-color: #e3f2fd;
        }
        .rbc-off-range-bg {
          background-color: #fafafa;
        }
        .rbc-date-cell {
          padding: 8px;
          transition: all 0.2s ease;
          cursor: pointer;
        }
        .rbc-date-cell:hover {
          transform: scale(1.05);
        }
        .rbc-button-link {
          transition: color 0.2s ease;
          cursor: pointer;
        }
        .rbc-button-link:hover {
          color: #2c5aa0;
        }
        .rbc-active {
          background-color: #2c5aa0 !important;
          color: white !important;
          box-shadow: 0 2px 8px rgba(44, 90, 160, 0.3);
        }
        .rbc-toolbar button {
          transition: all 0.2s ease;
          border-radius: 6px;
        }
        .rbc-toolbar button:hover {
          background-color: #2c5aa0;
          color: white;
          transform: translateY(-1px);
        }
        
        /* Mobile: rendre les dates plus cliquables */
        @media (max-width: 768px) {
          .rbc-date-cell {
            padding: 12px 8px;
            min-height: 50px;
          }
          .rbc-button-link {
            padding: 8px;
            display: block;
          }
        }
      `}),E.jsx("h1",{style:{textAlign:"center",color:"#2c5aa0",marginBottom:"2rem"},children:"Rservation Formule Or - 120"}),E.jsxs("div",{style:{marginTop:"2rem",padding:"2rem",background:"#fff8e1",borderRadius:"12px",border:"2px solid #ffc107"},children:[E.jsx("h2",{style:{color:"#2c5aa0",marginBottom:"1rem"},children:"tape 1 : Options supplmentaires (facultatif)"}),E.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Amliorez votre prestation avec nos options premium"}),E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1rem"},children:L.map(j=>E.jsxs("div",{onClick:()=>$(j.id),style:{padding:"1rem",border:D.includes(j.id)?"2px solid #2c5aa0":"1px solid #ddd",background:D.includes(j.id)?"#e3f2fd":"white",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s",display:"flex",justifyContent:"space-between",alignItems:"center",transform:D.includes(j.id)?"scale(1.02)":"scale(1)"},children:[E.jsxs("div",{children:[E.jsx("input",{type:"checkbox",checked:D.includes(j.id),onChange:()=>{},style:{marginRight:"0.5rem",cursor:"pointer"}}),E.jsx("strong",{children:j.nom})]}),E.jsxs("span",{style:{color:"#2c5aa0",fontWeight:"bold",fontSize:"1.1rem"},children:["+",j.prix,""]})]},j.id))}),E.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#2c5aa0",color:"white",borderRadius:"8px",textAlign:"center",fontSize:"1.3rem",fontWeight:"bold"},children:["Prix total : ",N(),""]})]}),E.jsxs("div",{style:{marginTop:"2rem"},children:[E.jsx("h2",{style:{color:"#2c5aa0"},children:"tape 2 : Slectionnez une date"}),E.jsx("div",{style:{height:"600px",marginTop:"1rem",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:E.jsx(HS,{localizer:pde,events:[],startAccessor:"start",endAccessor:"end",style:{height:"100%"},onSelectSlot:I,onSelectEvent:j=>R(j.start),onNavigate:C,onDrillDown:R,date:u,selectable:!0,views:["month"],defaultView:"month",longPressThreshold:10,messages:{next:"Suivant",previous:"Prcdent",today:"Aujourd'hui",month:"Mois"},dayPropGetter:j=>{const J=ie(j).format("YYYY-MM-DD"),se=a?ie(a).format("YYYY-MM-DD"):null;return J===se?{className:"rbc-selected",style:{backgroundColor:"#2c5aa0",color:"white"}}:{}},eventPropGetter:j=>({style:{backgroundColor:"#2c5aa0",borderRadius:"5px",opacity:.8,color:"white",border:"0px",display:"block"}})})})]}),a&&E.jsxs("div",{style:{marginTop:"2rem",padding:"2rem",background:"#f9f9f9",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[E.jsx("h2",{style:{color:"#2c5aa0"},children:"tape 3 : Choisissez une heure"}),E.jsxs("p",{style:{marginBottom:"1rem",color:"#555",fontSize:"1.1rem"},children:["Date slectionne : ",E.jsx("strong",{children:ie(a).format("dddd DD MMMM YYYY")})]}),X.length===0?E.jsx("div",{style:{padding:"2rem",textAlign:"center",background:"#f8d7da",color:"#721c24",borderRadius:"8px",fontSize:"1.1rem"},children:"Tous les crneaux sont rservs pour cette date. Veuillez choisir un autre jour."}):E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginTop:"1.5rem"},children:X.map(j=>E.jsx("button",{onClick:()=>V(j),style:{padding:"1rem",border:o===j?"2px solid #2c5aa0":"1px solid #ddd",background:o===j?"#2c5aa0":"white",color:o===j?"white":"#333",borderRadius:"8px",fontSize:"1.1rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s",transform:o===j?"scale(1.05)":"scale(1)"},children:j},j))})]}),f&&o&&E.jsxs("div",{style:{marginTop:"2rem",padding:"2rem",background:"white",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[E.jsx("h2",{style:{color:"#2c5aa0",marginBottom:"1.5rem"},children:"tape 4 : Vos informations"}),E.jsxs("div",{style:{padding:"1rem",background:"#e3f2fd",borderRadius:"8px",marginBottom:"2rem",textAlign:"center"},children:[E.jsx("strong",{children:"Rcapitulatif :"})," ",ie(a).format("DD/MM/YYYY"),"  ",o,D.length>0&&E.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.95rem"},children:["Options : ",D.map(j=>L.find(se=>se.id===j).nom).join(", ")]})]}),E.jsxs("form",{children:[E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[E.jsxs("div",{children:[E.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Nom *"}),E.jsx("input",{type:"text",name:"nom",value:_.nom,onChange:P,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border 0.3s"}})]}),E.jsxs("div",{children:[E.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Prnom *"}),E.jsx("input",{type:"text",name:"prenom",value:_.prenom,onChange:P,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border 0.3s"}})]})]}),E.jsxs("div",{style:{marginBottom:"1rem"},children:[E.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Email *"}),E.jsx("input",{type:"email",name:"email",value:_.email,onChange:P,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border 0.3s"}})]}),E.jsxs("div",{style:{marginBottom:"2rem"},children:[E.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Tlphone *"}),E.jsx("input",{type:"tel",name:"telephone",value:_.telephone,onChange:P,placeholder:"06 12 34 56 78",required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",transition:"border 0.3s"}})]}),E.jsxs("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"#f8f9fa",borderRadius:"12px",border:"2px solid #dee2e6"},children:[E.jsx("h3",{style:{color:"#2c5aa0",marginTop:0,marginBottom:"1.5rem"},children:" Mode de paiement"}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsx("div",{onClick:()=>S("stripe"),style:{padding:"1.5rem",border:b==="stripe"?"3px solid #635bff":"2px solid #ddd",background:b==="stripe"?"#f7f6ff":"white",borderRadius:"10px",cursor:"pointer",transition:"all 0.3s",transform:b==="stripe"?"scale(1.02)":"scale(1)"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[E.jsx("input",{type:"radio",name:"payment",checked:b==="stripe",onChange:()=>S("stripe"),style:{width:"20px",height:"20px",cursor:"pointer"}}),E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"0.5rem"},children:" Paiement en ligne par carte"}),E.jsx("div",{style:{color:"#666",fontSize:"0.95rem"},children:"Paiement scuris via Stripe  Confirmation immdiate"})]})]})}),E.jsx("div",{onClick:()=>S("cash"),style:{padding:"1.5rem",border:b==="cash"?"3px solid #28a745":"2px solid #ddd",background:b==="cash"?"#f1f9f3":"white",borderRadius:"10px",cursor:"pointer",transition:"all 0.3s",transform:b==="cash"?"scale(1.02)":"scale(1)"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[E.jsx("input",{type:"radio",name:"payment",checked:b==="cash",onChange:()=>S("cash"),style:{width:"20px",height:"20px",cursor:"pointer"}}),E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"0.5rem"},children:" Paiement sur place"}),E.jsxs("div",{style:{color:"#666",fontSize:"0.95rem"},children:["Espces ou carte le jour du rendez-vous  Total : ",N(),""]})]})]})})]})]}),b==="stripe"&&E.jsx("button",{onClick:be,disabled:g,style:{width:"100%",padding:"1.5rem",background:g?"#6c757d":"#635bff",color:"white",border:"none",borderRadius:"12px",fontSize:"1.2rem",fontWeight:"bold",cursor:g?"not-allowed":"pointer",transition:"all 0.3s",transform:"scale(1)"},onMouseOver:j=>!g&&(j.target.style.transform="scale(1.02)"),onMouseOut:j=>!g&&(j.target.style.transform="scale(1)"),children:g?"Redirection...":` Payer ${N()} avec Stripe`}),b==="cash"&&E.jsx("button",{onClick:me,disabled:g,style:{width:"100%",padding:"1.5rem",background:g?"#6c757d":"#28a745",color:"white",border:"none",borderRadius:"12px",fontSize:"1.2rem",fontWeight:"bold",cursor:g?"not-allowed":"pointer",transition:"all 0.3s"},onMouseOver:j=>!g&&(j.target.style.transform="scale(1.02)"),onMouseOut:j=>!g&&(j.target.style.transform="scale(1)"),children:g?"Rservation en cours...":` Confirmer la rservation (${N()} sur place)`}),!b&&E.jsx("div",{style:{width:"100%",padding:"1.5rem",background:"#e9ecef",color:"#6c757d",border:"2px dashed #adb5bd",borderRadius:"12px",fontSize:"1.1rem",fontWeight:"bold",textAlign:"center"},children:" Veuillez choisir un mode de paiement"})]}),E.jsx("p",{style:{marginTop:"1rem",textAlign:"center",color:"#666",fontSize:"0.9rem"},children:" Vos donnes sont scurises et ne seront pas partages"})]}),E.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:E.jsx(Vi,{to:"/",style:{padding:"1rem 2rem",background:"#6c757d",color:"white",textDecoration:"none",borderRadius:"8px",display:"inline-block"},children:"Retour"})})]})}ie.locale("fr");function yde(){const[t]=xz(),{ajouterReservation:e}=w_(),[n,r]=F.useState("loading"),[i,a]=F.useState(null),[s,o]=F.useState(!1);return F.useEffect(()=>{(async()=>{try{console.log("=== DBUT FINALISATION ==="),console.log("URL complte:",window.location.href);const u=t.get("payment");let d=t.get("reservationId");if(u==="stripe"&&!d&&(d=sessionStorage.getItem("stripe_pending_reservation"),console.log("ID rcupr depuis sessionStorage:",d)),console.log("Payment type:",u),console.log("Reservation ID:",d),!u)throw new Error(`Paramtre "payment" manquant dans l'URL`);const f=`reservation_processed_${d||"cash"}`;if(sessionStorage.getItem(f)){console.log("Rservation dj traite");const g=sessionStorage.getItem(`reservation_data_${d||"cash"}`);if(g){const A=JSON.parse(g);a(A),o(A.paymentMethod==="cash"),r("success");return}}let m;if(u==="stripe"){console.log(" Mode Stripe dtect");let g=t.get("reservationId"),A;if(g||(g=sessionStorage.getItem("stripe_pending_reservation"),console.log(" ID rcupr depuis sessionStorage:",g)),g){console.log(" Rcupration depuis Firebase..."),A=Xc(ro,"pendingReservations",g);const S=await qhe(A);if(!S.exists())throw new Error(`Rservation ${g} non trouve dans Firebase`);m=S.data(),console.log(" Donnes rcupres:",m)}else{const S=sessionStorage.getItem("stripe_pending_email");if(S){console.log(" Recherche par email:",S);const{collection:_,query:T,where:D,getDocs:O}=await BC(()=>import("./index.esm-59a6eea7.js"),[]),L=T(_(ro,"pendingReservations"),D("email","==",S),D("status","==","pending")),z=await O(L);if(z.empty)throw new Error("Aucune rservation en attente trouve pour cet email");{const I=z.docs[0];g=I.id,m=I.data(),A=Xc(ro,"pendingReservations",g),console.log(" Rservation trouve par email:",g)}}else throw new Error("Impossible de retrouver la rservation")}sessionStorage.setItem(f,"true"),sessionStorage.setItem(`reservation_data_${g}`,JSON.stringify(m)),console.log(" Enregistrement dans reservations..."),await e(new Date(m.dateISO),m.heure,m.formule),console.log(" Rservation enregistre"),console.log(" Suppression pending..."),await Ghe(A),console.log(" Pending supprime");const b={from_name:`${m.prenom} ${m.nom}`,from_email:m.email,phone:m.telephone,date:m.date,time:m.heure,service:`Formule ${m.formule} - 50`,options:m.optionsTexte,prix_total:`${m.prixTotal}`,payment_status:" Pay via Stripe"};try{await Ju.send("service_1wryoqr","template_x1vgr07",b,"KUPBmz5lg0pubUDdW"),console.log(" Email client envoy")}catch(S){console.error(" Erreur email client:",S)}try{const S={...b,to_email:"votre-email@exemple.com"};await Ju.send("service_1wryoqr","template_x1vgr07",S,"KUPBmz5lg0pubUDdW"),console.log(" Email admin envoy")}catch(S){console.error(" Erreur email admin:",S)}sessionStorage.removeItem("stripe_pending_reservation")}else if(u==="cash"){console.log(" Mode Cash dtect");const g=t.get("data");if(!g)throw new Error('Paramtre "data" manquant pour paiement cash');m=JSON.parse(decodeURIComponent(g)),console.log(" Donnes cash rcupres:",m),sessionStorage.setItem(f,"true"),sessionStorage.setItem("reservation_data_cash",JSON.stringify(m)),await e(new Date(m.dateISO),m.heure,m.formule),console.log(" Rservation enregistre");const A={from_name:`${m.prenom} ${m.nom}`,from_email:m.email,phone:m.telephone,date:m.date,time:m.heure,service:`Formule ${m.formule} - 50`,options:m.optionsTexte,prix_total:`${m.prixTotal}`,payment_status:" Paiement sur place"};try{await Ju.send("service_1wryoqr","template_x1vgr07",A,"KUPBmz5lg0pubUDdW"),console.log(" Email client envoy")}catch(b){console.error(" Erreur email client:",b)}try{const b={...A,to_email:"votre-email@exemple.com"};await Ju.send("service_1wryoqr","template_x1vgr07",b,"KUPBmz5lg0pubUDdW"),console.log(" Email admin envoy")}catch(b){console.error(" Erreur email admin:",b)}}a(m),o(u==="cash"),r("success")}catch(u){console.error(" ERREUR FINALE:",u),r("error")}})()},[t,e]),n==="loading"?E.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[E.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"20px",textAlign:"center",maxWidth:"500px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[E.jsx("div",{style:{width:"80px",height:"80px",border:"6px solid #f3f3f3",borderTop:"6px solid #2c5aa0",borderRadius:"50%",margin:"0 auto 2rem",animation:"spin 1s linear infinite"}}),E.jsx("h2",{style:{color:"#2c5aa0",marginBottom:"1rem"},children:"Finalisation de votre rservation..."}),E.jsx("p",{style:{color:"#666"},children:"Veuillez patienter quelques instants"})]}),E.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]}):n==="error"?E.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",padding:"2rem"},children:E.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"20px",textAlign:"center",maxWidth:"600px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[E.jsx("div",{style:{fontSize:"5rem",marginBottom:"1rem"},children:""}),E.jsx("h1",{style:{color:"#dc3545",marginBottom:"1rem"},children:"Une erreur s'est produite"}),E.jsx("p",{style:{color:"#666",marginBottom:"2rem",fontSize:"1.1rem"},children:"Votre paiement a t effectu, mais nous n'avons pas pu finaliser votre rservation automatiquement."}),E.jsx("div",{style:{background:"#fff3cd",padding:"1.5rem",borderRadius:"10px",marginBottom:"2rem",border:"2px solid #ffc107"},children:E.jsx("p",{style:{margin:0,color:"#856404",fontWeight:"bold"},children:"Nous vous contacterons sous peu pour confirmer votre rservation. Consultez la console (F12) pour plus de dtails."})}),E.jsx(Vi,{to:"/",style:{display:"inline-block",padding:"1rem 2rem",background:"#2c5aa0",color:"white",textDecoration:"none",borderRadius:"10px",fontWeight:"bold"},children:"Retour  l'accueil"})]})}):E.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:s?"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"2rem"},children:E.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"20px",textAlign:"center",maxWidth:"700px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[E.jsx("div",{style:{fontSize:"6rem",marginBottom:"1rem"},children:""}),E.jsx("h1",{style:{color:"#28a745",marginBottom:"1rem",fontSize:"2.5rem"},children:s?"Rservation confirme !":"Paiement russi !"}),E.jsx("p",{style:{color:"#666",fontSize:"1.2rem",marginBottom:"2rem"},children:s?"Votre rservation a t enregistre avec succs":"Votre paiement a t accept et votre rservation est confirme"}),i&&E.jsxs("div",{style:{background:"#f8f9fa",padding:"2rem",borderRadius:"15px",marginBottom:"2rem",textAlign:"left"},children:[E.jsx("h2",{style:{color:"#2c5aa0",marginBottom:"1.5rem",textAlign:"center"},children:"Rcapitulatif"}),E.jsxs("div",{style:{marginBottom:"1rem"},children:[E.jsx("strong",{style:{color:"#2c5aa0"},children:"Client :"}),E.jsxs("p",{style:{margin:"0.5rem 0",color:"#333"},children:[i.prenom," ",i.nom]})]}),E.jsxs("div",{style:{marginBottom:"1rem"},children:[E.jsx("strong",{style:{color:"#2c5aa0"},children:"Email :"}),E.jsx("p",{style:{margin:"0.5rem 0",color:"#333"},children:i.email})]}),E.jsxs("div",{style:{marginBottom:"1rem"},children:[E.jsx("strong",{style:{color:"#2c5aa0"},children:"Tlphone :"}),E.jsx("p",{style:{margin:"0.5rem 0",color:"#333"},children:i.telephone})]}),E.jsxs("div",{style:{marginBottom:"1rem"},children:[E.jsx("strong",{style:{color:"#2c5aa0"},children:"Date et heure :"}),E.jsxs("p",{style:{margin:"0.5rem 0",color:"#333",fontSize:"1.1rem"},children:[i.date,"  ",i.heure]})]}),E.jsxs("div",{style:{marginBottom:"1rem"},children:[E.jsx("strong",{style:{color:"#2c5aa0"},children:"Formule :"}),E.jsxs("p",{style:{margin:"0.5rem 0",color:"#333"},children:[i.formule," (50)"]})]}),i.options&&i.options.length>0&&E.jsxs("div",{style:{marginBottom:"1rem"},children:[E.jsx("strong",{style:{color:"#2c5aa0"},children:"Options :"}),E.jsx("p",{style:{margin:"0.5rem 0",color:"#333"},children:i.optionsTexte})]}),E.jsx("div",{style:{marginTop:"1.5rem",padding:"1rem",background:s?"#28a745":"#635bff",color:"white",borderRadius:"10px",textAlign:"center",fontSize:"1.3rem",fontWeight:"bold"},children:s?` payer sur place : ${i.prixTotal}`:`Total pay : ${i.prixTotal}`})]}),E.jsx("div",{style:{background:s?"#fff3cd":"#d1ecf1",padding:"1.5rem",borderRadius:"10px",marginBottom:"2rem",border:`2px solid ${s?"#ffc107":"#bee5eb"}`},children:E.jsxs("p",{style:{margin:0,color:s?"#856404":"#0c5460"},children:["Un email de confirmation a t envoy  ",E.jsx("strong",{children:i==null?void 0:i.email}),s&&E.jsxs(E.Fragment,{children:[E.jsx("br",{}),E.jsx("strong",{children:"N'oubliez pas :"})," Le paiement de ",i==null?void 0:i.prixTotal," sera  effectuer sur place."]})]})}),E.jsx(Vi,{to:"/",style:{padding:"1rem 2rem",background:"#2c5aa0",color:"white",textDecoration:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1.1rem"},children:"Retour  l'accueil"})]})})}class jm{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const vde=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Rn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:vde()},AE=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},_de=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=AE(t);Rn.publicKey=n.publicKey,Rn.blockHeadless=n.blockHeadless,Rn.storageProvider=n.storageProvider,Rn.blockList=n.blockList,Rn.limitRate=n.limitRate,Rn.origin=n.origin||e},$L=async(t,e,n={})=>{const r=await fetch(Rn.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),a=new jm(r.status,i);if(r.ok)return a;throw a},UL=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},bde=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},zL=t=>t.webdriver||!t.languages||t.languages.length===0,FL=()=>new jm(451,"Unavailable For Headless Browser"),wde=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},Sde=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},Tde=(t,e)=>t instanceof FormData?t.get(e):t[e],BL=(t,e)=>{if(Sde(t))return!1;wde(t.list,t.watchVariable);const n=Tde(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},YL=()=>new jm(403,"Forbidden"),Ede=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},xde=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},HL=async(t,e,n)=>{if(!e.throttle||!n)return!1;Ede(e.throttle,e.id);const r=e.id||t;return await xde(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},qL=()=>new jm(429,"Too Many Requests"),Ade=async(t,e,n,r)=>{const i=AE(r),a=i.publicKey||Rn.publicKey,s=i.blockHeadless||Rn.blockHeadless,o=i.storageProvider||Rn.storageProvider,l={...Rn.blockList,...i.blockList},u={...Rn.limitRate,...i.limitRate};return s&&zL(navigator)?Promise.reject(FL()):(UL(a,t,e),bde(n),n&&BL(l,n)?Promise.reject(YL()):await HL(location.pathname,u,o)?Promise.reject(qL()):$L("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},Dde=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Rde=t=>typeof t=="string"?document.querySelector(t):t,Ide=async(t,e,n,r)=>{const i=AE(r),a=i.publicKey||Rn.publicKey,s=i.blockHeadless||Rn.blockHeadless,o=Rn.storageProvider||i.storageProvider,l={...Rn.blockList,...i.blockList},u={...Rn.limitRate,...i.limitRate};if(s&&zL(navigator))return Promise.reject(FL());const d=Rde(n);UL(a,t,e),Dde(d);const f=new FormData(d);return BL(l,f)?Promise.reject(YL()):await HL(location.pathname,u,o)?Promise.reject(qL()):(f.append("lib_version","4.4.1"),f.append("service_id",t),f.append("template_id",e),f.append("user_id",a),$L("/api/v1.0/email/send-form",f))},eb={init:_de,send:Ade,sendForm:Ide,EmailJSResponseStatus:jm};function Mde(){const[t,e]=F.useState(""),[n,r]=F.useState(!1),[i,a]=F.useState(!1),[s,o]=F.useState(!1),[l,u]=F.useState({date:"",reference:"",amount:""});F.useEffect(()=>{eb.init("KUPBmz5lg0pubUDdW");const m=new URLSearchParams(window.location.search).get("amount")||"50.00";u({date:new Date().toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),reference:`#${Date.now().toString(36).toUpperCase()}`,amount:`${m}`})},[]);const d=async()=>{if(t){r(!0),o(!1),a(!1);try{await eb.send("service_1wryoqr","template_hcf4fln",{to_email:t,date:l.date,reference:l.reference,amount:l.amount},"KUPBmz5lg0pubUDdW"),await eb.send("service_1wryoqr","template_x1vgr07",{to_email:"alaejennine33@gmail.com",client_email:t,date:l.date,reference:l.reference,amount:l.amount},"KUPBmz5lg0pubUDdW"),a(!0),e("")}catch(f){console.error("Erreur EmailJS:",f),o(!0)}finally{r(!1)}}};return E.jsx("div",{className:"page",children:E.jsxs("div",{className:"card",children:[E.jsx("div",{className:"success-icon",children:E.jsx("svg",{className:"icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),E.jsx("h1",{className:"title",children:"Paiement Confirm ! "}),E.jsx("p",{className:"subtitle",children:"Merci pour votre commande"}),E.jsxs("div",{className:"payment-details",children:[E.jsxs("div",{className:"detail-row",children:[E.jsx("span",{className:"label",children:"Date :"}),E.jsx("span",{className:"value",children:l.date})]}),E.jsxs("div",{className:"detail-row",children:[E.jsx("span",{className:"label",children:"Rfrence :"}),E.jsx("span",{className:"value",children:l.reference})]}),E.jsxs("div",{className:"detail-row",children:[E.jsx("span",{className:"label",children:"Montant :"}),E.jsx("span",{className:"value",children:l.amount})]})]}),!i&&E.jsxs("div",{children:[E.jsx("h2",{className:"email-title",children:" Recevoir la confirmation par email"}),E.jsxs("div",{className:"form",children:[E.jsx("label",{htmlFor:"email",children:"Votre adresse email"}),E.jsx("input",{type:"email",id:"email",value:t,onChange:f=>e(f.target.value),onKeyPress:f=>f.key==="Enter"&&d(),placeholder:"exemple@email.com",disabled:n}),E.jsx("button",{onClick:d,disabled:n||!t,children:n?"Envoi en cours...":"Envoyer la confirmation"})]})]}),i&&E.jsx("div",{className:"msg success",children:" Email de confirmation envoy avec succs !"}),s&&E.jsx("div",{className:"msg error",children:" Erreur lors de l'envoi. Veuillez ressayer."})]})})}rU.createRoot(document.getElementById("root")).render(E.jsx(B.StrictMode,{children:E.jsx(cde,{children:E.jsx(bz,{children:E.jsxs(KU,{children:[E.jsx(As,{path:"/",element:E.jsx(Nz,{})}),E.jsx(As,{path:"/reserver",element:E.jsx(kz,{})}),E.jsx(As,{path:"/reserver-bronze",element:E.jsx(dde,{})}),E.jsx(As,{path:"/reserver-argent",element:E.jsx(mde,{})}),E.jsx(As,{path:"/reserver-or",element:E.jsx(gde,{})}),E.jsx(As,{path:"/reservation-success",element:E.jsx(yde,{})}),E.jsx(As,{path:"/payment-confirmation",element:E.jsx(Mde,{})})]})})})}));export{VI as $,kL as A,gr as B,zi as C,ut as D,Ufe as E,eu as F,Fi as G,$fe as H,Vde as I,qr as J,xle as K,Nhe as L,Whe as M,ofe as N,lfe as O,ode as P,En as Q,Xde as R,Fs as S,rt as T,Mfe as U,ci as V,ide as W,Ife as X,sfe as Y,Bde as Z,_T as _,$f as a,Kde as a$,Lde as a0,Phe as a1,Yhe as a2,jfe as a3,Ghe as a4,Dfe as a5,qde as a6,Lfe as a7,Xc as a8,Wde as a9,Sfe as aA,Vhe as aB,ew as aC,vfe as aD,_fe as aE,Qde as aF,Zde as aG,Efe as aH,xfe as aI,nde as aJ,Bhe as aK,wL as aL,cfe as aM,jde as aN,Afe as aO,Rfe as aP,TE as aQ,Nfe as aR,Cde as aS,hfe as aT,nfe as aU,tfe as aV,afe as aW,Gde as aX,yfe as aY,Cfe as aZ,Yde as a_,ufe as aa,zde as ab,Fde as ac,Hde as ad,Vfe as ae,ife as af,rfe as ag,Ut as ah,Lm as ai,Khe as aj,bfe as ak,qhe as al,dfe as am,ffe as an,mfe as ao,pfe as ap,gfe as aq,khe as ar,kfe as as,Ofe as at,Ude as au,Jde as av,efe as aw,UI as ax,wfe as ay,Tfe as az,Lhe as b,Pfe as b0,wr as c,tu as d,gt as e,ee as f,Ih as g,km as h,Pg as i,__ as j,Vm as k,$de as l,y_ as m,wE as n,Sr as o,v_ as p,sde as q,Kt as r,kl as s,de as t,Nde as u,ple as v,Pt as w,zfe as x,je as y,Pde as z};
